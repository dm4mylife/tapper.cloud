{"uid":"e67a332120044aa8","name":"Выбираем рандомно блюда для оплаты, проверяем все суммы, без чаевых но с СБ","fullName":"tapper.tests.e2e.PartPayNoTipScTest.chooseDishesForPay","historyId":"74c73ad57cdb8af907a1059594c2c79a","time":{"start":1668452770186,"stop":1668452777224,"duration":7038},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"browserLogs","time":{"start":1668452751602,"stop":1668452751602,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"setUp","time":{"start":1668452751603,"stop":1668452751603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"setupAllureReports","time":{"start":1668452751603,"stop":1668452751603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Выбираем рандомно блюдо для оплаты, проверяем все суммы, без чаевых но с СБ","time":{"start":1668452770186,"stop":1668452777224,"duration":7038},"status":"passed","steps":[{"name":"Выбираем рандомное число блюд (1), проверяем сумму, без чаевых, с сервисным сбором","time":{"start":1668452770186,"stop":1668452777224,"duration":7038},"status":"passed","steps":[{"name":"Выбираем рандомное число блюд (1) и считаем их сумму","time":{"start":1668452770186,"stop":1668452773759,"duration":3573},"status":"passed","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","time":{"start":1668452770186,"stop":1668452772892,"duration":2706},"status":"passed","steps":[{"name":"Принудительное ожидание","time":{"start":1668452770186,"stop":1668452772687,"duration":2501},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","time":{"start":1668452772731,"stop":1668452772755,"duration":24},"status":"passed","steps":[{"name":"$(\".divide__check span.slider\") should be([visible, 5 s.])","time":{"start":1668452772731,"stop":1668452772755,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"},{"name":"time","value":"5"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1668452772794,"stop":1668452772892,"duration":98},"status":"passed","steps":[{"name":"$(\".divide__check span.slider\") should be(visible)","time":{"start":1668452772794,"stop":1668452772810,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".divide__check span.slider\") click()","time":{"start":1668452772810,"stop":1668452772892,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму выбранных рандомных позиций","time":{"start":1668452772892,"stop":1668452773759,"duration":867},"status":"passed","steps":[{"name":"Принудительно прячем таббар","time":{"start":1668452772893,"stop":1668452772897,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 3","time":{"start":1668452772920,"stop":1668452772920,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"3"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\"By.xpath: //*[@class=\"dishList__item active\"][not(@class=\"paid\") and not(@class=\"disabled\")]//input[0]\") is selected()","time":{"start":1668452772920,"stop":1668452772943,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452773009,"stop":1668452773035,"duration":26},"status":"passed","steps":[{"name":"$(\"By.xpath: //*[@class=\"dishList__item active\"][not(@class=\"paid\") and not(@class=\"disabled\")]//*[@class='sum'][0]\") get text()","time":{"start":1668452773009,"stop":1668452773035,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\"By.xpath: //*[@class=\"dishList__item active\"][not(@class=\"paid\") and not(@class=\"disabled\")]//*[@class='dish__checkbox-content'][0]\") get text()","time":{"start":1668452773036,"stop":1668452773070,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Скрол до элемента и клик по нему","time":{"start":1668452773130,"stop":1668452773211,"duration":81},"status":"passed","steps":[{"name":"$(\"By.xpath: //*[@class=\"dishList__item active\"][not(@class=\"paid\") and not(@class=\"disabled\")]//*[@class='dish__checkbox-content'][0]\") scroll into view(false)","time":{"start":1668452773130,"stop":1668452773143,"duration":13},"status":"passed","steps":[{"name":"$(\"By.xpath: //*[@class=\"dishList__item active\"][not(@class=\"paid\") and not(@class=\"disabled\")]//*[@class='dish__checkbox-content'][0]\") get wrapped element()","time":{"start":1668452773130,"stop":1668452773138,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\"By.xpath: //*[@class=\"dishList__item active\"][not(@class=\"paid\") and not(@class=\"disabled\")]//*[@class='dish__checkbox-content'][0]\") click()","time":{"start":1668452773143,"stop":1668452773211,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\"By.xpath: //*[@class=\"dishList__item active\"][not(@class=\"paid\") and not(@class=\"disabled\")]//input[0]\") should be([checked, 10 s.])","time":{"start":1668452773211,"stop":1668452773749,"duration":538},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительно раскрываем таббар","time":{"start":1668452773750,"stop":1668452773759,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"1"}],"stepsCount":12,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"stepsCount":20,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверям сумму выбранных позиций заказа. Без чаевых, с СБ","time":{"start":1668452773759,"stop":1668452777224,"duration":3465},"status":"passed","steps":[{"name":"Считаем сумму всех выбранных позиций при разделении заказа","time":{"start":1668452773759,"stop":1668452774010,"duration":251},"status":"passed","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(3 elements)[0]/input+span\") get css value(background-image)","time":{"start":1668452773771,"stop":1668452773791,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452773836,"stop":1668452773856,"duration":20},"status":"passed","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(3 elements)[0]/.sum\") get text()","time":{"start":1668452773836,"stop":1668452773855,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(3 elements)[0]/.dish__checkbox-text\") get text()","time":{"start":1668452773856,"stop":1668452773872,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(3 elements)[1]/input+span\") get css value(background-image)","time":{"start":1668452773872,"stop":1668452773890,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(3 elements)[2]/input+span\") get css value(background-image)","time":{"start":1668452773891,"stop":1668452773914,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452773989,"stop":1668452774010,"duration":21},"status":"passed","steps":[{"name":"$(\"By.xpath: //*[@class=\"check__tips-heading\"][text()=\"Отмеченные позиции:\"]/following-sibling::span\") get text()","time":{"start":1668452773989,"stop":1668452774010,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выставляем чаевые на 0 и активируем СБ","time":{"start":1668452774010,"stop":1668452776047,"duration":2037},"status":"passed","steps":[{"name":"Выставляем чаевые на 0, проверяем что кнопка активна и суммы пересчитались","time":{"start":1668452774010,"stop":1668452775787,"duration":1777},"status":"passed","steps":[{"name":"$(\".tips\") exists()","time":{"start":1668452774010,"stop":1668452774017,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Плавный скрол до самого низа страницы","time":{"start":1668452774017,"stop":1668452775022,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1668452775076,"stop":1668452775155,"duration":79},"status":"passed","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","time":{"start":1668452775076,"stop":1668452775094,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","time":{"start":1668452775094,"stop":1668452775154,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 2 s.])","time":{"start":1668452775155,"stop":1668452775173,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка логики суммы сервисного сбора с общей суммый и чаевыми","time":{"start":1668452775173,"stop":1668452775482,"duration":309},"status":"passed","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","time":{"start":1668452775173,"stop":1668452775184,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1668452775184,"stop":1668452775210,"duration":26},"status":"passed","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","time":{"start":1668452775184,"stop":1668452775190,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","time":{"start":1668452775190,"stop":1668452775210,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775210,"stop":1668452775210,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775266,"stop":1668452775283,"duration":17},"status":"passed","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","time":{"start":1668452775266,"stop":1668452775283,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775283,"stop":1668452775283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\".tips\") exists()","time":{"start":1668452775283,"stop":1668452775296,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".custom-input input\") get value()","time":{"start":1668452775296,"stop":1668452775318,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775318,"stop":1668452775318,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775318,"stop":1668452775318,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.32"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775360,"stop":1668452775378,"duration":18},"status":"passed","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","time":{"start":1668452775360,"stop":1668452775378,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775436,"stop":1668452775457,"duration":21},"status":"passed","steps":[{"name":"$(\".priceCard>span\") get text()","time":{"start":1668452775436,"stop":1668452775457,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1668452775457,"stop":1668452775475,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1668452775475,"stop":1668452775482,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"stepsCount":18,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1668452775528,"stop":1668452775546,"duration":18},"status":"passed","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","time":{"start":1668452775528,"stop":1668452775546,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775602,"stop":1668452775619,"duration":17},"status":"passed","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","time":{"start":1668452775602,"stop":1668452775619,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\".custom-input input\") get value()","time":{"start":1668452775619,"stop":1668452775635,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775707,"stop":1668452775725,"duration":18},"status":"passed","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","time":{"start":1668452775707,"stop":1668452775725,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775767,"stop":1668452775787,"duration":20},"status":"passed","steps":[{"name":"$(\".priceCard>span\") get text()","time":{"start":1668452775767,"stop":1668452775787,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"stepsCount":34,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммый и чаевыми","time":{"start":1668452775787,"stop":1668452776047,"duration":260},"status":"passed","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","time":{"start":1668452775787,"stop":1668452775794,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1668452775794,"stop":1668452775814,"duration":20},"status":"passed","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","time":{"start":1668452775794,"stop":1668452775801,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","time":{"start":1668452775801,"stop":1668452775814,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775814,"stop":1668452775814,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775860,"stop":1668452775879,"duration":19},"status":"passed","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","time":{"start":1668452775860,"stop":1668452775878,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775879,"stop":1668452775879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"$(\".tips\") exists()","time":{"start":1668452775879,"stop":1668452775887,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".custom-input input\") get value()","time":{"start":1668452775887,"stop":1668452775904,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775904,"stop":1668452775904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1668452775904,"stop":1668452775904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.32"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452775958,"stop":1668452775975,"duration":17},"status":"passed","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","time":{"start":1668452775959,"stop":1668452775974,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452776011,"stop":1668452776028,"duration":17},"status":"passed","steps":[{"name":"$(\".priceCard>span\") get text()","time":{"start":1668452776012,"stop":1668452776028,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1668452776029,"stop":1668452776040,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1668452776040,"stop":1668452776047,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"stepsCount":18,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"stepsCount":54,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверям что сумма всех блюд совпадает с итоговой без чаевыех и СБ","time":{"start":1668452776047,"stop":1668452777214,"duration":1167},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","time":{"start":1668452776093,"stop":1668452776109,"duration":16},"status":"passed","steps":[{"name":"$(\".check__totalPay-heading+span\") should be([visible, 2 s.])","time":{"start":1668452776093,"stop":1668452776109,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"time","value":"2"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Деактивируем СБ если активен","time":{"start":1668452776109,"stop":1668452777155,"duration":1046},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1668452776109,"stop":1668452777112,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".payment__conditions:first-of-type\") exists()","time":{"start":1668452777112,"stop":1668452777121,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","time":{"start":1668452777121,"stop":1668452777144,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1668452777144,"stop":1668452777155,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1668452777197,"stop":1668452777214,"duration":17},"status":"passed","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","time":{"start":1668452777197,"stop":1668452777214,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"155.0"}],"stepsCount":9,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверям что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","time":{"start":1668452777214,"stop":1668452777224,"duration":10},"status":"passed","steps":[{"name":"$(\".menu\") exists()","time":{"start":1668452777214,"stop":1668452777224,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":76,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"stepsCount":98,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":99,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":100,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1668452816298,"stop":1668452816383,"duration":85},"status":"passed","steps":[{"name":"$(\"webdriver\") close()","time":{"start":1668452816298,"stop":1668452816383,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e.PartPayNoTipScTest]/[method:chooseDishesForPay()]"},{"name":"feature","value":"keeper - частичная оплата - рандомные поз без скидки - без чая, с сб - карта - отзыв"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"host","value":"fv-az256-563"},{"name":"thread","value":"2379@fv-az256-563.ForkJoinPool-1-worker-3(15)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e.PartPayNoTipScTest"},{"name":"testClass","value":"tapper.tests.e2e.PartPayNoTipScTest"},{"name":"testMethod","value":"chooseDishesForPay"},{"name":"suite","value":"keeper - частичная оплата - рандомные поз без скидки - без чая, с сб - карта - отзыв"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"e67a332120044aa8.json","parameterValues":[]}