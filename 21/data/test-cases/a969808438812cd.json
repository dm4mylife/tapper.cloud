{"uid":"a969808438812cd","name":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","fullName":"tapper.tests.keeper_e2e._6_waiter._6_2_VerifiedPartNoCardNoScTest.chooseDishesAndCheckAfterDivided","historyId":"f87d609c28bdb2771787dfff966d5bda","time":{"start":1670332885118,"stop":1670332892837,"duration":7719},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1670332852036,"stop":1670332852036,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Выбираем рандомное число блюд (3), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1670332885118,"stop":1670332891606,"duration":6488},"status":"passed","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","time":{"start":1670332885118,"stop":1670332887339,"duration":2221},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1670332885118,"stop":1670332887118,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","time":{"start":1670332887180,"stop":1670332887197,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-63689a2c></span>"},{"name":"time","value":"5"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332887238,"stop":1670332887339,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-63689a2c></span>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1670332887339,"stop":1670332889435,"duration":2096},"status":"passed","steps":[{"name":"Принудительно прячем таббар","time":{"start":1670332887339,"stop":1670332887344,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1670332887366,"stop":1670332887366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332887448,"stop":1670332887466,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Скрол до элемента и клик по нему","time":{"start":1670332887549,"stop":1670332887628,"duration":79},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-e5a69182>Барное пиво</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (300 мс)","time":{"start":1670332887628,"stop":1670332887928,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"300"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1670332888205,"stop":1670332888205,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332888279,"stop":1670332888297,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Скрол до элемента и клик по нему","time":{"start":1670332888370,"stop":1670332888440,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-e5a69182>Барное пиво</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (300 мс)","time":{"start":1670332888440,"stop":1670332888740,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"300"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1670332888769,"stop":1670332888769,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332888840,"stop":1670332888861,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1670332888886,"stop":1670332888886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332888953,"stop":1670332888971,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Скрол до элемента и клик по нему","time":{"start":1670332889038,"stop":1670332889115,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-e5a69182>Барное пиво</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (300 мс)","time":{"start":1670332889115,"stop":1670332889415,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"300"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем таббар","time":{"start":1670332889431,"stop":1670332889435,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"3"}],"stepsCount":16,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1670332889435,"stop":1670332890018,"duration":583},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332889514,"stop":1670332889539,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332889706,"stop":1670332889732,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332889874,"stop":1670332889890,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332889998,"stop":1670332890018,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>465 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Официант верифицирован, но без карты. Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', чаевые отключены, СБ считается по формуле корректно и включено","time":{"start":1670332890018,"stop":1670332891606,"duration":1588},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1670332890018,"stop":1670332891328,"duration":1310},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1670332890018,"stop":1670332890030,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1670332890030,"stop":1670332891148,"duration":1118},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332890030,"stop":1670332891039,"duration":1009},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332891130,"stop":1670332891148,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (6.975\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332891148,"stop":1670332891148,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1670332891148,"stop":1670332891148,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"},{"name":"currentTips","value":"0.0"},{"name":"currentSC","value":"6.97"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332891202,"stop":1670332891219,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332891299,"stop":1670332891328,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Чаевые не должны отображаться у верифицированного официанта без привязанной карты","time":{"start":1670332891328,"stop":1670332891569,"duration":241},"status":"passed","steps":[{"name":"Элемент присутствует на странице","time":{"start":1670332891385,"stop":1670332891402,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"tips\" data-v-77de8664>Официант\nTerminator</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице","time":{"start":1670332891463,"stop":1670332891478,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"tips__waiter\" data-v-77de8664>Официант\nTerminator</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891490,"stop":1670332891498,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".check .check__tips .check__tips-sum\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891507,"stop":1670332891515,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".custom-input input\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891528,"stop":1670332891537,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//*[@class='tips__list-item active']\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891549,"stop":1670332891558,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".tips__sum-btn[type='reset']\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1670332891569,"stop":1670332891606,"duration":37},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1670332891569,"stop":1670332891586,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":18,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"stepsCount":45,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Чаевые не должны отображаться у верифицированного официанта без привязанной карты","time":{"start":1670332891606,"stop":1670332891796,"duration":190},"status":"passed","steps":[{"name":"Элемент присутствует на странице","time":{"start":1670332891645,"stop":1670332891661,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"tips\" data-v-77de8664>Официант\nTerminator</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице","time":{"start":1670332891702,"stop":1670332891718,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"tips__waiter\" data-v-77de8664>Официант\nTerminator</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891726,"stop":1670332891735,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".check .check__tips .check__tips-sum\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891743,"stop":1670332891751,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".custom-input input\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891760,"stop":1670332891769,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//*[@class='tips__list-item active']\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент не видим на странице","time":{"start":1670332891780,"stop":1670332891789,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".tips__sum-btn[type='reset']\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Деактивируем СБ если активен","time":{"start":1670332891796,"stop":1670332892837,"duration":1041},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332891796,"stop":1670332892803,"duration":1007},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332892822,"stop":1670332892837,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":56,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1670332937216,"stop":1670332937328,"duration":112},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._6_waiter._6_2_VerifiedPartNoCardNoScTest]/[method:chooseDishesAndCheckAfterDivided()]"},{"name":"feature","value":"Официант"},{"name":"story","value":"Официант верифицирован, без привязанной карты, частичная оплата  -СБ"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"fv-az176-940"},{"name":"thread","value":"2400@fv-az176-940.ForkJoinPool-1-worker-3(15)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._6_waiter._6_2_VerifiedPartNoCardNoScTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._6_waiter._6_2_VerifiedPartNoCardNoScTest"},{"name":"testMethod","value":"chooseDishesAndCheckAfterDivided"},{"name":"suite","value":"tapper.tests.keeper_e2e._6_waiter._6_2_VerifiedPartNoCardNoScTest"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"75cd4c3b8e3c0fae","reportUrl":"https://dm4mylife.github.io/tapper.cloud/20//#testresult/75cd4c3b8e3c0fae","status":"broken","statusDetails":"No webdriver is bound to current thread: 15. You need to call open(url) first.","time":{"start":1670246353430,"stop":1670246355437,"duration":2007}}]},"tags":[]},"source":"a969808438812cd.json","parameterValues":[]}