{"uid":"e375baacdfb6a937","name":"1.3. Проверка суммы, чаевых, сервисного сбора","fullName":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_5_AddAfterPartAndPartTest.checkSumTipsSC","historyId":"11e03da093c293b33ae3cfdee67d5caa","time":{"start":1670332299407,"stop":1670332311927,"duration":12520},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1670332284522,"stop":1670332284522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Проверяем сумму всего не оплаченного заказа c чаевыми и с СБ","time":{"start":1670332299407,"stop":1670332311927,"duration":12520},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных позиций в заказе не разделяя","time":{"start":1670332299407,"stop":1670332299940,"duration":533},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332299489,"stop":1670332299505,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332299584,"stop":1670332299601,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332299684,"stop":1670332299701,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332299781,"stop":1670332299798,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332299877,"stop":1670332299913,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":5,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","time":{"start":1670332299940,"stop":1670332304850,"duration":4910},"status":"passed","steps":[{"name":"Отключаем чаевые и выключаем сервисный сбор","time":{"start":1670332299940,"stop":1670332302275,"duration":2335},"status":"passed","steps":[{"name":"Сброс чаевых","time":{"start":1670332299940,"stop":1670332301225,"duration":1285},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332299940,"stop":1670332300946,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332301009,"stop":1670332301092,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332301209,"stop":1670332301225,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Деактивируем СБ если активен","time":{"start":1670332301225,"stop":1670332302275,"duration":1050},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332301226,"stop":1670332302229,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332302260,"stop":1670332302275,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":7,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","time":{"start":1670332302275,"stop":1670332302522,"duration":247},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","time":{"start":1670332302356,"stop":1670332302394,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-c8fe04fa>775 ₽</span>"},{"name":"time","value":"2"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","time":{"start":1670332302394,"stop":1670332302522,"duration":128},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332302449,"stop":1670332302466,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332302506,"stop":1670332302522,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>775 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"775.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","time":{"start":1670332302522,"stop":1670332302532,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Включаем рандомные чаевые и сервисный сбор","time":{"start":1670332302532,"stop":1670332304850,"duration":2318},"status":"passed","steps":[{"name":"Устанавливаем рандомные чаевые","time":{"start":1670332302532,"stop":1670332303815,"duration":1283},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332302532,"stop":1670332303535,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332303575,"stop":1670332303632,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 4","time":{"start":1670332303651,"stop":1670332303651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332303702,"stop":1670332303777,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>20%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332303815,"stop":1670332304850,"duration":1035},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332303834,"stop":1670332304837,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332304837,"stop":1670332304850,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":23,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что все варианты чаевых корректны","time":{"start":1670332304860,"stop":1670332310508,"duration":5648},"status":"passed","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","time":{"start":1670332304860,"stop":1670332306072,"duration":1212},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1670332304871,"stop":1670332305903,"duration":1032},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332304871,"stop":1670332305874,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332305893,"stop":1670332305903,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","time":{"start":1670332305946,"stop":1670332305962,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-77de8664>20%</li>"},{"name":"time","value":"15"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332305998,"stop":1670332306016,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>20%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332306054,"stop":1670332306072,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>930 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"775.0"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","time":{"start":1670332306072,"stop":1670332310508,"duration":4436},"status":"passed","steps":[{"name":"Прощёлкиваем все чаевые и проверяем что суммы корректны и сходятся. Добавляем лог в аллюр","time":{"start":1670332306072,"stop":1670332310508,"duration":4436},"status":"passed","steps":[{"name":"Принудительно раскрываем таббар","time":{"start":1670332306072,"stop":1670332306076,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332306076,"stop":1670332307080,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1670332307094,"stop":1670332308130,"duration":1036},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332307115,"stop":1670332308118,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332308118,"stop":1670332308130,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332308176,"stop":1670332308236,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>0%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332308296,"stop":1670332308313,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (11.625\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332308313,"stop":1670332308313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"11.625"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332308344,"stop":1670332308353,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332308391,"stop":1670332308410,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>786.63 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332308456,"stop":1670332308478,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332308538,"stop":1670332308594,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332308595,"stop":1670332308612,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332308655,"stop":1670332308716,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>10%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332308771,"stop":1670332308792,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (15.53\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332308792,"stop":1670332308792,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"15.53"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332308826,"stop":1670332308836,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>10%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332308874,"stop":1670332308891,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>868.53 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332308932,"stop":1670332308948,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>78 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332309008,"stop":1670332309068,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332309068,"stop":1670332309091,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332309137,"stop":1670332309220,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>15%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332309278,"stop":1670332309294,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (17.43\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332309294,"stop":1670332309294,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"17.43"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332309325,"stop":1670332309335,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>15%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332309372,"stop":1670332309388,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>908.43 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332309427,"stop":1670332309444,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>116 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332309501,"stop":1670332309564,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332309564,"stop":1670332309583,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332309632,"stop":1670332309699,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>20%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332309750,"stop":1670332309769,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (19.38\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332309769,"stop":1670332309769,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"19.38"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332309802,"stop":1670332309811,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>20%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332309871,"stop":1670332309890,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>949.38 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332309928,"stop":1670332309943,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332309994,"stop":1670332310059,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332310059,"stop":1670332310078,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332310123,"stop":1670332310177,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>25%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332310227,"stop":1670332310243,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (21.32\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332310243,"stop":1670332310243,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"21.32"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332310275,"stop":1670332310285,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>25%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332310322,"stop":1670332310340,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>990.32 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332310385,"stop":1670332310401,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>194 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332310451,"stop":1670332310508,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"a873826ae3b1320c","name":"Подсчёт сумм","source":"a873826ae3b1320c.txt","type":"text/plain","size":3120}],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":44,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":45,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":53,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выставляем чаевые на 0 и активируем СБ","time":{"start":1670332310509,"stop":1670332311927,"duration":1418},"status":"passed","steps":[{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","time":{"start":1670332310509,"stop":1670332311908,"duration":1399},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332310515,"stop":1670332311518,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332311557,"stop":1670332311614,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","time":{"start":1670332311632,"stop":1670332311650,"duration":18},"status":"passed","steps":[{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332311650,"stop":1670332311650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"11.625"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332311691,"stop":1670332311708,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332311745,"stop":1670332311761,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332311812,"stop":1670332311831,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>786.63 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332311890,"stop":1670332311908,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span>786.63 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","time":{"start":1670332311908,"stop":1670332311927,"duration":19},"status":"passed","steps":[{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332311926,"stop":1670332311927,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"11.625"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":11,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":96,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":97,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1670332379398,"stop":1670332379508,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_5_AddAfterPartAndPartTest]/[method:checkSumTipsSC()]"},{"name":"feature","value":"Добавление и удаление позиций из заказа"},{"name":"epic","value":"RKeeper"},{"name":"story","value":"Добавление позиции после частичной оплаты"},{"name":"host","value":"fv-az176-940"},{"name":"thread","value":"2400@fv-az176-940.ForkJoinPool-1-worker-3(15)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_5_AddAfterPartAndPartTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_5_AddAfterPartAndPartTest"},{"name":"testMethod","value":"checkSumTipsSC"},{"name":"suite","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_5_AddAfterPartAndPartTest"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"2755ec94dfdcce46","reportUrl":"https://dm4mylife.github.io/tapper.cloud/20//#testresult/2755ec94dfdcce46","status":"broken","statusDetails":"No webdriver is bound to current thread: 15. You need to call open(url) first.","time":{"start":1670245873250,"stop":1670245873253,"duration":3}}]},"tags":[]},"source":"e375baacdfb6a937.json","parameterValues":[]}