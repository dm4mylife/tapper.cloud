{"uid":"4321a14c66cf8c78","name":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","fullName":"tapper.tests.keeper_e2e._6_waiter._6_7_NonVerifiedPartNoCardScTest.chooseDishesAndCheckAfterDivided","historyId":"ac80c1fce2db602748882734c21ecf6e","time":{"start":1670333210013,"stop":1670333218471,"duration":8458},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1670333193440,"stop":1670333193440,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Выбираем рандомное число блюд (3), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1670333210013,"stop":1670333218432,"duration":8419},"status":"passed","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","time":{"start":1670333210013,"stop":1670333212232,"duration":2219},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1670333210013,"stop":1670333212013,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","time":{"start":1670333212072,"stop":1670333212089,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-63689a2c></span>"},{"name":"time","value":"5"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670333212132,"stop":1670333212232,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-63689a2c></span>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1670333212232,"stop":1670333214522,"duration":2290},"status":"passed","steps":[{"name":"Принудительно прячем таббар","time":{"start":1670333212232,"stop":1670333212239,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1670333212260,"stop":1670333212260,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333212341,"stop":1670333212360,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Скрол до элемента и клик по нему","time":{"start":1670333212440,"stop":1670333212534,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-e5a69182>Барное пиво</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (300 мс)","time":{"start":1670333212534,"stop":1670333212835,"duration":301},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"300"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1670333213110,"stop":1670333213110,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333213180,"stop":1670333213201,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Скрол до элемента и клик по нему","time":{"start":1670333213273,"stop":1670333213347,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-e5a69182>Барное пиво</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (300 мс)","time":{"start":1670333213347,"stop":1670333213647,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"300"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1670333213669,"stop":1670333213669,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333213742,"stop":1670333213760,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Скрол до элемента и клик по нему","time":{"start":1670333213834,"stop":1670333213915,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-e5a69182>Барное пиво</div>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (300 мс)","time":{"start":1670333213915,"stop":1670333214215,"duration":300},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"300"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем таббар","time":{"start":1670333214514,"stop":1670333214522,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"3"}],"stepsCount":14,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1670333214522,"stop":1670333215055,"duration":533},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333214636,"stop":1670333214653,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333214791,"stop":1670333214808,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333214916,"stop":1670333214933,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333215034,"stop":1670333215055,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>465 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1670333215055,"stop":1670333218432,"duration":3377},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1670333215055,"stop":1670333216316,"duration":1261},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1670333215055,"stop":1670333215068,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1670333215068,"stop":1670333216172,"duration":1104},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670333215068,"stop":1670333216073,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333216155,"stop":1670333216172,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (6.975\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670333216172,"stop":1670333216172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1670333216172,"stop":1670333216172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"},{"name":"currentTips","value":"0.0"},{"name":"currentSC","value":"6.97"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333216226,"stop":1670333216247,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670333216300,"stop":1670333216316,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1670333216316,"stop":1670333216341,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1670333216341,"stop":1670333217392,"duration":1051},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1670333216341,"stop":1670333217385,"duration":1044},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670333216341,"stop":1670333217350,"duration":1009},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670333217369,"stop":1670333217385,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1670333217392,"stop":1670333218432,"duration":1040},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1670333217392,"stop":1670333218424,"duration":1032},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670333217410,"stop":1670333218413,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670333218413,"stop":1670333218424,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":18,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"stepsCount":43,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Чаевые не должны отображаться у не верифицированного официанта без привязанной карты","time":{"start":1670333218432,"stop":1670333218453,"duration":21},"status":"passed","steps":[{"name":"Элемент не видим на странице","time":{"start":1670333218444,"stop":1670333218453,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".tips\"}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670333218453,"stop":1670333218470,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":47,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1670333266743,"stop":1670333266853,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._6_waiter._6_7_NonVerifiedPartNoCardScTest]/[method:chooseDishesAndCheckAfterDivided()]"},{"name":"feature","value":"Официант"},{"name":"story","value":"Официант не верифицирован, без привязанной карты, частичная оплата  +СБ"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"fv-az176-940"},{"name":"thread","value":"2400@fv-az176-940.ForkJoinPool-1-worker-3(15)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._6_waiter._6_7_NonVerifiedPartNoCardScTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._6_waiter._6_7_NonVerifiedPartNoCardScTest"},{"name":"testMethod","value":"chooseDishesAndCheckAfterDivided"},{"name":"suite","value":"tapper.tests.keeper_e2e._6_waiter._6_7_NonVerifiedPartNoCardScTest"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"d0a13476a82f7c27","reportUrl":"https://dm4mylife.github.io/tapper.cloud/20//#testresult/d0a13476a82f7c27","status":"broken","statusDetails":"No webdriver is bound to current thread: 15. You need to call open(url) first.","time":{"start":1670246653394,"stop":1670246655398,"duration":2004}}]},"tags":[]},"source":"4321a14c66cf8c78.json","parameterValues":[]}