{"uid":"85514910f45ba6f9","name":"1.3. Проверка суммы, чаевых, сервисного сбора","fullName":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_4_RemoveAndPartTest.checkSumTipsSC","historyId":"3d70bfd2bf9117a6ad4772f5d02cceb2","time":{"start":1670332199339,"stop":1670332212183,"duration":12844},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1670332183529,"stop":1670332183529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Проверяем сумму всего не оплаченного заказа c чаевыми и с СБ","time":{"start":1670332199339,"stop":1670332212183,"duration":12844},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных позиций в заказе не разделяя","time":{"start":1670332199339,"stop":1670332200192,"duration":853},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332199441,"stop":1670332199457,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332199537,"stop":1670332199553,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332199636,"stop":1670332199660,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332199742,"stop":1670332199759,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332199839,"stop":1670332199856,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332199937,"stop":1670332199953,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332200040,"stop":1670332200058,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332200144,"stop":1670332200164,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","time":{"start":1670332200192,"stop":1670332205111,"duration":4919},"status":"passed","steps":[{"name":"Отключаем чаевые и выключаем сервисный сбор","time":{"start":1670332200192,"stop":1670332202551,"duration":2359},"status":"passed","steps":[{"name":"Сброс чаевых","time":{"start":1670332200192,"stop":1670332201499,"duration":1307},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332200192,"stop":1670332201199,"duration":1007},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332201256,"stop":1670332201346,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332201483,"stop":1670332201499,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Деактивируем СБ если активен","time":{"start":1670332201499,"stop":1670332202551,"duration":1052},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332201499,"stop":1670332202503,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332202533,"stop":1670332202551,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":7,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","time":{"start":1670332202551,"stop":1670332202782,"duration":231},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","time":{"start":1670332202636,"stop":1670332202652,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-c8fe04fa>1240 ₽</span>"},{"name":"time","value":"2"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","time":{"start":1670332202652,"stop":1670332202782,"duration":130},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332202710,"stop":1670332202727,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332202766,"stop":1670332202782,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1240 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"1240.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","time":{"start":1670332202782,"stop":1670332202791,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Включаем рандомные чаевые и сервисный сбор","time":{"start":1670332202791,"stop":1670332205111,"duration":2320},"status":"passed","steps":[{"name":"Устанавливаем рандомные чаевые","time":{"start":1670332202791,"stop":1670332204074,"duration":1283},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332202791,"stop":1670332203795,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332203835,"stop":1670332203895,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 4","time":{"start":1670332203913,"stop":1670332203913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332203963,"stop":1670332204034,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>20%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332204074,"stop":1670332205111,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332204094,"stop":1670332205099,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332205099,"stop":1670332205111,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"1240.0"}],"stepsCount":23,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что все варианты чаевых корректны","time":{"start":1670332205122,"stop":1670332210765,"duration":5643},"status":"passed","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","time":{"start":1670332205122,"stop":1670332206344,"duration":1222},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1670332205136,"stop":1670332206170,"duration":1034},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332205136,"stop":1670332206139,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332206158,"stop":1670332206170,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","time":{"start":1670332206213,"stop":1670332206231,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-77de8664>20%</li>"},{"name":"time","value":"15"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332206269,"stop":1670332206287,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>20%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332206326,"stop":1670332206344,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1488 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"1240.0"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","time":{"start":1670332206344,"stop":1670332210765,"duration":4421},"status":"passed","steps":[{"name":"Прощёлкиваем все чаевые и проверяем что суммы корректны и сходятся. Добавляем лог в аллюр","time":{"start":1670332206344,"stop":1670332210765,"duration":4421},"status":"passed","steps":[{"name":"Принудительно раскрываем таббар","time":{"start":1670332206344,"stop":1670332206349,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332206349,"stop":1670332207352,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1670332207365,"stop":1670332208398,"duration":1033},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332207383,"stop":1670332208386,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332208387,"stop":1670332208398,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332208443,"stop":1670332208525,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>0%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332208585,"stop":1670332208605,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (18.6\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332208605,"stop":1670332208605,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"18.6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332208641,"stop":1670332208653,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332208691,"stop":1670332208707,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1258.6 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332208750,"stop":1670332208767,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332208823,"stop":1670332208886,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332208886,"stop":1670332208905,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332208948,"stop":1670332209009,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>10%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332209063,"stop":1670332209079,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (24.80\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332209079,"stop":1670332209079,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"24.8"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332209112,"stop":1670332209126,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>10%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332209163,"stop":1670332209179,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1388.8 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332209218,"stop":1670332209235,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>124 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332209293,"stop":1670332209350,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332209350,"stop":1670332209370,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332209414,"stop":1670332209474,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>15%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332209524,"stop":1670332209541,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (27.90\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332209541,"stop":1670332209541,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"27.9"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332209575,"stop":1670332209585,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>15%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332209621,"stop":1670332209640,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1453.9 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332209679,"stop":1670332209695,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>186 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332209757,"stop":1670332209816,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332209816,"stop":1670332209837,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332209868,"stop":1670332209922,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>20%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332209973,"stop":1670332209990,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (31.00\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332209990,"stop":1670332209990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"31.0"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332210024,"stop":1670332210033,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>20%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332210084,"stop":1670332210100,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1519 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332210139,"stop":1670332210155,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>248 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332210235,"stop":1670332210300,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332210301,"stop":1670332210318,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332210362,"stop":1670332210419,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>25%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332210469,"stop":1670332210485,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (34.10\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332210485,"stop":1670332210485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"34.1"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332210519,"stop":1670332210534,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>25%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332210578,"stop":1670332210597,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1584.1 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332210635,"stop":1670332210650,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>310 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332210702,"stop":1670332210765,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"a2853133e4b88bb5","name":"Подсчёт сумм","source":"a2853133e4b88bb5.txt","type":"text/plain","size":3126}],"parameters":[{"name":"totalSum","value":"1240.0"}],"stepsCount":44,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"1240.0"}],"stepsCount":45,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"1240.0"}],"stepsCount":53,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выставляем чаевые на 0 и активируем СБ","time":{"start":1670332210765,"stop":1670332212183,"duration":1418},"status":"passed","steps":[{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","time":{"start":1670332210765,"stop":1670332212165,"duration":1400},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332210773,"stop":1670332211777,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332211816,"stop":1670332211876,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","time":{"start":1670332211896,"stop":1670332211913,"duration":17},"status":"passed","steps":[{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332211913,"stop":1670332211913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"18.599999999999998"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"1240.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332211950,"stop":1670332211967,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332212005,"stop":1670332212021,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332212076,"stop":1670332212095,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>1258.6 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332212148,"stop":1670332212165,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span>1258.6 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"1240.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","time":{"start":1670332212165,"stop":1670332212183,"duration":18},"status":"passed","steps":[{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332212183,"stop":1670332212183,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"18.599999999999998"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"1240.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"1240.0"}],"stepsCount":11,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":99,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":100,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1670332284395,"stop":1670332284517,"duration":122},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_4_RemoveAndPartTest]/[method:checkSumTipsSC()]"},{"name":"feature","value":"Добавление и удаление позиций из заказа"},{"name":"story","value":"Удаление позиции, частичная оплата"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"fv-az176-940"},{"name":"thread","value":"2400@fv-az176-940.ForkJoinPool-1-worker-3(15)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_4_RemoveAndPartTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_4_RemoveAndPartTest"},{"name":"testMethod","value":"checkSumTipsSC"},{"name":"suite","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_4_RemoveAndPartTest"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"ccc55d4492c7a225","reportUrl":"https://dm4mylife.github.io/tapper.cloud/20//#testresult/ccc55d4492c7a225","status":"broken","statusDetails":"No webdriver is bound to current thread: 15. You need to call open(url) first.","time":{"start":1670245813284,"stop":1670245813298,"duration":14}}]},"tags":[]},"source":"85514910f45ba6f9.json","parameterValues":[]}