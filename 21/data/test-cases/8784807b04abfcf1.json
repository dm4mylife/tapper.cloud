{"uid":"8784807b04abfcf1","name":"3. Проверка суммы, чаевых, сервисного сбора","fullName":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest.checkSumTipsSC","historyId":"6f6899c7ff9afa5887700754e673558f","time":{"start":1670332503554,"stop":1670332516054,"duration":12500},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1670332485254,"stop":1670332485254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Проверяем сумму всего не оплаченного заказа c чаевыми и с СБ","time":{"start":1670332503555,"stop":1670332516053,"duration":12498},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных позиций в заказе не разделяя","time":{"start":1670332503555,"stop":1670332504102,"duration":547},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332503633,"stop":1670332503650,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332503732,"stop":1670332503749,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332503831,"stop":1670332503856,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332503938,"stop":1670332503956,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332504044,"stop":1670332504076,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":5,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","time":{"start":1670332504102,"stop":1670332509041,"duration":4939},"status":"passed","steps":[{"name":"Отключаем чаевые и выключаем сервисный сбор","time":{"start":1670332504102,"stop":1670332506439,"duration":2337},"status":"passed","steps":[{"name":"Сброс чаевых","time":{"start":1670332504102,"stop":1670332505389,"duration":1287},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332504102,"stop":1670332505107,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332505160,"stop":1670332505244,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332505370,"stop":1670332505389,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Деактивируем СБ если активен","time":{"start":1670332505389,"stop":1670332506439,"duration":1050},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332505389,"stop":1670332506393,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332506422,"stop":1670332506439,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":7,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","time":{"start":1670332506439,"stop":1670332506678,"duration":239},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","time":{"start":1670332506518,"stop":1670332506533,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-c8fe04fa>775 ₽</span>"},{"name":"time","value":"2"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","time":{"start":1670332506533,"stop":1670332506678,"duration":145},"status":"passed","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332506587,"stop":1670332506602,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332506639,"stop":1670332506678,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>775 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"775.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","time":{"start":1670332506678,"stop":1670332506689,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Включаем рандомные чаевые и сервисный сбор","time":{"start":1670332506689,"stop":1670332509041,"duration":2352},"status":"passed","steps":[{"name":"Устанавливаем рандомные чаевые","time":{"start":1670332506689,"stop":1670332508001,"duration":1312},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332506689,"stop":1670332507692,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332507731,"stop":1670332507787,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 4","time":{"start":1670332507805,"stop":1670332507805,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332507875,"stop":1670332507951,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>25%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332508001,"stop":1670332509041,"duration":1040},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332508020,"stop":1670332509024,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332509024,"stop":1670332509041,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":23,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что все варианты чаевых корректны","time":{"start":1670332509051,"stop":1670332514644,"duration":5593},"status":"passed","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","time":{"start":1670332509052,"stop":1670332510270,"duration":1218},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1670332509063,"stop":1670332510102,"duration":1039},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332509063,"stop":1670332510066,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332510092,"stop":1670332510102,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","time":{"start":1670332510146,"stop":1670332510162,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-77de8664>25%</li>"},{"name":"time","value":"15"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332510199,"stop":1670332510216,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>25%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332510253,"stop":1670332510270,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>969 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"775.0"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","time":{"start":1670332510270,"stop":1670332514644,"duration":4374},"status":"passed","steps":[{"name":"Прощёлкиваем все чаевые и проверяем что суммы корректны и сходятся. Добавляем лог в аллюр","time":{"start":1670332510270,"stop":1670332514644,"duration":4374},"status":"passed","steps":[{"name":"Принудительно раскрываем таббар","time":{"start":1670332510270,"stop":1670332510274,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332510274,"stop":1670332511277,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1670332511290,"stop":1670332512321,"duration":1031},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332511307,"stop":1670332512310,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней (JS)","time":{"start":1670332512310,"stop":1670332512321,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332512366,"stop":1670332512424,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>0%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332512492,"stop":1670332512509,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (11.625\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332512509,"stop":1670332512509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"11.625"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332512541,"stop":1670332512551,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332512590,"stop":1670332512606,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>786.63 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332512654,"stop":1670332512670,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332512723,"stop":1670332512782,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332512782,"stop":1670332512821,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332512865,"stop":1670332512925,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>10%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332512983,"stop":1670332512999,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (15.53\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332512999,"stop":1670332512999,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"15.53"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332513031,"stop":1670332513042,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>10%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332513083,"stop":1670332513100,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>868.53 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332513141,"stop":1670332513157,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>78 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332513209,"stop":1670332513269,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332513269,"stop":1670332513286,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332513329,"stop":1670332513385,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>15%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332513433,"stop":1670332513449,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (17.43\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332513449,"stop":1670332513449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"17.43"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332513481,"stop":1670332513490,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>15%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332513527,"stop":1670332513543,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>908.43 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332513586,"stop":1670332513601,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>116 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332513653,"stop":1670332513714,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332513714,"stop":1670332513732,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332513776,"stop":1670332513841,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>20%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332513892,"stop":1670332513910,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (19.38\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332513910,"stop":1670332513910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"19.38"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332513941,"stop":1670332513951,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>20%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332513988,"stop":1670332514004,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>949.38 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332514042,"stop":1670332514058,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332514117,"stop":1670332514192,"duration":75},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1670332514193,"stop":1670332514218,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332514249,"stop":1670332514299,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-77de8664>25%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332514348,"stop":1670332514366,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (21.32\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332514366,"stop":1670332514366,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"21.32"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332514398,"stop":1670332514407,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>25%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332514449,"stop":1670332514472,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>990.32 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332514518,"stop":1670332514533,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>194 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Кнопка видна и клик по ней","time":{"start":1670332514584,"stop":1670332514644,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-77de8664 type=\"reset\"></button>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"4ba8737768f29b","name":"Подсчёт сумм","source":"4ba8737768f29b.txt","type":"text/plain","size":3120}],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":44,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":45,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":53,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выставляем чаевые на 0 и активируем СБ","time":{"start":1670332514644,"stop":1670332516053,"duration":1409},"status":"passed","steps":[{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","time":{"start":1670332514644,"stop":1670332516036,"duration":1392},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1670332514651,"stop":1670332515654,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Кнопка видна и клик по ней","time":{"start":1670332515695,"stop":1670332515752,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","time":{"start":1670332515772,"stop":1670332515789,"duration":17},"status":"passed","steps":[{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332515789,"stop":1670332515789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"11.625"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в число","time":{"start":1670332515825,"stop":1670332515842,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-77de8664>0%</li>"},{"name":"regex","value":"\\D+"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332515879,"stop":1670332515895,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-c8fe04fa>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332515950,"stop":1670332515968,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>786.63 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","time":{"start":1670332516021,"stop":1670332516036,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span>786.63 ₽</span>"},{"name":"regex","value":"\\s₽"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","time":{"start":1670332516037,"stop":1670332516053,"duration":16},"status":"passed","steps":[{"name":"Обрезаем у дабла всё до двух чисел после запятой","time":{"start":1670332516053,"stop":1670332516053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"11.625"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":11,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":96,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":97,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1670332544631,"stop":1670332544744,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest]/[method:checkSumTipsSC()]"},{"name":"feature","value":"Добавление и удаление позиций из заказа"},{"name":"epic","value":"RKeeper"},{"name":"story","value":"Добавление и удаление позиции после в одном заказе"},{"name":"host","value":"fv-az176-940"},{"name":"thread","value":"2400@fv-az176-940.ForkJoinPool-1-worker-3(15)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest"},{"name":"testMethod","value":"checkSumTipsSC"},{"name":"suite","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"31b384423a922efe","reportUrl":"https://dm4mylife.github.io/tapper.cloud/20//#testresult/31b384423a922efe","status":"broken","statusDetails":"No webdriver is bound to current thread: 15. You need to call open(url) first.","time":{"start":1670245993369,"stop":1670245993384,"duration":15}}]},"tags":[]},"source":"8784807b04abfcf1.json","parameterValues":[]}