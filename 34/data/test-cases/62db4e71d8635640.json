{"uid":"62db4e71d8635640","name":"7. Разделяем счёт, оплачиваем по позициям и так пока весь заказ не будет оплачен","fullName":"tapper.tests.keeper_e2e._0_common._0_1_0_BigPartPayTillEndTest.payTillEnd","historyId":"be2a46ad056a757f562f88dc3f232814","time":{"start":1676641532129,"stop":1676642140325,"duration":608196},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1676641461015,"stop":1676641461015,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641532129,"stop":1676641542703,"duration":10574},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641532129,"stop":1676641542129,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641542130,"stop":1676641542702,"duration":572},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641542130,"stop":1676641542701,"duration":571},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"7ffb0273f82aa8a7","name":"Сообщение в телеграмме","source":"7ffb0273f82aa8a7.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641542702,"stop":1676641542702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 5435₽ \nЧаевые: 126₽ \nСумма оплаты: 505₽ \nВсего оплачено: 505₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:45:32\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641542702,"stop":1676641542703,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641542702,"stop":1676641542703,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 5435₽ \nЧаевые: 126₽ \nСумма оплаты: 505₽ \nВсего оплачено: 505₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:45:32\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 5435₽ \nЧаевые: 126₽ \nСумма оплаты: 505₽ \nВсего оплачено: 505₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:45:32\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"53a065b62051279e","name":"telegram message","source":"53a065b62051279e.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641542703,"stop":1676641542703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=5435, tips=126, paySum=505, totalPaid=505, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=5435, tips=126, paySum=505, totalPaid=505, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Оплачиваем по {amountDishesPayFor1Time} позиции до тех пор пока весь заказ не будет закрыт","time":{"start":1676641542703,"stop":1676642140322,"duration":597619},"status":"passed","steps":[{"name":"Заказ не пустой и блюда отображаются","time":{"start":1676641542703,"stop":1676641542808,"duration":105},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (60сек.)","time":{"start":1676641542794,"stop":1676641542808,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<ul class=\"orderList\" data-auto=\"menuDishesContainer\" data-v-431a25c5 data-v-6babee97>Барное пиво\n155\n₽\nОплачено\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nГлазунья\n350\n₽\nГлазунья\n350\n₽\nОплачено\nГлазунья\n350\n₽\nГлазунья\n350\n₽\nсуп Солянка\n25\n₽\nсуп Солянка\n25\n₽\nсуп Солянка\n25\n₽\nсуп Солянка\n25\n₽\nТорт\n350\n₽\nТорт\n350\n₽\nТорт\n350\n₽\nТорт\n350\n₽\nГовядина (порц)\n450\n₽\nГовядина (порц)\n450\n₽\nГовядина (порц)\n450\n₽\nГовядина (порц)\n450\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽</ul>"},{"name":"time","value":"60"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641542832,"stop":1676641544352,"duration":1520},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641542844,"stop":1676641544352,"duration":1508},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641542852,"stop":1676641544352,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641544353,"stop":1676641562021,"duration":17668},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641544353,"stop":1676641548215,"duration":3862},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641544353,"stop":1676641545853,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641546715,"stop":1676641548215,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641548215,"stop":1676641550838,"duration":2623},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641548215,"stop":1676641548249,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 22","time":{"start":1676641548470,"stop":1676641548470,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"22"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641548636,"stop":1676641549636,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 22","time":{"start":1676641549663,"stop":1676641549663,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"22"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641549796,"stop":1676641550796,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641550810,"stop":1676641550838,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641550838,"stop":1676641551318,"duration":480},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641551318,"stop":1676641562021,"duration":10703},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641551318,"stop":1676641552482,"duration":1164},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641551318,"stop":1676641551363,"duration":45},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641551363,"stop":1676641552415,"duration":1052},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641551363,"stop":1676641552367,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641552415,"stop":1676641552415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"800.0"},{"name":"currentTips","value":"80.0"},{"name":"currentSC","value":"28.0"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"800.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641552482,"stop":1676641558520,"duration":6038},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641552643,"stop":1676641553680,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641552643,"stop":1676641553646,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641553836,"stop":1676641554880,"duration":1044},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641553836,"stop":1676641554839,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641555066,"stop":1676641556115,"duration":1049},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641555066,"stop":1676641556069,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641556300,"stop":1676641557337,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641556300,"stop":1676641557303,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641557483,"stop":1676641558520,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641557483,"stop":1676641558487,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"800.0"}],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641558520,"stop":1676641560284,"duration":1764},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641558520,"stop":1676641559658,"duration":1138},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641558520,"stop":1676641559523,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"800.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641560284,"stop":1676641562021,"duration":1737},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641560284,"stop":1676641561362,"duration":1078},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641560299,"stop":1676641561302,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"800.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"800.0"}],"stepsCount":22,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":34,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641562021,"stop":1676641562152,"duration":131},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641562152,"stop":1676641562152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641562152,"stop":1676641562727,"duration":575},"status":"passed","steps":[{"name":"Ввод данных 182 с задержкой","time":{"start":1676641562383,"stop":1676641562711,"duration":328},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"544\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"182"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"182"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641562727,"stop":1676641562745,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641562745,"stop":1676641562892,"duration":147},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641562745,"stop":1676641562841,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641562892,"stop":1676641567581,"duration":4689},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641562892,"stop":1676641564034,"duration":1142},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641564045,"stop":1676641564785,"duration":740},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641564204,"stop":1676641564785,"duration":581},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641564785,"stop":1676641565499,"duration":714},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641565542,"stop":1676641566719,"duration":1177},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641566719,"stop":1676641567470,"duration":751},"status":"passed","steps":[],"attachments":[{"uid":"67d164e98cc1834f","name":"Список не оплаченных и не заблокированных блюд","source":"67d164e98cc1834f.txt","type":"text/plain","size":1370}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641567581,"stop":1676641572138,"duration":4557},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641567581,"stop":1676641568088,"duration":507},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641567581,"stop":1676641567987,"duration":406},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641568089,"stop":1676641568106,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641568118,"stop":1676641572030,"duration":3912},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641568118,"stop":1676641572030,"duration":3912},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641572030,"stop":1676641572138,"duration":108},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641572105,"stop":1676641572121,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n1 015.1\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641572121,"stop":1676641572138,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641572138,"stop":1676641573178,"duration":1040},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641572138,"stop":1676641572141,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641572141,"stop":1676641572169,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"1015.1"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641572169,"stop":1676641573178,"duration":1009},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641572169,"stop":1676641572227,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641572227,"stop":1676641572369,"duration":142},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641572279,"stop":1676641572369,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641572369,"stop":1676641572674,"duration":305},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641572543,"stop":1676641572580,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641572631,"stop":1676641572674,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641572674,"stop":1676641572812,"duration":138},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641572749,"stop":1676641572812,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641572812,"stop":1676641573178,"duration":366},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641573055,"stop":1676641573178,"duration":123},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"1015.1"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641573203,"stop":1676641578104,"duration":4901},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641578104,"stop":1676641587489,"duration":9385},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641578104,"stop":1676641584585,"duration":6481},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641578155,"stop":1676641581126,"duration":2971},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641584585,"stop":1676641587428,"duration":2843},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641584597,"stop":1676641587330,"duration":2733},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641587415,"stop":1676641587428,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641587428,"stop":1676641587489,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641587489,"stop":1676641588198,"duration":709},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641587489,"stop":1676641588175,"duration":686},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29948"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641588175,"stop":1676641588198,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@5c372aac"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29948"},{"name":"paymentData","value":"{order_amount=80000, fee=3310, tips=18200}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641588198,"stop":1676641598752,"duration":10554},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641588198,"stop":1676641598198,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641598198,"stop":1676641598752,"duration":554},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641598198,"stop":1676641598751,"duration":553},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"dbc02acb523e1a13","name":"Сообщение в телеграмме","source":"dbc02acb523e1a13.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641598752,"stop":1676641598752,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 4635₽ \nЧаевые: 182₽ \nСумма оплаты: 800₽ \nВсего оплачено: 1305₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:46:36\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641598752,"stop":1676641598752,"duration":0},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641598752,"stop":1676641598752,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 4635₽ \nЧаевые: 182₽ \nСумма оплаты: 800₽ \nВсего оплачено: 1305₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:46:36\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 4635₽ \nЧаевые: 182₽ \nСумма оплаты: 800₽ \nВсего оплачено: 1305₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:46:36\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"10b42b04754231d3","name":"telegram message","source":"10b42b04754231d3.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641598752,"stop":1676641598753,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=4635, tips=182, paySum=800, totalPaid=1305, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=4635, tips=182, paySum=800, totalPaid=1305, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641598753,"stop":1676641598829,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641598829,"stop":1676641600829,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641600852,"stop":1676641602373,"duration":1521},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641600864,"stop":1676641602373,"duration":1509},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641600873,"stop":1676641602373,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641602373,"stop":1676641619317,"duration":16944},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641602373,"stop":1676641606449,"duration":4076},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641602373,"stop":1676641603873,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641604948,"stop":1676641606449,"duration":1501},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641606449,"stop":1676641609437,"duration":2988},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641606449,"stop":1676641606775,"duration":326},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 20","time":{"start":1676641607033,"stop":1676641607033,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"20"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641607210,"stop":1676641608210,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 20","time":{"start":1676641608238,"stop":1676641608238,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"20"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641608395,"stop":1676641609395,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641609408,"stop":1676641609437,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641609437,"stop":1676641609894,"duration":457},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641609894,"stop":1676641619317,"duration":9423},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641609894,"stop":1676641611082,"duration":1188},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641609894,"stop":1676641609948,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641609948,"stop":1676641611004,"duration":1056},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641609948,"stop":1676641610954,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641611004,"stop":1676641611004,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"16.7"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641611082,"stop":1676641615930,"duration":4848},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641611249,"stop":1676641612332,"duration":1083},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641611249,"stop":1676641612252,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641612491,"stop":1676641613528,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641612491,"stop":1676641613494,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641613693,"stop":1676641614734,"duration":1041},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641613693,"stop":1676641614700,"duration":1007},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641614886,"stop":1676641615930,"duration":1044},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641614886,"stop":1676641615896,"duration":1010},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641615931,"stop":1676641617641,"duration":1710},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641615931,"stop":1676641617053,"duration":1122},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641615931,"stop":1676641616934,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641617641,"stop":1676641619317,"duration":1676},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641617641,"stop":1676641618761,"duration":1120},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641617656,"stop":1676641618659,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":20,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":32,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641619317,"stop":1676641619470,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641619470,"stop":1676641619470,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641619470,"stop":1676641620031,"duration":561},"status":"passed","steps":[{"name":"Ввод данных 190 с задержкой","time":{"start":1676641619708,"stop":1676641620006,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"464\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"190"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"190"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641620032,"stop":1676641620053,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641620053,"stop":1676641620203,"duration":150},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641620053,"stop":1676641620136,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641620203,"stop":1676641625349,"duration":5146},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641620203,"stop":1676641621805,"duration":1602},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641621817,"stop":1676641622569,"duration":752},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641621976,"stop":1676641622568,"duration":592},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641622569,"stop":1676641623337,"duration":768},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641623378,"stop":1676641624566,"duration":1188},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641624567,"stop":1676641625241,"duration":674},"status":"passed","steps":[],"attachments":[{"uid":"a1424775d51a45e","name":"Список не оплаченных и не заблокированных блюд","source":"a1424775d51a45e.txt","type":"text/plain","size":1239}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641625349,"stop":1676641629898,"duration":4549},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641625349,"stop":1676641625828,"duration":479},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641625349,"stop":1676641625725,"duration":376},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641625828,"stop":1676641625857,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641625871,"stop":1676641629786,"duration":3915},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641625871,"stop":1676641629786,"duration":3915},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641629786,"stop":1676641629898,"duration":112},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641629864,"stop":1676641629879,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n688.75\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641629879,"stop":1676641629898,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641629898,"stop":1676641630739,"duration":841},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641629898,"stop":1676641629900,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641629900,"stop":1676641629927,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"688.75"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641629927,"stop":1676641630739,"duration":812},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641629927,"stop":1676641629987,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641629987,"stop":1676641630126,"duration":139},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641630038,"stop":1676641630126,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641630126,"stop":1676641630310,"duration":184},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641630185,"stop":1676641630233,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641630276,"stop":1676641630310,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641630310,"stop":1676641630434,"duration":124},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641630393,"stop":1676641630434,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641630435,"stop":1676641630739,"duration":304},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641630653,"stop":1676641630739,"duration":86},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"688.75"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641630761,"stop":1676641633687,"duration":2926},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641633687,"stop":1676641643051,"duration":9364},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641633687,"stop":1676641640439,"duration":6752},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641633706,"stop":1676641636613,"duration":2907},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641640439,"stop":1676641642989,"duration":2550},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641640450,"stop":1676641642820,"duration":2370},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641642970,"stop":1676641642989,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641642989,"stop":1676641643051,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641643051,"stop":1676641643775,"duration":724},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641643051,"stop":1676641643756,"duration":705},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29950"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641643756,"stop":1676641643774,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@359f2d00"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29950"},{"name":"paymentData","value":"{order_amount=47500, fee=2375, tips=19000}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641643775,"stop":1676641654344,"duration":10569},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641643775,"stop":1676641653775,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641653775,"stop":1676641654343,"duration":568},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641653775,"stop":1676641654343,"duration":568},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"b7c5ba9fdf9fe2e7","name":"Сообщение в телеграмме","source":"b7c5ba9fdf9fe2e7.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641654344,"stop":1676641654344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 4160₽ \nЧаевые: 190₽ \nСумма оплаты: 475₽ \nВсего оплачено: 1780₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:47:31\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641654344,"stop":1676641654344,"duration":0},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641654344,"stop":1676641654344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 4160₽ \nЧаевые: 190₽ \nСумма оплаты: 475₽ \nВсего оплачено: 1780₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:47:31\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 4160₽ \nЧаевые: 190₽ \nСумма оплаты: 475₽ \nВсего оплачено: 1780₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:47:31\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"fd80fd7dc4a9bdde","name":"telegram message","source":"fd80fd7dc4a9bdde.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641654344,"stop":1676641654344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=4160, tips=190, paySum=475, totalPaid=1780, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=4160, tips=190, paySum=475, totalPaid=1780, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641654344,"stop":1676641654434,"duration":90},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641654434,"stop":1676641656434,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641656459,"stop":1676641657979,"duration":1520},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641656472,"stop":1676641657979,"duration":1507},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641656479,"stop":1676641657979,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641657979,"stop":1676641675586,"duration":17607},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641657979,"stop":1676641661930,"duration":3951},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641657979,"stop":1676641659479,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641660430,"stop":1676641661930,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641661930,"stop":1676641664509,"duration":2579},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641661930,"stop":1676641661959,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 18","time":{"start":1676641662155,"stop":1676641662155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"18"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641662314,"stop":1676641663314,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 18","time":{"start":1676641663340,"stop":1676641663340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"18"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641663467,"stop":1676641664467,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641664481,"stop":1676641664509,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641664509,"stop":1676641664927,"duration":418},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641664927,"stop":1676641675586,"duration":10659},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641664927,"stop":1676641666115,"duration":1188},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641664927,"stop":1676641664984,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641664984,"stop":1676641666038,"duration":1054},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641664984,"stop":1676641665988,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641666038,"stop":1676641666038,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"},{"name":"currentTips","value":"51.0"},{"name":"currentSC","value":"17.7"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641666115,"stop":1676641672082,"duration":5967},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641666271,"stop":1676641667310,"duration":1039},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641666271,"stop":1676641667274,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641667448,"stop":1676641668485,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641667448,"stop":1676641668452,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641668650,"stop":1676641669687,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641668650,"stop":1676641669653,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641669841,"stop":1676641670878,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641669841,"stop":1676641670845,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641671042,"stop":1676641672082,"duration":1040},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641671042,"stop":1676641672046,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641672082,"stop":1676641673824,"duration":1742},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641672082,"stop":1676641673179,"duration":1097},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641672082,"stop":1676641673085,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641673824,"stop":1676641675586,"duration":1762},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641673824,"stop":1676641674908,"duration":1084},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641673840,"stop":1676641674843,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":22,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":34,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641675586,"stop":1676641675807,"duration":221},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641675807,"stop":1676641675807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641675807,"stop":1676641676425,"duration":618},"status":"passed","steps":[{"name":"Ввод данных 202 с задержкой","time":{"start":1676641676067,"stop":1676641676402,"duration":335},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"416\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"202"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"202"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641676425,"stop":1676641676451,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641676451,"stop":1676641676602,"duration":151},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641676451,"stop":1676641676534,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641676602,"stop":1676641681504,"duration":4902},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641676602,"stop":1676641677966,"duration":1364},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641677980,"stop":1676641678665,"duration":685},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641678191,"stop":1676641678665,"duration":474},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641678665,"stop":1676641679284,"duration":619},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641679329,"stop":1676641680628,"duration":1299},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641680628,"stop":1676641681314,"duration":686},"status":"passed","steps":[],"attachments":[{"uid":"d5625fc68658b239","name":"Список не оплаченных и не заблокированных блюд","source":"d5625fc68658b239.txt","type":"text/plain","size":1104}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641681504,"stop":1676641686455,"duration":4951},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641681504,"stop":1676641682249,"duration":745},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641681504,"stop":1676641682103,"duration":599},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641682249,"stop":1676641682285,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641682312,"stop":1676641686289,"duration":3977},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641682312,"stop":1676641686289,"duration":3977},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641686289,"stop":1676641686455,"duration":166},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641686387,"stop":1676641686408,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n732.25\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641686408,"stop":1676641686455,"duration":47},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641686455,"stop":1676641687769,"duration":1314},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641686455,"stop":1676641686458,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641686458,"stop":1676641686488,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"732.25"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641686489,"stop":1676641687769,"duration":1280},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641686489,"stop":1676641686603,"duration":114},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641686603,"stop":1676641686935,"duration":332},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641686666,"stop":1676641686935,"duration":269},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641686935,"stop":1676641687270,"duration":335},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641687100,"stop":1676641687172,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641687219,"stop":1676641687270,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641687270,"stop":1676641687407,"duration":137},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641687359,"stop":1676641687407,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641687407,"stop":1676641687769,"duration":362},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641687681,"stop":1676641687769,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"732.25"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641687802,"stop":1676641690507,"duration":2705},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641690507,"stop":1676641699929,"duration":9422},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641690507,"stop":1676641697089,"duration":6582},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641690519,"stop":1676641693599,"duration":3080},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641697089,"stop":1676641699864,"duration":2775},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641697203,"stop":1676641699746,"duration":2543},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641699849,"stop":1676641699864,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641699864,"stop":1676641699929,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641699929,"stop":1676641700649,"duration":720},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641699929,"stop":1676641700628,"duration":699},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29951"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641700628,"stop":1676641700649,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@73c50c0b"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29951"},{"name":"paymentData","value":"{order_amount=50500, fee=2525, tips=20200}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641700649,"stop":1676641711115,"duration":10466},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641700649,"stop":1676641710649,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641710649,"stop":1676641711114,"duration":465},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641710649,"stop":1676641711114,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"c52353f800853a50","name":"Сообщение в телеграмме","source":"c52353f800853a50.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641711114,"stop":1676641711114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 3655₽ \nЧаевые: 202₽ \nСумма оплаты: 505₽ \nВсего оплачено: 2285₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:48:28\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641711114,"stop":1676641711115,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641711115,"stop":1676641711115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 3655₽ \nЧаевые: 202₽ \nСумма оплаты: 505₽ \nВсего оплачено: 2285₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:48:28\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 3655₽ \nЧаевые: 202₽ \nСумма оплаты: 505₽ \nВсего оплачено: 2285₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:48:28\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"fd55b9cb48c13247","name":"telegram message","source":"fd55b9cb48c13247.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641711115,"stop":1676641711116,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=3655, tips=202, paySum=505, totalPaid=2285, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=3655, tips=202, paySum=505, totalPaid=2285, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641711116,"stop":1676641711226,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641711226,"stop":1676641713226,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641713255,"stop":1676641714782,"duration":1527},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641713273,"stop":1676641714782,"duration":1509},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641713282,"stop":1676641714782,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641714782,"stop":1676641731110,"duration":16328},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641714782,"stop":1676641718857,"duration":4075},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641714782,"stop":1676641716282,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641717357,"stop":1676641718857,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641718858,"stop":1676641721552,"duration":2694},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641718858,"stop":1676641718891,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 16","time":{"start":1676641719117,"stop":1676641719117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"16"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641719314,"stop":1676641720314,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 16","time":{"start":1676641720341,"stop":1676641720341,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"16"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641720509,"stop":1676641721509,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641721523,"stop":1676641721552,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641721552,"stop":1676641721944,"duration":392},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641721944,"stop":1676641731110,"duration":9166},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641721944,"stop":1676641723162,"duration":1218},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641721944,"stop":1676641722000,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641722000,"stop":1676641723067,"duration":1067},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641722000,"stop":1676641723005,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641723067,"stop":1676641723067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"16.7"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641723162,"stop":1676641727919,"duration":4757},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641723328,"stop":1676641724366,"duration":1038},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641723328,"stop":1676641724331,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641724510,"stop":1676641725547,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641724510,"stop":1676641725513,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641725690,"stop":1676641726728,"duration":1038},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641725690,"stop":1676641726694,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641726882,"stop":1676641727919,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641726882,"stop":1676641727885,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641727919,"stop":1676641729531,"duration":1612},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641727919,"stop":1676641729015,"duration":1096},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641727919,"stop":1676641728923,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641729531,"stop":1676641731110,"duration":1579},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641729531,"stop":1676641730606,"duration":1075},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641729547,"stop":1676641730550,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"475.0"}],"stepsCount":20,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":32,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641731110,"stop":1676641731419,"duration":309},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641731419,"stop":1676641731419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641731419,"stop":1676641731956,"duration":537},"status":"passed","steps":[{"name":"Ввод данных 196 с задержкой","time":{"start":1676641731654,"stop":1676641731933,"duration":279},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"366\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"196"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"196"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641731956,"stop":1676641731972,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641731972,"stop":1676641732094,"duration":122},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641731972,"stop":1676641732036,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641732094,"stop":1676641736354,"duration":4260},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641732094,"stop":1676641733283,"duration":1189},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641733294,"stop":1676641733863,"duration":569},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641733454,"stop":1676641733863,"duration":409},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641733863,"stop":1676641734385,"duration":522},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641734427,"stop":1676641735737,"duration":1310},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641735737,"stop":1676641736231,"duration":494},"status":"passed","steps":[],"attachments":[{"uid":"9274ac5fa001a077","name":"Список не оплаченных и не заблокированных блюд","source":"9274ac5fa001a077.txt","type":"text/plain","size":988}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641736354,"stop":1676641740717,"duration":4363},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641736354,"stop":1676641736748,"duration":394},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641736354,"stop":1676641736681,"duration":327},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641736748,"stop":1676641736778,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641736790,"stop":1676641740607,"duration":3817},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641736790,"stop":1676641740607,"duration":3817},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641740607,"stop":1676641740717,"duration":110},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641740683,"stop":1676641740699,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n695.05\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641740699,"stop":1676641740717,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641740717,"stop":1676641741566,"duration":849},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641740717,"stop":1676641740720,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641740720,"stop":1676641740748,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"695.05"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641740748,"stop":1676641741566,"duration":818},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641740748,"stop":1676641740802,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641740802,"stop":1676641740934,"duration":132},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641740852,"stop":1676641740934,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641740934,"stop":1676641741123,"duration":189},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641740995,"stop":1676641741047,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641741088,"stop":1676641741123,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641741123,"stop":1676641741238,"duration":115},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641741202,"stop":1676641741238,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641741238,"stop":1676641741566,"duration":328},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641741481,"stop":1676641741566,"duration":85},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"695.05"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641741588,"stop":1676641745480,"duration":3892},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641745480,"stop":1676641754970,"duration":9490},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641745480,"stop":1676641752383,"duration":6903},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641745495,"stop":1676641748467,"duration":2972},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641752383,"stop":1676641754888,"duration":2505},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641752404,"stop":1676641754747,"duration":2343},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641754869,"stop":1676641754888,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641754888,"stop":1676641754970,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641754970,"stop":1676641755723,"duration":753},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641754970,"stop":1676641755680,"duration":710},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29953"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641755680,"stop":1676641755723,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@43ac29"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29953"},{"name":"paymentData","value":"{order_amount=47500, fee=2405, tips=19600}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641755723,"stop":1676641766305,"duration":10582},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641755723,"stop":1676641765723,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641765723,"stop":1676641766304,"duration":581},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641765723,"stop":1676641766303,"duration":580},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"e8cf950d243d96bc","name":"Сообщение в телеграмме","source":"e8cf950d243d96bc.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641766304,"stop":1676641766304,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 3180₽ \nЧаевые: 196₽ \nСумма оплаты: 475₽ \nВсего оплачено: 2760₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:49:23\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641766304,"stop":1676641766305,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641766304,"stop":1676641766305,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 3180₽ \nЧаевые: 196₽ \nСумма оплаты: 475₽ \nВсего оплачено: 2760₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:49:23\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 3180₽ \nЧаевые: 196₽ \nСумма оплаты: 475₽ \nВсего оплачено: 2760₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:49:23\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"5b6213056bac2840","name":"telegram message","source":"5b6213056bac2840.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641766305,"stop":1676641766305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=3180, tips=196, paySum=475, totalPaid=2760, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=3180, tips=196, paySum=475, totalPaid=2760, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641766305,"stop":1676641766431,"duration":126},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641766431,"stop":1676641768431,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641768453,"stop":1676641769977,"duration":1524},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641768467,"stop":1676641769977,"duration":1510},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641768477,"stop":1676641769977,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641769977,"stop":1676641784718,"duration":14741},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641769977,"stop":1676641774012,"duration":4035},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641769977,"stop":1676641771477,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641772512,"stop":1676641774012,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641774012,"stop":1676641776612,"duration":2600},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641774012,"stop":1676641774052,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 14","time":{"start":1676641774222,"stop":1676641774222,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"14"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641774395,"stop":1676641775396,"duration":1001},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 14","time":{"start":1676641775422,"stop":1676641775422,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"14"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641775562,"stop":1676641776562,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641776579,"stop":1676641776612,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641776612,"stop":1676641776957,"duration":345},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641776957,"stop":1676641784718,"duration":7761},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641776957,"stop":1676641778132,"duration":1175},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641776958,"stop":1676641777008,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641777008,"stop":1676641778063,"duration":1055},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641777008,"stop":1676641778012,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641778063,"stop":1676641778063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"310.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"11.75"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"310.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641778132,"stop":1676641781752,"duration":3620},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641778313,"stop":1676641779349,"duration":1036},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641778313,"stop":1676641779316,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641779491,"stop":1676641780528,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641779491,"stop":1676641780494,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641780714,"stop":1676641781752,"duration":1038},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641780714,"stop":1676641781717,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"310.0"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641781752,"stop":1676641783248,"duration":1496},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641781752,"stop":1676641782849,"duration":1097},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641781752,"stop":1676641782755,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"310.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641783248,"stop":1676641784718,"duration":1470},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641783248,"stop":1676641784324,"duration":1076},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641783263,"stop":1676641784266,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"310.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"310.0"}],"stepsCount":18,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":30,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641784718,"stop":1676641785016,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641785016,"stop":1676641785016,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641785016,"stop":1676641785599,"duration":583},"status":"passed","steps":[{"name":"Ввод данных 221 с задержкой","time":{"start":1676641785254,"stop":1676641785576,"duration":322},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"318\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"221"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"221"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641785599,"stop":1676641785616,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641785616,"stop":1676641785730,"duration":114},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641785616,"stop":1676641785678,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641785730,"stop":1676641789735,"duration":4005},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641785730,"stop":1676641786855,"duration":1125},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641786866,"stop":1676641787399,"duration":533},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641787019,"stop":1676641787399,"duration":380},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641787399,"stop":1676641787838,"duration":439},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641787877,"stop":1676641789188,"duration":1311},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641789188,"stop":1676641789630,"duration":442},"status":"passed","steps":[],"attachments":[{"uid":"d47ac823e267fcbd","name":"Список не оплаченных и не заблокированных блюд","source":"d47ac823e267fcbd.txt","type":"text/plain","size":853}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641789735,"stop":1676641793970,"duration":4235},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641789735,"stop":1676641790098,"duration":363},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641789735,"stop":1676641790023,"duration":288},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641790098,"stop":1676641790118,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641790131,"stop":1676641793853,"duration":3722},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641790131,"stop":1676641793853,"duration":3722},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641793853,"stop":1676641793970,"duration":117},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641793933,"stop":1676641793949,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n551.35\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641793949,"stop":1676641793970,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641793970,"stop":1676641794849,"duration":879},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641793971,"stop":1676641793975,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641793975,"stop":1676641793999,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"551.35"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641793999,"stop":1676641794849,"duration":850},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641793999,"stop":1676641794063,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641794063,"stop":1676641794210,"duration":147},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641794118,"stop":1676641794210,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641794210,"stop":1676641794437,"duration":227},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641794298,"stop":1676641794335,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641794382,"stop":1676641794437,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641794437,"stop":1676641794545,"duration":108},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641794502,"stop":1676641794545,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641794545,"stop":1676641794849,"duration":304},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641794766,"stop":1676641794849,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"551.35"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641794871,"stop":1676641797094,"duration":2223},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641797094,"stop":1676641806530,"duration":9436},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641797094,"stop":1676641803900,"duration":6806},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641797114,"stop":1676641800134,"duration":3020},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641803900,"stop":1676641806438,"duration":2538},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641803921,"stop":1676641806284,"duration":2363},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641806408,"stop":1676641806438,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641806438,"stop":1676641806530,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641806530,"stop":1676641807247,"duration":717},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641806530,"stop":1676641807225,"duration":695},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29955"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641807225,"stop":1676641807247,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@4c5ed4ca"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29955"},{"name":"paymentData","value":"{order_amount=31000, fee=2035, tips=22100}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641807247,"stop":1676641817821,"duration":10574},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641807247,"stop":1676641817247,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641817248,"stop":1676641817820,"duration":572},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641817248,"stop":1676641817819,"duration":571},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"c8bf3418c7e9f050","name":"Сообщение в телеграмме","source":"c8bf3418c7e9f050.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641817820,"stop":1676641817820,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 2870₽ \nЧаевые: 221₽ \nСумма оплаты: 310₽ \nВсего оплачено: 3070₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:50:15\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641817820,"stop":1676641817821,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641817820,"stop":1676641817821,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 2870₽ \nЧаевые: 221₽ \nСумма оплаты: 310₽ \nВсего оплачено: 3070₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:50:15\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 2870₽ \nЧаевые: 221₽ \nСумма оплаты: 310₽ \nВсего оплачено: 3070₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:50:15\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"22eab234875faf6d","name":"telegram message","source":"22eab234875faf6d.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641817821,"stop":1676641817829,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=2870, tips=221, paySum=310, totalPaid=3070, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=2870, tips=221, paySum=310, totalPaid=3070, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641817829,"stop":1676641817926,"duration":97},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641817926,"stop":1676641819926,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641819947,"stop":1676641821466,"duration":1519},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641819960,"stop":1676641821466,"duration":1506},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641819966,"stop":1676641821466,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641821466,"stop":1676641838126,"duration":16660},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641821466,"stop":1676641826039,"duration":4573},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641821466,"stop":1676641822966,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641824539,"stop":1676641826039,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641826039,"stop":1676641828580,"duration":2541},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641826039,"stop":1676641826067,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 12","time":{"start":1676641826200,"stop":1676641826200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641826356,"stop":1676641827356,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 12","time":{"start":1676641827383,"stop":1676641827383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641827523,"stop":1676641828523,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641828542,"stop":1676641828580,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641828580,"stop":1676641828916,"duration":336},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641828916,"stop":1676641838126,"duration":9210},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641828916,"stop":1676641830102,"duration":1186},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641828916,"stop":1676641828968,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641828968,"stop":1676641830021,"duration":1053},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641828968,"stop":1676641829973,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641830022,"stop":1676641830022,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"13.7"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641830102,"stop":1676641834878,"duration":4776},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641830272,"stop":1676641831311,"duration":1039},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641830272,"stop":1676641831276,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641831464,"stop":1676641832501,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641831464,"stop":1676641832468,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641832648,"stop":1676641833689,"duration":1041},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641832648,"stop":1676641833651,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641833839,"stop":1676641834878,"duration":1039},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641833839,"stop":1676641834842,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641834878,"stop":1676641836542,"duration":1664},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641834878,"stop":1676641835978,"duration":1100},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641834878,"stop":1676641835881,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641836542,"stop":1676641838126,"duration":1584},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641836542,"stop":1676641837629,"duration":1087},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641836559,"stop":1676641837562,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":20,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":32,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641838126,"stop":1676641838531,"duration":405},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641838531,"stop":1676641838531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641838531,"stop":1676641839055,"duration":524},"status":"passed","steps":[{"name":"Ввод данных 163 с задержкой","time":{"start":1676641838772,"stop":1676641839034,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"287\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"163"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"163"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641839055,"stop":1676641839072,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641839072,"stop":1676641839189,"duration":117},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641839072,"stop":1676641839135,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641839189,"stop":1676641843429,"duration":4240},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641839189,"stop":1676641840286,"duration":1097},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641840298,"stop":1676641840827,"duration":529},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641840496,"stop":1676641840827,"duration":331},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641840827,"stop":1676641841217,"duration":390},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641841257,"stop":1676641842940,"duration":1683},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641842940,"stop":1676641843317,"duration":377},"status":"passed","steps":[],"attachments":[{"uid":"2dac77ee13139c91","name":"Список не оплаченных и не заблокированных блюд","source":"2dac77ee13139c91.txt","type":"text/plain","size":721}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641843429,"stop":1676641848016,"duration":4587},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641843429,"stop":1676641843941,"duration":512},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641843429,"stop":1676641843843,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641843941,"stop":1676641843962,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641843979,"stop":1676641847852,"duration":3873},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641843979,"stop":1676641847852,"duration":3873},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641847852,"stop":1676641848016,"duration":164},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641847977,"stop":1676641847995,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n557.39\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641847995,"stop":1676641848016,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641848016,"stop":1676641849274,"duration":1258},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641848016,"stop":1676641848019,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641848019,"stop":1676641848060,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"557.4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641848060,"stop":1676641849274,"duration":1214},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641848060,"stop":1676641848136,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641848136,"stop":1676641848357,"duration":221},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641848201,"stop":1676641848357,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641848357,"stop":1676641848697,"duration":340},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641848466,"stop":1676641848561,"duration":95},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641848650,"stop":1676641848697,"duration":47},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641848697,"stop":1676641848832,"duration":135},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641848778,"stop":1676641848832,"duration":54},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641848832,"stop":1676641849274,"duration":442},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641849174,"stop":1676641849274,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"557.4"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641849332,"stop":1676641851838,"duration":2506},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641851838,"stop":1676641861280,"duration":9442},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641851838,"stop":1676641858506,"duration":6668},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641851871,"stop":1676641854886,"duration":3015},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641858506,"stop":1676641861200,"duration":2694},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641858519,"stop":1676641861067,"duration":2548},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641861181,"stop":1676641861200,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641861200,"stop":1676641861280,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641861281,"stop":1676641862094,"duration":813},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641861281,"stop":1676641861995,"duration":714},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29957"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641861995,"stop":1676641862094,"duration":99},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@5060021d"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29957"},{"name":"paymentData","value":"{order_amount=37500, fee=1939, tips=16300}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641862094,"stop":1676641872651,"duration":10557},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641862094,"stop":1676641872095,"duration":10001},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641872095,"stop":1676641872650,"duration":555},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641872095,"stop":1676641872649,"duration":554},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"fcc3beec2dd5ef40","name":"Сообщение в телеграмме","source":"fcc3beec2dd5ef40.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641872650,"stop":1676641872650,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 2495₽ \nЧаевые: 163₽ \nСумма оплаты: 375₽ \nВсего оплачено: 3445₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:51:10\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641872650,"stop":1676641872651,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641872650,"stop":1676641872651,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 2495₽ \nЧаевые: 163₽ \nСумма оплаты: 375₽ \nВсего оплачено: 3445₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:51:10\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 2495₽ \nЧаевые: 163₽ \nСумма оплаты: 375₽ \nВсего оплачено: 3445₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:51:10\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"afcb27db7fd9b86","name":"telegram message","source":"afcb27db7fd9b86.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641872651,"stop":1676641872651,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=2495, tips=163, paySum=375, totalPaid=3445, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=2495, tips=163, paySum=375, totalPaid=3445, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641872651,"stop":1676641872763,"duration":112},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641872763,"stop":1676641874763,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641874784,"stop":1676641876308,"duration":1524},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641874797,"stop":1676641876308,"duration":1511},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641874807,"stop":1676641876308,"duration":1501},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641876308,"stop":1676641894025,"duration":17717},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641876308,"stop":1676641880293,"duration":3985},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641876308,"stop":1676641877808,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641878792,"stop":1676641880293,"duration":1501},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641880293,"stop":1676641882974,"duration":2681},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641880293,"stop":1676641880330,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1676641880504,"stop":1676641880504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641880758,"stop":1676641881758,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 10","time":{"start":1676641881784,"stop":1676641881784,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641881934,"stop":1676641882934,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641882948,"stop":1676641882974,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641882974,"stop":1676641883254,"duration":280},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641883254,"stop":1676641894025,"duration":10771},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641883254,"stop":1676641884475,"duration":1221},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641883254,"stop":1676641883304,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641883304,"stop":1676641884376,"duration":1072},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641883304,"stop":1676641884310,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641884376,"stop":1676641884376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"},{"name":"currentTips","value":"51.0"},{"name":"currentSC","value":"17.7"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641884475,"stop":1676641890576,"duration":6101},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641884635,"stop":1676641885697,"duration":1062},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641884635,"stop":1676641885643,"duration":1008},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641885869,"stop":1676641886921,"duration":1052},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641885869,"stop":1676641886872,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641887128,"stop":1676641888171,"duration":1043},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641887128,"stop":1676641888132,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641888333,"stop":1676641889380,"duration":1047},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641888333,"stop":1676641889338,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641889534,"stop":1676641890576,"duration":1042},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641889534,"stop":1676641890538,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641890577,"stop":1676641892327,"duration":1750},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641890577,"stop":1676641891687,"duration":1110},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641890577,"stop":1676641891585,"duration":1008},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641892327,"stop":1676641894025,"duration":1698},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641892327,"stop":1676641893410,"duration":1083},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641892345,"stop":1676641893349,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"505.0"}],"stepsCount":22,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":34,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641894025,"stop":1676641894472,"duration":447},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641894472,"stop":1676641894472,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641894472,"stop":1676641895029,"duration":557},"status":"passed","steps":[{"name":"Ввод данных 202 с задержкой","time":{"start":1676641894717,"stop":1676641895009,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"250\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"202"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"202"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641895030,"stop":1676641895048,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641895048,"stop":1676641895166,"duration":118},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641895048,"stop":1676641895115,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641895166,"stop":1676641899300,"duration":4134},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641895166,"stop":1676641896345,"duration":1179},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641896357,"stop":1676641896833,"duration":476},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641896515,"stop":1676641896833,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641896833,"stop":1676641897172,"duration":339},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641897210,"stop":1676641898777,"duration":1567},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641898777,"stop":1676641899121,"duration":344},"status":"passed","steps":[],"attachments":[{"uid":"63cc17eb5d369645","name":"Список не оплаченных и не заблокированных блюд","source":"63cc17eb5d369645.txt","type":"text/plain","size":606}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641899300,"stop":1676641903971,"duration":4671},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641899300,"stop":1676641900070,"duration":770},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641899300,"stop":1676641899896,"duration":596},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641900070,"stop":1676641900089,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641900098,"stop":1676641903839,"duration":3741},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641900098,"stop":1676641903839,"duration":3741},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641903839,"stop":1676641903971,"duration":132},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641903921,"stop":1676641903943,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n732.25\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641903943,"stop":1676641903971,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641903971,"stop":1676641905200,"duration":1229},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641903971,"stop":1676641903974,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641903974,"stop":1676641903999,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"732.25"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641903999,"stop":1676641905200,"duration":1201},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641903999,"stop":1676641904048,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641904048,"stop":1676641904207,"duration":159},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641904101,"stop":1676641904207,"duration":106},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641904207,"stop":1676641904630,"duration":423},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641904331,"stop":1676641904379,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641904592,"stop":1676641904630,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641904630,"stop":1676641904776,"duration":146},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641904708,"stop":1676641904776,"duration":68},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641904776,"stop":1676641905200,"duration":424},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641905091,"stop":1676641905200,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"732.25"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641905227,"stop":1676641907463,"duration":2236},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641907463,"stop":1676641916983,"duration":9520},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641907463,"stop":1676641914209,"duration":6746},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641907481,"stop":1676641910527,"duration":3046},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641914209,"stop":1676641916911,"duration":2702},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641914236,"stop":1676641916795,"duration":2559},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641916894,"stop":1676641916911,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641916911,"stop":1676641916983,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641916983,"stop":1676641917703,"duration":720},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641916983,"stop":1676641917683,"duration":700},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29959"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641917683,"stop":1676641917703,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@61592175"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29959"},{"name":"paymentData","value":"{order_amount=50500, fee=2525, tips=20200}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641917703,"stop":1676641928255,"duration":10552},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641917703,"stop":1676641927703,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641927703,"stop":1676641928254,"duration":551},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641927703,"stop":1676641928254,"duration":551},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"2496b8e4f00afb35","name":"Сообщение в телеграмме","source":"2496b8e4f00afb35.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641928254,"stop":1676641928254,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1990₽ \nЧаевые: 202₽ \nСумма оплаты: 505₽ \nВсего оплачено: 3950₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:52:05\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641928254,"stop":1676641928255,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641928254,"stop":1676641928255,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1990₽ \nЧаевые: 202₽ \nСумма оплаты: 505₽ \nВсего оплачено: 3950₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:52:05\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1990₽ \nЧаевые: 202₽ \nСумма оплаты: 505₽ \nВсего оплачено: 3950₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:52:05\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"6c8696ffc2ec6d51","name":"telegram message","source":"6c8696ffc2ec6d51.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641928255,"stop":1676641928255,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=1990, tips=202, paySum=505, totalPaid=3950, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=1990, tips=202, paySum=505, totalPaid=3950, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641928255,"stop":1676641928338,"duration":83},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641928338,"stop":1676641930338,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641930363,"stop":1676641931883,"duration":1520},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641930376,"stop":1676641931883,"duration":1507},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641930383,"stop":1676641931883,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641931884,"stop":1676641947846,"duration":15962},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641931884,"stop":1676641935882,"duration":3998},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641931884,"stop":1676641933384,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641934382,"stop":1676641935882,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641935882,"stop":1676641938390,"duration":2508},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641935882,"stop":1676641935911,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 8","time":{"start":1676641936046,"stop":1676641936046,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"8"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641936191,"stop":1676641937191,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 8","time":{"start":1676641937216,"stop":1676641937216,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"8"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641937345,"stop":1676641938345,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641938358,"stop":1676641938390,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641938390,"stop":1676641938652,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641938652,"stop":1676641947846,"duration":9194},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641938652,"stop":1676641939851,"duration":1199},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641938652,"stop":1676641938702,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641938702,"stop":1676641939762,"duration":1060},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641938702,"stop":1676641939705,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641939763,"stop":1676641939763,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"13.7"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641939851,"stop":1676641944614,"duration":4763},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641940026,"stop":1676641941062,"duration":1036},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641940026,"stop":1676641941029,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641941204,"stop":1676641942240,"duration":1036},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641941204,"stop":1676641942207,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641942398,"stop":1676641943435,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641942398,"stop":1676641943402,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641943578,"stop":1676641944614,"duration":1036},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641943578,"stop":1676641944581,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676641944614,"stop":1676641946259,"duration":1645},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676641944614,"stop":1676641945714,"duration":1100},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641944614,"stop":1676641945618,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676641946259,"stop":1676641947846,"duration":1587},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676641946259,"stop":1676641947337,"duration":1078},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641946275,"stop":1676641947278,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"375.0"}],"stepsCount":20,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":32,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676641947846,"stop":1676641948306,"duration":460},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676641948306,"stop":1676641948306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676641948306,"stop":1676641948877,"duration":571},"status":"passed","steps":[{"name":"Ввод данных 183 с задержкой","time":{"start":1676641948552,"stop":1676641948858,"duration":306},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"199\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"183"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"183"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676641948877,"stop":1676641948893,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676641948893,"stop":1676641949007,"duration":114},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641948893,"stop":1676641948957,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676641949007,"stop":1676641952726,"duration":3719},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676641949007,"stop":1676641950054,"duration":1047},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676641950065,"stop":1676641950527,"duration":462},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676641950223,"stop":1676641950527,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676641950527,"stop":1676641950835,"duration":308},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676641950875,"stop":1676641952300,"duration":1425},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676641952300,"stop":1676641952603,"duration":303},"status":"passed","steps":[],"attachments":[{"uid":"1fb105afe25f48ec","name":"Список не оплаченных и не заблокированных блюд","source":"1fb105afe25f48ec.txt","type":"text/plain","size":483}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676641952726,"stop":1676641957475,"duration":4749},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676641952726,"stop":1676641953291,"duration":565},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676641952726,"stop":1676641953186,"duration":460},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676641953291,"stop":1676641953314,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676641953326,"stop":1676641957357,"duration":4031},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641953326,"stop":1676641957357,"duration":4031},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676641957357,"stop":1676641957475,"duration":118},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641957435,"stop":1676641957457,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n578.39\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676641957457,"stop":1676641957475,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676641957475,"stop":1676641958513,"duration":1038},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676641957475,"stop":1676641957477,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676641957477,"stop":1676641957513,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"578.4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676641957513,"stop":1676641958513,"duration":1000},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676641957513,"stop":1676641957614,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676641957614,"stop":1676641957884,"duration":270},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676641957732,"stop":1676641957884,"duration":152},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676641957885,"stop":1676641958141,"duration":256},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676641958008,"stop":1676641958047,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676641958105,"stop":1676641958141,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676641958141,"stop":1676641958238,"duration":97},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676641958203,"stop":1676641958238,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676641958238,"stop":1676641958513,"duration":275},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676641958439,"stop":1676641958513,"duration":74},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"578.4"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676641958536,"stop":1676641961823,"duration":3287},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676641961823,"stop":1676641971345,"duration":9522},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676641961823,"stop":1676641968530,"duration":6707},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676641961841,"stop":1676641964944,"duration":3103},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676641968530,"stop":1676641971213,"duration":2683},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641968546,"stop":1676641971088,"duration":2542},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676641971191,"stop":1676641971213,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676641971213,"stop":1676641971345,"duration":132},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676641971345,"stop":1676641972090,"duration":745},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676641971345,"stop":1676641972053,"duration":708},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29961"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676641972053,"stop":1676641972081,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@31349403"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29961"},{"name":"paymentData","value":"{order_amount=37500, fee=2039, tips=18300}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676641972090,"stop":1676641982657,"duration":10567},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676641972090,"stop":1676641982091,"duration":10001},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676641982091,"stop":1676641982656,"duration":565},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676641982091,"stop":1676641982656,"duration":565},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"fd5046e9f1a9012f","name":"Сообщение в телеграмме","source":"fd5046e9f1a9012f.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676641982656,"stop":1676641982656,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1615₽ \nЧаевые: 183₽ \nСумма оплаты: 375₽ \nВсего оплачено: 4325₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:53:00\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676641982656,"stop":1676641982657,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676641982656,"stop":1676641982657,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1615₽ \nЧаевые: 183₽ \nСумма оплаты: 375₽ \nВсего оплачено: 4325₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:53:00\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1615₽ \nЧаевые: 183₽ \nСумма оплаты: 375₽ \nВсего оплачено: 4325₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:53:00\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"253b7dce9daafbf7","name":"telegram message","source":"253b7dce9daafbf7.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676641982657,"stop":1676641982657,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=1615, tips=183, paySum=375, totalPaid=4325, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=1615, tips=183, paySum=375, totalPaid=4325, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676641982657,"stop":1676641982741,"duration":84},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676641982741,"stop":1676641984741,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676641984763,"stop":1676641986286,"duration":1523},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676641984776,"stop":1676641986286,"duration":1510},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641984786,"stop":1676641986286,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676641986286,"stop":1676642004278,"duration":17992},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676641986286,"stop":1676641990338,"duration":4052},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641986286,"stop":1676641987786,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676641988838,"stop":1676641990338,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676641990338,"stop":1676641992921,"duration":2583},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676641990338,"stop":1676641990376,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 6","time":{"start":1676641990476,"stop":1676641990476,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641990633,"stop":1676641991633,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 6","time":{"start":1676641991659,"stop":1676641991659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 6","time":{"start":1676641991717,"stop":1676641991717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676641991876,"stop":1676641992876,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676641992890,"stop":1676641992921,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":7,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676641992921,"stop":1676641993139,"duration":218},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676641993139,"stop":1676642004278,"duration":11139},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676641993139,"stop":1676641994327,"duration":1188},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676641993139,"stop":1676641993195,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641993195,"stop":1676641994250,"duration":1055},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641993195,"stop":1676641994200,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676641994250,"stop":1676641994250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"605.0"},{"name":"currentTips","value":"61.0"},{"name":"currentSC","value":"21.2"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"605.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676641994327,"stop":1676642000346,"duration":6019},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641994517,"stop":1676641995556,"duration":1039},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641994517,"stop":1676641995521,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641995713,"stop":1676641996752,"duration":1039},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641995713,"stop":1676641996717,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641996910,"stop":1676641997949,"duration":1039},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641996910,"stop":1676641997913,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641998106,"stop":1676641999155,"duration":1049},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641998106,"stop":1676641999108,"duration":1002},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676641999302,"stop":1676642000346,"duration":1044},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676641999302,"stop":1676642000306,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"605.0"}],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676642000346,"stop":1676642002370,"duration":2024},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676642000346,"stop":1676642001458,"duration":1112},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642000346,"stop":1676642001352,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"605.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676642002370,"stop":1676642004278,"duration":1908},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676642002370,"stop":1676642003521,"duration":1151},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642002392,"stop":1676642003395,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"605.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"605.0"}],"stepsCount":22,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":35,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676642004278,"stop":1676642004900,"duration":622},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676642004900,"stop":1676642004900,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676642004900,"stop":1676642005611,"duration":711},"status":"passed","steps":[{"name":"Ввод данных 153 с задержкой","time":{"start":1676642005229,"stop":1676642005595,"duration":366},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"162\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"153"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"153"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676642005611,"stop":1676642005626,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676642005626,"stop":1676642005746,"duration":120},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642005626,"stop":1676642005691,"duration":65},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676642005746,"stop":1676642009260,"duration":3514},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676642005746,"stop":1676642006908,"duration":1162},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642006920,"stop":1676642007393,"duration":473},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676642007154,"stop":1676642007393,"duration":239},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676642007393,"stop":1676642007599,"duration":206},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676642007640,"stop":1676642008923,"duration":1283},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642008923,"stop":1676642009134,"duration":211},"status":"passed","steps":[],"attachments":[{"uid":"711d7ae3e8f4e2d5","name":"Список не оплаченных и не заблокированных блюд","source":"711d7ae3e8f4e2d5.txt","type":"text/plain","size":362}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676642009260,"stop":1676642014296,"duration":5036},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676642009260,"stop":1676642009849,"duration":589},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676642009260,"stop":1676642009676,"duration":416},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676642009849,"stop":1676642009892,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676642009910,"stop":1676642014161,"duration":4251},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642009910,"stop":1676642014161,"duration":4251},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676642014161,"stop":1676642014296,"duration":135},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642014258,"stop":1676642014276,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n783.8\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676642014276,"stop":1676642014296,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676642014296,"stop":1676642015425,"duration":1129},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642014296,"stop":1676642014301,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676642014301,"stop":1676642014337,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"783.8"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676642014337,"stop":1676642015425,"duration":1088},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676642014337,"stop":1676642014434,"duration":97},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676642014434,"stop":1676642014650,"duration":216},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676642014505,"stop":1676642014650,"duration":145},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676642014650,"stop":1676642014957,"duration":307},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676642014805,"stop":1676642014862,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676642014921,"stop":1676642014957,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676642014957,"stop":1676642015089,"duration":132},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676642015022,"stop":1676642015089,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676642015089,"stop":1676642015425,"duration":336},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676642015320,"stop":1676642015425,"duration":105},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"783.8"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676642015452,"stop":1676642019622,"duration":4170},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676642019622,"stop":1676642029084,"duration":9462},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676642019622,"stop":1676642026290,"duration":6668},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676642019637,"stop":1676642022693,"duration":3056},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676642026290,"stop":1676642029020,"duration":2730},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642026303,"stop":1676642028903,"duration":2600},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642029006,"stop":1676642029020,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676642029020,"stop":1676642029084,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676642029084,"stop":1676642029859,"duration":775},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676642029084,"stop":1676642029810,"duration":726},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29963"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676642029810,"stop":1676642029859,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@42add00c"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29963"},{"name":"paymentData","value":"{order_amount=60500, fee=2580, tips=15300}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676642029859,"stop":1676642040423,"duration":10564},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676642029859,"stop":1676642039859,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676642039859,"stop":1676642040423,"duration":564},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676642039859,"stop":1676642040422,"duration":563},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"578a0a37c432178d","name":"Сообщение в телеграмме","source":"578a0a37c432178d.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676642040423,"stop":1676642040423,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1010₽ \nЧаевые: 153₽ \nСумма оплаты: 605₽ \nВсего оплачено: 4930₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:53:58\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676642040423,"stop":1676642040423,"duration":0},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676642040423,"stop":1676642040423,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1010₽ \nЧаевые: 153₽ \nСумма оплаты: 605₽ \nВсего оплачено: 4930₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:53:58\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 1010₽ \nЧаевые: 153₽ \nСумма оплаты: 605₽ \nВсего оплачено: 4930₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:53:58\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"5effa612a7713cfe","name":"telegram message","source":"5effa612a7713cfe.txt","type":"text/plain","size":499}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676642040424,"stop":1676642040424,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=1010, tips=153, paySum=605, totalPaid=4930, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=1010, tips=153, paySum=605, totalPaid=4930, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676642040424,"stop":1676642040506,"duration":82},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676642040506,"stop":1676642042506,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676642042529,"stop":1676642044054,"duration":1525},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676642042542,"stop":1676642044054,"duration":1512},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642042554,"stop":1676642044054,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (2), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676642044054,"stop":1676642062474,"duration":18420},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676642044054,"stop":1676642048483,"duration":4429},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642044054,"stop":1676642045554,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642046983,"stop":1676642048483,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676642048483,"stop":1676642051071,"duration":2588},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676642048483,"stop":1676642048520,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 4","time":{"start":1676642048598,"stop":1676642048598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642048760,"stop":1676642049761,"duration":1001},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 4","time":{"start":1676642049788,"stop":1676642049788,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 4","time":{"start":1676642049840,"stop":1676642049840,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642050017,"stop":1676642051017,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676642051036,"stop":1676642051071,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"2"}],"stepsCount":7,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676642051071,"stop":1676642051300,"duration":229},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676642051300,"stop":1676642062474,"duration":11174},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676642051300,"stop":1676642052520,"duration":1220},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676642051300,"stop":1676642051366,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642051366,"stop":1676642052437,"duration":1071},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642051366,"stop":1676642052370,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676642052437,"stop":1676642052437,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"700.0"},{"name":"currentTips","value":"70.0"},{"name":"currentSC","value":"24.5"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"700.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676642052520,"stop":1676642058757,"duration":6237},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642052782,"stop":1676642053823,"duration":1041},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642052782,"stop":1676642053785,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642054025,"stop":1676642055069,"duration":1044},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642054025,"stop":1676642055028,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642055242,"stop":1676642056290,"duration":1048},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642055242,"stop":1676642056246,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642056452,"stop":1676642057502,"duration":1050},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642056452,"stop":1676642057455,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642057720,"stop":1676642058757,"duration":1037},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642057720,"stop":1676642058723,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"700.0"}],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676642058757,"stop":1676642060644,"duration":1887},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676642058757,"stop":1676642059864,"duration":1107},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642058757,"stop":1676642059760,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"700.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676642060644,"stop":1676642062474,"duration":1830},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676642060644,"stop":1676642061742,"duration":1098},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642060661,"stop":1676642061665,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"700.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"700.0"}],"stepsCount":22,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"}],"stepsCount":35,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676642062474,"stop":1676642063147,"duration":673},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676642063147,"stop":1676642063147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676642063147,"stop":1676642063775,"duration":628},"status":"passed","steps":[{"name":"Ввод данных 224 с задержкой","time":{"start":1676642063401,"stop":1676642063758,"duration":357},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"101\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"224"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"224"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676642063775,"stop":1676642063797,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676642063797,"stop":1676642063938,"duration":141},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642063797,"stop":1676642063867,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676642063938,"stop":1676642067369,"duration":3431},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676642063938,"stop":1676642065100,"duration":1162},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642065111,"stop":1676642065483,"duration":372},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676642065286,"stop":1676642065482,"duration":196},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676642065483,"stop":1676642065631,"duration":148},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676642065672,"stop":1676642067043,"duration":1371},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642067043,"stop":1676642067191,"duration":148},"status":"passed","steps":[],"attachments":[{"uid":"499fb9786a5618cb","name":"Список не оплаченных и не заблокированных блюд","source":"499fb9786a5618cb.txt","type":"text/plain","size":227}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676642067369,"stop":1676642072007,"duration":4638},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676642067369,"stop":1676642068054,"duration":685},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676642067369,"stop":1676642067940,"duration":571},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676642068054,"stop":1676642068083,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676642068097,"stop":1676642071868,"duration":3771},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642068097,"stop":1676642071868,"duration":3771},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676642071868,"stop":1676642072007,"duration":139},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642071965,"stop":1676642071988,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n956.2\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676642071988,"stop":1676642072007,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676642072007,"stop":1676642073109,"duration":1102},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642072007,"stop":1676642072010,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676642072010,"stop":1676642072039,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"956.2"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676642072040,"stop":1676642073109,"duration":1069},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676642072040,"stop":1676642072120,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676642072120,"stop":1676642072297,"duration":177},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676642072181,"stop":1676642072297,"duration":116},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676642072298,"stop":1676642072599,"duration":301},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676642072408,"stop":1676642072469,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676642072565,"stop":1676642072599,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676642072599,"stop":1676642072760,"duration":161},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676642072700,"stop":1676642072760,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676642072760,"stop":1676642073109,"duration":349},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676642073007,"stop":1676642073109,"duration":102},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"956.2"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676642073133,"stop":1676642077426,"duration":4293},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676642077426,"stop":1676642086908,"duration":9482},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676642077426,"stop":1676642084297,"duration":6871},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676642077450,"stop":1676642080584,"duration":3134},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676642084297,"stop":1676642086831,"duration":2534},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642084310,"stop":1676642086677,"duration":2367},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642086813,"stop":1676642086831,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676642086831,"stop":1676642086908,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676642086908,"stop":1676642087618,"duration":710},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676642086908,"stop":1676642087598,"duration":690},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29965"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676642087598,"stop":1676642087618,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@723c1348"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29965"},{"name":"paymentData","value":"{order_amount=70000, fee=3220, tips=22400}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676642087619,"stop":1676642098172,"duration":10553},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676642087619,"stop":1676642097619,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676642097619,"stop":1676642098172,"duration":553},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676642097619,"stop":1676642098171,"duration":552},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"1d71bd2cd265682e","name":"Сообщение в телеграмме","source":"1d71bd2cd265682e.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676642098172,"stop":1676642098172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 310₽ \nЧаевые: 224₽ \nСумма оплаты: 700₽ \nВсего оплачено: 5630₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:54:56\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676642098172,"stop":1676642098172,"duration":0},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676642098172,"stop":1676642098172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 310₽ \nЧаевые: 224₽ \nСумма оплаты: 700₽ \nВсего оплачено: 5630₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:54:56\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 5940₽ \nОсталось оплатить: 310₽ \nЧаевые: 224₽ \nСумма оплаты: 700₽ \nВсего оплачено: 5630₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:54:56\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"53ccf5b7cfe66f6b","name":"telegram message","source":"53ccf5b7cfe66f6b.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676642098172,"stop":1676642098172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=310, tips=224, paySum=700, totalPaid=5630, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=310, tips=224, paySum=700, totalPaid=5630, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676642098172,"stop":1676642098263,"duration":91},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676642098263,"stop":1676642100263,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676642100285,"stop":1676642100313,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676642100313,"stop":1676642100491,"duration":178},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642100313,"stop":1676642100430,"duration":117},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676642100491,"stop":1676642103947,"duration":3456},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676642100491,"stop":1676642101854,"duration":1363},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642101865,"stop":1676642102115,"duration":250},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642102036,"stop":1676642102115,"duration":79},"status":"passed","steps":[],"attachments":[{"uid":"5e65612d35818313","name":"Список не оплаченных и не заблокированных блюд","source":"5e65612d35818313.txt","type":"text/plain","size":126}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676642102115,"stop":1676642102196,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676642102241,"stop":1676642103744,"duration":1503},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642103744,"stop":1676642103824,"duration":80},"status":"passed","steps":[],"attachments":[{"uid":"f3cac1f1f226486d","name":"Список не оплаченных и не заблокированных блюд","source":"f3cac1f1f226486d.txt","type":"text/plain","size":126}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676642103947,"stop":1676642108452,"duration":4505},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676642103947,"stop":1676642104339,"duration":392},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676642103947,"stop":1676642104251,"duration":304},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676642104339,"stop":1676642104363,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676642104375,"stop":1676642108296,"duration":3921},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642104375,"stop":1676642108296,"duration":3921},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676642108296,"stop":1676642108452,"duration":156},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642108415,"stop":1676642108433,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n370.75\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676642108433,"stop":1676642108452,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676642108452,"stop":1676642109331,"duration":879},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642108452,"stop":1676642108454,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676642108455,"stop":1676642108481,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"370.75"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676642108481,"stop":1676642109331,"duration":850},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676642108481,"stop":1676642108540,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676642108540,"stop":1676642108705,"duration":165},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676642108605,"stop":1676642108705,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676642108705,"stop":1676642108922,"duration":217},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676642108785,"stop":1676642108821,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676642108891,"stop":1676642108922,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676642108922,"stop":1676642109032,"duration":110},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676642108982,"stop":1676642109032,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676642109032,"stop":1676642109331,"duration":299},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676642109255,"stop":1676642109331,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"370.75"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676642109356,"stop":1676642111525,"duration":2169},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты с полной оплатой","time":{"start":1676642111525,"stop":1676642120903,"duration":9378},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676642111525,"stop":1676642118312,"duration":6787},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676642111542,"stop":1676642114519,"duration":2977},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676642118312,"stop":1676642120838,"duration":2526},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642118329,"stop":1676642120722,"duration":2393},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642120823,"stop":1676642120838,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует полной оплате","time":{"start":1676642120839,"stop":1676642120903,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676642120903,"stop":1676642121645,"duration":742},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676642120903,"stop":1676642121601,"duration":698},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29967"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676642121601,"stop":1676642121645,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@7d0fd76f"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29967"},{"name":"paymentData","value":"{order_amount=31000, fee=1175, tips=4900}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676642121645,"stop":1676642138208,"duration":16563},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (16000 мс)","time":{"start":1676642121645,"stop":1676642137645,"duration":16000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"16000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676642137645,"stop":1676642138207,"duration":562},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676642137645,"stop":1676642138206,"duration":561},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"719f0777bb74d600","name":"Сообщение в телеграмме","source":"719f0777bb74d600.txt","type":"text/plain","size":469}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676642138207,"stop":1676642138207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 ✅\nСумма в чеке: 5940₽ \nОсталось оплатить: 0₽ \nЧаевые: 49₽ \nСумма оплаты: 310₽ \nВсего оплачено: 5940₽ \nСтатус оплаты: Полностью оплачено\nСтатус заказа: Успешно закрыт на кассе\nДата заказа: 17.02.2023 | 16:55:36\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676642138207,"stop":1676642138208,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676642138207,"stop":1676642138208,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 ✅\nСумма в чеке: 5940₽ \nОсталось оплатить: 0₽ \nЧаевые: 49₽ \nСумма оплаты: 310₽ \nВсего оплачено: 5940₽ \nСтатус оплаты: Полностью оплачено\nСтатус заказа: Успешно закрыт на кассе\nДата заказа: 17.02.2023 | 16:55:36\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 ✅\nСумма в чеке: 5940₽ \nОсталось оплатить: 0₽ \nЧаевые: 49₽ \nСумма оплаты: 310₽ \nВсего оплачено: 5940₽ \nСтатус оплаты: Полностью оплачено\nСтатус заказа: Успешно закрыт на кассе\nДата заказа: 17.02.2023 | 16:55:36\nОфициант: Robocop\nЗаказ# {807502B4-C4CF-4E22-8BB5-25C70F93A631}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"884ef9ad433826c8","name":"telegram message","source":"884ef9ad433826c8.txt","type":"text/plain","size":469}],"parameters":[{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"waitingTime","value":"16000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676642138208,"stop":1676642138208,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=0, tips=49, paySum=310, totalPaid=5940, payStatus=Полностью оплачено, orderStatus=Успешно закрыт на кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=5940, restToPay=0, tips=49, paySum=310, totalPaid=5940, payStatus=Полностью оплачено, orderStatus=Успешно закрыт на кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676642138208,"stop":1676642138309,"duration":101},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676642138309,"stop":1676642140310,"duration":2001},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"2"},{"name":"guid","value":"{807502B4-C4CF-4E22-8BB5-25C70F93A631}"},{"name":"timeoutPartPay","value":"10000"},{"name":"timeoutFullPay","value":"16000"},{"name":"tableId","value":"1000046"}],"stepsCount":1006,"attachmentsCount":34,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1015,"attachmentsCount":36,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1676642140345,"stop":1676642140568,"duration":223},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-platform-suite]/[suite:tapper.tests.SecondThreadTestSuite]/[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._0_common._0_1_0_BigPartPayTillEndTest]/[method:payTillEnd()]"},{"name":"story","value":"Частичная оплата в несколько платежей до конца - +чай +сбор"},{"name":"feature","value":"Частичная оплата"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"fv-az419-239"},{"name":"thread","value":"2326@fv-az419-239.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._0_common._0_1_0_BigPartPayTillEndTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._0_common._0_1_0_BigPartPayTillEndTest"},{"name":"testMethod","value":"payTillEnd"},{"name":"suite","value":"Частичная оплата в несколько платежей до конца - +чай +сбор"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"62db4e71d8635640.json","parameterValues":[]}