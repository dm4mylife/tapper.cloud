{"uid":"4a108b1bdfae534b","name":"6. Разделяем счёт, оплачиваем по позициям и так пока весь заказ не будет оплачен","fullName":"tapper.tests.keeper_e2e._2_partialPayment._2_4_ChoseAndPartPayTillEndTest.payTillEnd","historyId":"fef1ba201caaccf5c327cbf99be8a738","time":{"start":1676642197975,"stop":1676642360538,"duration":162563},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1676642140572,"stop":1676642140583,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676642197975,"stop":1676642208443,"duration":10468},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676642197975,"stop":1676642207975,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676642207975,"stop":1676642208432,"duration":457},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676642207975,"stop":1676642208432,"duration":457},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"7717f449675af575","name":"Сообщение в телеграмме","source":"7717f449675af575.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676642208432,"stop":1676642208432,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 1395₽ \nЧаевые: 116₽ \nСумма оплаты: 465₽ \nВсего оплачено: 465₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:56:38\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676642208432,"stop":1676642208443,"duration":11},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676642208432,"stop":1676642208443,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 1395₽ \nЧаевые: 116₽ \nСумма оплаты: 465₽ \nВсего оплачено: 465₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:56:38\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 1395₽ \nЧаевые: 116₽ \nСумма оплаты: 465₽ \nВсего оплачено: 465₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:56:38\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"85667b968e3ec631","name":"telegram message","source":"85667b968e3ec631.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676642208443,"stop":1676642208443,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=1395, tips=116, paySum=465, totalPaid=465, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=1395, tips=116, paySum=465, totalPaid=465, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Оплачиваем по {amountDishesPayFor1Time} позиции до тех пор пока весь заказ не будет закрыт","time":{"start":1676642208443,"stop":1676642360536,"duration":152093},"status":"passed","steps":[{"name":"Заказ не пустой и блюда отображаются","time":{"start":1676642208443,"stop":1676642208649,"duration":206},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (60сек.)","time":{"start":1676642208608,"stop":1676642208649,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<ul class=\"orderList\" data-auto=\"menuDishesContainer\" data-v-431a25c5 data-v-6babee97>Барное пиво\n155\n₽\nБарное пиво\n155\n₽\nОплачено\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nОплачено\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nОплачено\nБарное пиво\n155\n₽</ul>"},{"name":"time","value":"60"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676642208684,"stop":1676642210231,"duration":1547},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676642208717,"stop":1676642210231,"duration":1514},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642208731,"stop":1676642210231,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (3), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676642210232,"stop":1676642227978,"duration":17746},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676642210232,"stop":1676642214141,"duration":3909},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642210232,"stop":1676642211732,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642212641,"stop":1676642214141,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676642214141,"stop":1676642218004,"duration":3863},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676642214141,"stop":1676642214177,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 9","time":{"start":1676642214318,"stop":1676642214318,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"9"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642214477,"stop":1676642215477,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 9","time":{"start":1676642215504,"stop":1676642215504,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"9"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642215646,"stop":1676642216646,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 9","time":{"start":1676642216684,"stop":1676642216684,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"9"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642216958,"stop":1676642217958,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676642217971,"stop":1676642218004,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"3"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676642218004,"stop":1676642218350,"duration":346},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676642218351,"stop":1676642227978,"duration":9627},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676642218351,"stop":1676642219566,"duration":1215},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676642218351,"stop":1676642218427,"duration":76},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642218427,"stop":1676642219483,"duration":1056},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642218427,"stop":1676642219432,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676642219483,"stop":1676642219483,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"16.4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676642219566,"stop":1676642224521,"duration":4955},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642219768,"stop":1676642220815,"duration":1047},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642219768,"stop":1676642220776,"duration":1008},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642221029,"stop":1676642222070,"duration":1041},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642221029,"stop":1676642222032,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642222242,"stop":1676642223282,"duration":1040},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642222242,"stop":1676642223245,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642223480,"stop":1676642224521,"duration":1041},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642223481,"stop":1676642224484,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676642224521,"stop":1676642226269,"duration":1748},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676642224521,"stop":1676642225631,"duration":1110},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642224521,"stop":1676642225526,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676642226269,"stop":1676642227978,"duration":1709},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676642226269,"stop":1676642227366,"duration":1097},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642226293,"stop":1676642227297,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":20,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"stepsCount":34,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676642227978,"stop":1676642228146,"duration":168},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676642228146,"stop":1676642228146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676642228146,"stop":1676642228748,"duration":602},"status":"passed","steps":[{"name":"Ввод данных 237 с задержкой","time":{"start":1676642228449,"stop":1676642228731,"duration":282},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"140\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"237"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"237"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676642228749,"stop":1676642228766,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676642228766,"stop":1676642228902,"duration":136},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642228766,"stop":1676642228837,"duration":71},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676642228902,"stop":1676642232213,"duration":3311},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676642228902,"stop":1676642229533,"duration":631},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642229545,"stop":1676642230175,"duration":630},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676642229807,"stop":1676642230175,"duration":368},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676642230175,"stop":1676642230549,"duration":374},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676642230593,"stop":1676642231732,"duration":1139},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642231732,"stop":1676642232081,"duration":349},"status":"passed","steps":[],"attachments":[{"uid":"13907a00142b2462","name":"Список не оплаченных и не заблокированных блюд","source":"13907a00142b2462.txt","type":"text/plain","size":570}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676642232213,"stop":1676642236253,"duration":4040},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676642232213,"stop":1676642232674,"duration":461},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676642232213,"stop":1676642232584,"duration":371},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676642232674,"stop":1676642232697,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676642232712,"stop":1676642236121,"duration":3409},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642232712,"stop":1676642236121,"duration":3409},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676642236121,"stop":1676642236253,"duration":132},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642236208,"stop":1676642236224,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n727.8\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676642236224,"stop":1676642236253,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676642236253,"stop":1676642237325,"duration":1072},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642236253,"stop":1676642236260,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676642236260,"stop":1676642236291,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"727.8"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676642236291,"stop":1676642237325,"duration":1034},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676642236291,"stop":1676642236353,"duration":62},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676642236353,"stop":1676642236525,"duration":172},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676642236412,"stop":1676642236525,"duration":113},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676642236525,"stop":1676642236815,"duration":290},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676642236652,"stop":1676642236702,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676642236782,"stop":1676642236815,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676642236815,"stop":1676642236936,"duration":121},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676642236896,"stop":1676642236936,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676642236936,"stop":1676642237325,"duration":389},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676642237209,"stop":1676642237325,"duration":116},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"727.8"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676642237350,"stop":1676642241885,"duration":4535},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676642241885,"stop":1676642251397,"duration":9512},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676642241885,"stop":1676642248651,"duration":6766},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676642241904,"stop":1676642245055,"duration":3151},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676642248651,"stop":1676642251320,"duration":2669},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642248668,"stop":1676642251206,"duration":2538},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642251306,"stop":1676642251320,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676642251320,"stop":1676642251397,"duration":77},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676642251397,"stop":1676642252118,"duration":721},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676642251397,"stop":1676642252094,"duration":697},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29970"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676642252094,"stop":1676642252118,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@2e366d10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29970"},{"name":"paymentData","value":"{order_amount=46500, fee=2580, tips=23700}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676642252118,"stop":1676642262717,"duration":10599},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676642252118,"stop":1676642262118,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676642262118,"stop":1676642262714,"duration":596},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676642262118,"stop":1676642262712,"duration":594},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"c05be1650b4d70fd","name":"Сообщение в телеграмме","source":"c05be1650b4d70fd.txt","type":"text/plain","size":497}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676642262716,"stop":1676642262716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 930₽ \nЧаевые: 237₽ \nСумма оплаты: 465₽ \nВсего оплачено: 930₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:57:39\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676642262716,"stop":1676642262717,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676642262716,"stop":1676642262717,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 930₽ \nЧаевые: 237₽ \nСумма оплаты: 465₽ \nВсего оплачено: 930₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:57:39\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 930₽ \nЧаевые: 237₽ \nСумма оплаты: 465₽ \nВсего оплачено: 930₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:57:39\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"9af52061d45be4d2","name":"telegram message","source":"9af52061d45be4d2.txt","type":"text/plain","size":497}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676642262717,"stop":1676642262717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=930, tips=237, paySum=465, totalPaid=930, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=930, tips=237, paySum=465, totalPaid=930, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676642262717,"stop":1676642262826,"duration":109},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676642262826,"stop":1676642264827,"duration":2001},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Очищаем локал и куки для разделения чека","time":{"start":1676642264851,"stop":1676642266378,"duration":1527},"status":"passed","steps":[{"name":"Обновляем текущую страницу","time":{"start":1676642264866,"stop":1676642266378,"duration":1512},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642264877,"stop":1676642266378,"duration":1501},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем рандомное число блюд (3), проверяем сумму, проводим все проверки с чаевыми и СБ","time":{"start":1676642266378,"stop":1676642284065,"duration":17687},"status":"passed","steps":[{"name":"Переключаем на разделение счёта","time":{"start":1676642266378,"stop":1676642270318,"duration":3940},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642266378,"stop":1676642267878,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","time":{"start":1676642268818,"stop":1676642270318,"duration":1500},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","time":{"start":1676642270318,"stop":1676642274155,"duration":3837},"status":"passed","steps":[{"name":"Принудительно прячем способы оплаты и футер","time":{"start":1676642270318,"stop":1676642270349,"duration":31},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 6","time":{"start":1676642270455,"stop":1676642270455,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642270635,"stop":1676642271635,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 6","time":{"start":1676642271665,"stop":1676642271665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 6","time":{"start":1676642271723,"stop":1676642271723,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642271886,"stop":1676642272887,"duration":1001},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Генерация рандомного значения от 1 до 6","time":{"start":1676642272913,"stop":1676642272913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"6"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","time":{"start":1676642273108,"stop":1676642274108,"duration":1000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676642274122,"stop":1676642274155,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"3"}],"stepsCount":9,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","time":{"start":1676642274155,"stop":1676642274446,"duration":291},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","time":{"start":1676642274446,"stop":1676642284065,"duration":9619},"status":"passed","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","time":{"start":1676642274446,"stop":1676642275663,"duration":1217},"status":"passed","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","time":{"start":1676642274446,"stop":1676642274505,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642274505,"stop":1676642275578,"duration":1073},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642274505,"stop":1676642275510,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","time":{"start":1676642275578,"stop":1676642275578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"16.4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой с сб","time":{"start":1676642275663,"stop":1676642280606,"duration":4943},"status":"passed","steps":[{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642275852,"stop":1676642276893,"duration":1041},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642275852,"stop":1676642276857,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642277073,"stop":1676642278113,"duration":1040},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642277073,"stop":1676642278076,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642278313,"stop":1676642279359,"duration":1046},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642278313,"stop":1676642279318,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем сумму сервисного сбора если он включен","time":{"start":1676642279560,"stop":1676642280606,"duration":1046},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642279560,"stop":1676642280566,"duration":1006},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем все варианты чаевых с общей суммой без сб","time":{"start":1676642280606,"stop":1676642282355,"duration":1749},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676642280606,"stop":1676642281724,"duration":1118},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642280606,"stop":1676642281610,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","time":{"start":1676642282355,"stop":1676642284065,"duration":1710},"status":"passed","steps":[{"name":"Активируем СБ если не активен","time":{"start":1676642282355,"stop":1676642283450,"duration":1095},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642282374,"stop":1676642283378,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"465.0"}],"stepsCount":20,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"stepsCount":35,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","time":{"start":1676642284065,"stop":1676642284320,"duration":255},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 150 до 250","time":{"start":1676642284320,"stop":1676642284320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"150"},{"name":"max","value":"250"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод кастомных чаевых","time":{"start":1676642284320,"stop":1676642284993,"duration":673},"status":"passed","steps":[{"name":"Ввод данных 170 с задержкой","time":{"start":1676642284646,"stop":1676642284967,"duration":321},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-auto=\"totalTipsSumInMiddle\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"93\" data-v-ddf44f58 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"170"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"value","value":"170"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676642284993,"stop":1676642285022,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676642285022,"stop":1676642285154,"duration":132},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642285022,"stop":1676642285094,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676642285154,"stop":1676642288351,"duration":3197},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676642285154,"stop":1676642285788,"duration":634},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642285800,"stop":1676642286314,"duration":514},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных и выбранных позиций в заказе","time":{"start":1676642285982,"stop":1676642286314,"duration":332},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676642286314,"stop":1676642286567,"duration":253},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676642286615,"stop":1676642287972,"duration":1357},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642287972,"stop":1676642288213,"duration":241},"status":"passed","steps":[],"attachments":[{"uid":"3769d0ed796f5b43","name":"Список не оплаченных и не заблокированных блюд","source":"3769d0ed796f5b43.txt","type":"text/plain","size":378}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676642288351,"stop":1676642292579,"duration":4228},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676642288351,"stop":1676642288794,"duration":443},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676642288351,"stop":1676642288689,"duration":338},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676642288794,"stop":1676642288817,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676642288830,"stop":1676642292465,"duration":3635},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642288830,"stop":1676642292465,"duration":3635},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676642292465,"stop":1676642292579,"duration":114},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642292543,"stop":1676642292561,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n657.45\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676642292561,"stop":1676642292579,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676642292579,"stop":1676642293650,"duration":1071},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642292579,"stop":1676642292582,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676642292582,"stop":1676642292624,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"657.45"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676642292624,"stop":1676642293650,"duration":1026},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676642292624,"stop":1676642292691,"duration":67},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676642292691,"stop":1676642292866,"duration":175},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676642292751,"stop":1676642292866,"duration":115},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676642292866,"stop":1676642293151,"duration":285},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676642292974,"stop":1676642293015,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676642293095,"stop":1676642293151,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676642293151,"stop":1676642293299,"duration":148},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676642293258,"stop":1676642293299,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676642293299,"stop":1676642293650,"duration":351},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676642293558,"stop":1676642293650,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"657.45"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676642293697,"stop":1676642298239,"duration":4542},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты c частичной оплатой","time":{"start":1676642298239,"stop":1676642307646,"duration":9407},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676642298239,"stop":1676642304833,"duration":6594},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676642298251,"stop":1676642301335,"duration":3084},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676642304833,"stop":1676642307577,"duration":2744},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642304850,"stop":1676642307416,"duration":2566},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642307561,"stop":1676642307577,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует частичной оплате","time":{"start":1676642307577,"stop":1676642307646,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[{"name":"orderType","value":"part"}],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676642307646,"stop":1676642308366,"duration":720},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676642307646,"stop":1676642308344,"duration":698},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29971"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676642308344,"stop":1676642308366,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@1416f36c"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29971"},{"name":"paymentData","value":"{order_amount=46500, fee=2245, tips=17000}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676642308366,"stop":1676642318926,"duration":10560},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (10000 мс)","time":{"start":1676642308366,"stop":1676642318366,"duration":10000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"10000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676642318366,"stop":1676642318924,"duration":558},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676642318366,"stop":1676642318924,"duration":558},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"696e7460648010e8","name":"Сообщение в телеграмме","source":"696e7460648010e8.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676642318926,"stop":1676642318926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 465₽ \nЧаевые: 170₽ \nСумма оплаты: 465₽ \nВсего оплачено: 1395₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:58:36\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676642318926,"stop":1676642318926,"duration":0},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676642318926,"stop":1676642318926,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 465₽ \nЧаевые: 170₽ \nСумма оплаты: 465₽ \nВсего оплачено: 1395₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:58:36\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 \uD83D\uDFE8️️\nСумма в чеке: 1860₽ \nОсталось оплатить: 465₽ \nЧаевые: 170₽ \nСумма оплаты: 465₽ \nВсего оплачено: 1395₽ \nСтатус оплаты: Частично оплачено\nСтатус заказа: Предоплата успешно прошла по кассе\nДата заказа: 17.02.2023 | 16:58:36\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"fc79aa5317ad11fe","name":"telegram message","source":"fc79aa5317ad11fe.txt","type":"text/plain","size":498}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"},{"name":"waitingTime","value":"10000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676642318927,"stop":1676642318927,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=465, tips=170, paySum=465, totalPaid=1395, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=465, tips=170, paySum=465, totalPaid=1395, payStatus=Частично оплачено, orderStatus=Предоплата успешно прошла по кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676642318927,"stop":1676642319014,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676642319014,"stop":1676642321014,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сохранение общей суммы в таппере для проверки суммы в б2п","time":{"start":1676642321042,"stop":1676642321071,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Сохранение общей суммы, чаевых, СБ для проверки с транзакцией б2п","time":{"start":1676642321071,"stop":1676642321248,"duration":177},"status":"passed","steps":[{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642321071,"stop":1676642321171,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сбор данных со стола для проверки с телеграм сообщением","time":{"start":1676642321248,"stop":1676642324117,"duration":2869},"status":"passed","steps":[{"name":"Считаем сумму всех не выбранных позиций","time":{"start":1676642321248,"stop":1676642321993,"duration":745},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получаем чистую сумму за вычетом всех сб,чаевых,скидки,наценки,оплаченных ранее","time":{"start":1676642322010,"stop":1676642322322,"duration":312},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642322196,"stop":1676642322322,"duration":126},"status":"passed","steps":[],"attachments":[{"uid":"b4a57ce82be9e68b","name":"Список не оплаченных и не заблокированных блюд","source":"b4a57ce82be9e68b.txt","type":"text/plain","size":189}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных позиций и заблокированных в заказе","time":{"start":1676642322322,"stop":1676642322439,"duration":117},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Получение информации о заказе на столе","time":{"start":1676642322507,"stop":1676642323881,"duration":1374},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"id_table","value":"1000046"},{"name":"baseUri","value":"https://apitapper.zedform.ru/api/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642323882,"stop":1676642324000,"duration":118},"status":"passed","steps":[],"attachments":[{"uid":"35a1b6dd78054b5f","name":"Список не оплаченных и не заблокированных блюд","source":"35a1b6dd78054b5f.txt","type":"text/plain","size":189}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"tableId","value":"1000046"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","time":{"start":1676642324117,"stop":1676642328366,"duration":4249},"status":"passed","steps":[{"name":"Клик по кнопке оплаты","time":{"start":1676642324117,"stop":1676642324597,"duration":480},"status":"passed","steps":[{"name":"Смена оплаты на кредитную карту","time":{"start":1676642324117,"stop":1676642324509,"duration":392},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Отображается лоадер на странице","time":{"start":1676642324597,"stop":1676642324640,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка что мы находимся на странице эквайринга","time":{"start":1676642324655,"stop":1676642328242,"duration":3587},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642324655,"stop":1676642328242,"duration":3587},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН и что форма оплаты появилась","time":{"start":1676642328242,"stop":1676642328366,"duration":124},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642328330,"stop":1676642328348,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n530.39\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка попапа ВПН","time":{"start":1676642328348,"stop":1676642328366,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":8,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка перехода на б2п, общей суммы, способов оплаты, ввод данных для оплаты","time":{"start":1676642328366,"stop":1676642329436,"duration":1070},"status":"passed","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","time":{"start":1676642328366,"stop":1676642328372,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","time":{"start":1676642328372,"stop":1676642328406,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"530.4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных и оплата","time":{"start":1676642328406,"stop":1676642329436,"duration":1030},"status":"passed","steps":[{"name":"Проверка что доступны 3 способа оплаты","time":{"start":1676642328406,"stop":1676642328475,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Ввод номера карты","time":{"start":1676642328475,"stop":1676642328664,"duration":189},"status":"passed","steps":[{"name":"Ввод данных 4809388886227309 без задержки","time":{"start":1676642328557,"stop":1676642328664,"duration":107},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод даты истечения карты","time":{"start":1676642328664,"stop":1676642328960,"duration":296},"status":"passed","steps":[{"name":"Ввод данных 12 без задержки","time":{"start":1676642328761,"stop":1676642328812,"duration":51},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод данных 24 без задержки","time":{"start":1676642328926,"stop":1676642328960,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Ввод CVV","time":{"start":1676642328960,"stop":1676642329114,"duration":154},"status":"passed","steps":[{"name":"Ввод данных 123 без задержки","time":{"start":1676642329058,"stop":1676642329114,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке отправить по email и ввод почты","time":{"start":1676642329114,"stop":1676642329436,"duration":322},"status":"passed","steps":[{"name":"Ввод данных autotests@tapper.cloud без задержки","time":{"start":1676642329348,"stop":1676642329436,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":10,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalPay","value":"530.4"}],"stepsCount":13,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик по кнопке оплатить","time":{"start":1676642329459,"stop":1676642331725,"duration":2266},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Проверка поочередных статусов оплаты с полной оплатой","time":{"start":1676642331725,"stop":1676642341127,"duration":9402},"status":"passed","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","time":{"start":1676642331725,"stop":1676642338538,"duration":6813},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","time":{"start":1676642331740,"stop":1676642334732,"duration":2992},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"paymentProcessStatus\"]\"}"},{"name":"time","value":"30"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","time":{"start":1676642338538,"stop":1676642341040,"duration":2502},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642338551,"stop":1676642340902,"duration":2351},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"[data-auto=\"reviewContainer\"]\"}"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","time":{"start":1676642341023,"stop":1676642341040,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue function(){return t.theme}\" data-auto=\"finishReviewButton\" data-v-108c7a73 data-v-52a42233 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Заголовок соответствует полной оплате","time":{"start":1676642341040,"stop":1676642341127,"duration":87},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":6,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","time":{"start":1676642341127,"stop":1676642341848,"duration":721},"status":"passed","steps":[{"name":"Получаем транзакцию по оплате в б2п","time":{"start":1676642341127,"stop":1676642341828,"duration":701},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"29972"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Забираем с транзакции только информацию об оплате","time":{"start":1676642341828,"stop":1676642341848,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@731fc00"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"transactionId","value":"29972"},{"name":"paymentData","value":"{order_amount=46500, fee=1639, tips=4900}"}],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получение сообщения тг, парсинг, преобразование в хешкарту","time":{"start":1676642341848,"stop":1676642358414,"duration":16566},"status":"passed","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (16000 мс)","time":{"start":1676642341848,"stop":1676642357848,"duration":16000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"16000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Получаем список всех сообщений об оплате","time":{"start":1676642357849,"stop":1676642358413,"duration":564},"status":"passed","steps":[{"name":"Получение сообщений из бота в канале","time":{"start":1676642357849,"stop":1676642358413,"duration":564},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"89986dadde00c65d","name":"Сообщение в телеграмме","source":"89986dadde00c65d.txt","type":"text/plain","size":469}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"}],"stepsCount":1,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Определяем и устанавливаем тип сообщения","time":{"start":1676642358413,"stop":1676642358413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"tgMsg","value":"Стол: 111 ✅\nСумма в чеке: 1860₽ \nОсталось оплатить: 0₽ \nЧаевые: 49₽ \nСумма оплаты: 465₽ \nВсего оплачено: 1860₽ \nСтатус оплаты: Полностью оплачено\nСтатус заказа: Успешно закрыт на кассе\nДата заказа: 17.02.2023 | 16:59:16\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Парсим сообщение и преобразовываем в в хешкарту в зависимости от типа сообщения","time":{"start":1676642358413,"stop":1676642358414,"duration":1},"status":"passed","steps":[{"name":"Наполнение хешкарты если сообщение типа оплаты, без ошибки","time":{"start":1676642358413,"stop":1676642358414,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"textMsg","value":"Стол: 111 ✅\nСумма в чеке: 1860₽ \nОсталось оплатить: 0₽ \nЧаевые: 49₽ \nСумма оплаты: 465₽ \nВсего оплачено: 1860₽ \nСтатус оплаты: Полностью оплачено\nСтатус заказа: Успешно закрыт на кассе\nДата заказа: 17.02.2023 | 16:59:16\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper"},{"name":"tgParsedText","value":"{}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"msg","value":"{msgType=orderPay, message=Стол: 111 ✅\nСумма в чеке: 1860₽ \nОсталось оплатить: 0₽ \nЧаевые: 49₽ \nСумма оплаты: 465₽ \nВсего оплачено: 1860₽ \nСтатус оплаты: Полностью оплачено\nСтатус заказа: Успешно закрыт на кассе\nДата заказа: 17.02.2023 | 16:59:16\nОфициант: Robocop\nЗаказ# {A74216F4-E236-44F1-A14D-75E188CC2BFE}\nНазвание: testrkeeper}"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[{"uid":"698d8a079460c8d1","name":"telegram message","source":"698d8a079460c8d1.txt","type":"text/plain","size":469}],"parameters":[{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"},{"name":"waitingTime","value":"16000"}],"stepsCount":6,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},{"name":"Сравнение данных сообщения из тг и таппера","time":{"start":1676642358414,"stop":1676642358414,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"telegramDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=0, tips=49, paySum=465, totalPaid=1860, payStatus=Полностью оплачено, orderStatus=Успешно закрыт на кассе, waiter=Robocop}"},{"name":"tapperDataForTgMsg","value":"{table=111, sumInCheck=1860, restToPay=0, tips=49, paySum=465, totalPaid=1860, payStatus=Полностью оплачено, orderStatus=Успешно закрыт на кассе, waiter=Robocop}"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","time":{"start":1676642358414,"stop":1676642358524,"duration":110},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","time":{"start":1676642358524,"stop":1676642360524,"duration":2000},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"},{"name":"guid","value":"{A74216F4-E236-44F1-A14D-75E188CC2BFE}"},{"name":"timeoutPartPay","value":"10000"},{"name":"timeoutFullPay","value":"16000"},{"name":"tableId","value":"1000046"}],"stepsCount":249,"attachmentsCount":10,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":258,"attachmentsCount":12,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1676642360540,"stop":1676642360762,"duration":222},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-platform-suite]/[suite:tapper.tests.SecondThreadTestSuite]/[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._2_partialPayment._2_4_ChoseAndPartPayTillEndTest]/[method:payTillEnd()]"},{"name":"story","value":"Частичная оплата в несколько платежей до конца - +чай +сбор"},{"name":"feature","value":"Частичная оплата"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"fv-az419-239"},{"name":"thread","value":"2326@fv-az419-239.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._2_partialPayment._2_4_ChoseAndPartPayTillEndTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._2_partialPayment._2_4_ChoseAndPartPayTillEndTest"},{"name":"testMethod","value":"payTillEnd"},{"name":"suite","value":"Частичная оплата в несколько платежей до конца - +чай +сбор"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":1,"unknown":0,"total":2},"items":[{"uid":"a86b9b71dcf115fe","reportUrl":"https://dm4mylife.github.io/tapper.cloud/32//#testresult/a86b9b71dcf115fe","status":"failed","statusDetails":"Нет сообщения в телеграмме по этому заказу . После ожидания 20 сек сообщение в телеграмме не появилоась ==> expected: not <null>","time":{"start":1674821912493,"stop":1674821933544,"duration":21051}}]},"tags":[]},"source":"4a108b1bdfae534b.json","parameterValues":[]}