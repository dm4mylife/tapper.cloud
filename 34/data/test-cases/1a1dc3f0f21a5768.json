{"uid":"1a1dc3f0f21a5768","name":"2. Проверка суммы, чаевых, сервисного сбора","fullName":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_1_AddAndFullTest.checkSumTipsSC","historyId":"869d6b1889c50d51cfa6acd4ca8bf786","time":{"start":1676642381039,"stop":1676642392042,"duration":11003},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"setUp","time":{"start":1676642360764,"stop":1676642360773,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"testStage":{"description":"","status":"passed","steps":[{"name":"Проверяем сумму всего не оплаченного заказа c чаевыми и с СБ","time":{"start":1676642381039,"stop":1676642392041,"duration":11002},"status":"passed","steps":[{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","time":{"start":1676642381039,"stop":1676642381247,"duration":208},"status":"passed","steps":[],"attachments":[{"uid":"55a9e77d15882bf3","name":"Список не оплаченных и не заблокированных блюд","source":"55a9e77d15882bf3.txt","type":"text/plain","size":315}],"parameters":[],"stepsCount":0,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","time":{"start":1676642381247,"stop":1676642386093,"duration":4846},"status":"passed","steps":[{"name":"Отключаем чаевые и выключаем сервисный сбор","time":{"start":1676642381247,"stop":1676642383679,"duration":2432},"status":"passed","steps":[{"name":"Сброс чаевых","time":{"start":1676642381247,"stop":1676642382564,"duration":1317},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642381247,"stop":1676642382254,"duration":1007},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Деактивируем СБ если активен","time":{"start":1676642382564,"stop":1676642383679,"duration":1115},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642382564,"stop":1676642383569,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":4,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","time":{"start":1676642383679,"stop":1676642383764,"duration":85},"status":"passed","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","time":{"start":1676642383725,"stop":1676642383741,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-272f2f9e>775 ₽</span>"},{"name":"time","value":"2"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"775.0"}],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","time":{"start":1676642383764,"stop":1676642383784,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Включаем рандомные чаевые и сервисный сбор","time":{"start":1676642383784,"stop":1676642386093,"duration":2309},"status":"passed","steps":[{"name":"Устанавливаем рандомные чаевые","time":{"start":1676642383784,"stop":1676642384989,"duration":1205},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642383784,"stop":1676642384788,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Генерация рандомного значения от 1 до 4","time":{"start":1676642384865,"stop":1676642384865,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":2,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1676642384989,"stop":1676642386093,"duration":1104},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642385021,"stop":1676642386026,"duration":1005},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":5,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":14,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что все варианты чаевых корректны","time":{"start":1676642386093,"stop":1676642390795,"duration":4702},"status":"passed","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","time":{"start":1676642386093,"stop":1676642387312,"duration":1219},"status":"passed","steps":[{"name":"Деактивируем СБ если активен","time":{"start":1676642386101,"stop":1676642387201,"duration":1100},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642386101,"stop":1676642387105,"duration":1004},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","time":{"start":1676642387261,"stop":1676642387276,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"waiterTipsPercent active\" data-auto=\"activeTipsButton\" data-v-0d67ec6f data-v-ddf44f58>25%</div>"},{"name":"time","value":"15"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"775.0"}],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","time":{"start":1676642387313,"stop":1676642390795,"duration":3482},"status":"passed","steps":[{"name":"Прощёлкиваем все опции чаевых и проверяем что чаевые формируются корректно от общей суммы","time":{"start":1676642387313,"stop":1676642390795,"duration":3482},"status":"passed","steps":[{"name":"Принудительно раскрываем способы оплаты и футер","time":{"start":1676642387313,"stop":1676642387354,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642387354,"stop":1676642388357,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1676642388371,"stop":1676642389473,"duration":1102},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642388389,"stop":1676642389392,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Активируем СБ если не активен","time":{"start":1676642389722,"stop":1676642389739,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1676642390002,"stop":1676642390021,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1676642390274,"stop":1676642390294,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"Активируем СБ если не активен","time":{"start":1676642390545,"stop":1676642390563,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[{"uid":"457496bdd8ac95d8","name":"Подсчёт сумм","source":"457496bdd8ac95d8.txt","type":"text/plain","size":3089}],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":8,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":9,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":14,"attachmentsCount":1,"shouldDisplayMessage":false,"hasContent":true},{"name":"Выставляем чаевые на 0 и активируем СБ","time":{"start":1676642390795,"stop":1676642392041,"duration":1246},"status":"passed","steps":[{"name":"Сброс чаевых","time":{"start":1676642390795,"stop":1676642392024,"duration":1229},"status":"passed","steps":[{"name":"Плавный скрол до самого низа страницы","time":{"start":1676642390795,"stop":1676642391798,"duration":1003},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","time":{"start":1676642392024,"stop":1676642392041,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"totalSum","value":"775.0"}],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"775.0"}],"stepsCount":3,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":35,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true}],"attachments":[],"parameters":[],"stepsCount":36,"attachmentsCount":2,"shouldDisplayMessage":false,"hasContent":true},"afterStages":[{"name":"tearDown","time":{"start":1676642430686,"stop":1676642430907,"duration":221},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-platform-suite]/[suite:tapper.tests.SecondThreadTestSuite]/[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_1_AddAndFullTest]/[method:checkSumTipsSC()]"},{"name":"feature","value":"Добавление и удаление позиций из заказа"},{"name":"story","value":"Добавление позиции, полная оплата"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"fv-az419-239"},{"name":"thread","value":"2326@fv-az419-239.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_1_AddAndFullTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_1_AddAndFullTest"},{"name":"testMethod","value":"checkSumTipsSC"},{"name":"suite","value":"Добавление позиции, полная оплата"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":[]},"source":"1a1dc3f0f21a5768.json","parameterValues":[]}