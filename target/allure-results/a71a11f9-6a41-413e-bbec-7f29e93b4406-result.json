{"uuid":"a71a11f9-6a41-413e-bbec-7f29e93b4406","historyId":"67495880b85777448a777e41ad5c999c","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest]/[method:openAndCheck()]","testCaseName":"2. Открытие стола, проверка что позиции на кассе совпадают с позициями в таппере","fullName":"tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest.openAndCheck","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest]/[method:openAndCheck()]"},{"name":"feature","value":"Полная оплата"},{"name":"story","value":"Комплекс оплат для проверки на странице истории операций в админке"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"15492@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest"},{"name":"testMethod","value":"openAndCheck"},{"name":"suite","value":"Комплекс оплат для проверки на странице истории операций в админке"}],"links":[],"name":"2. Открытие стола, проверка что позиции на кассе совпадают с позициями в таппере","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"Суммы в таппере не сходятся с транзакцией b2p ==> expected: <{order_amount=24500, fee=2377, tips=40200}> but was: <{order_amount=24499, fee=2377, tips=40200}>","trace":"org.opentest4j.AssertionFailedError: Суммы в таппере не сходятся с транзакцией b2p ==> expected: <{order_amount=24500, fee=2377, tips=40200}> but was: <{order_amount=24499, fee=2377, tips=40200}>\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1152)\r\n\tat tapper_table.nestedTestsManager.ReviewPageNestedTests.getTransactionAndMatchSums(ReviewPageNestedTests.java:83)\r\n\tat tapper_table.nestedTestsManager.NestedTests.checkPaymentAndB2pTransaction(NestedTests.java:46)\r\n\tat tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest.openAndCheck(_0_8_OperationsHistoryTest.java:85)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:194)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:295)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1016)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1665)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1598)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n"},"stage":"finished","description":"","steps":[{"name":"Переход на страницу https://prop-ssr.zedform.ru/testrkeeper/1000046 и ждём принудительно пока не прогрузятся все скрипты\\элементы\\сокет","status":"passed","stage":"finished","steps":[{"name":"Открытие страницы https://prop-ssr.zedform.ru/testrkeeper/1000046","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://prop-ssr.zedform.ru/testrkeeper/1000046"}],"start":1671599728287,"stop":1671599734765},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"start":1671599734769,"stop":1671599735787}],"attachments":[],"parameters":[{"name":"url","value":"https://prop-ssr.zedform.ru/testrkeeper/1000046"}],"start":1671599728279,"stop":1671599735787},{"name":"Проверка что позиции в заказе на кассе и в таппере одинаковы","status":"passed","stage":"finished","steps":[{"name":"Меню корректно отображается","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<ul class=\"orderList\" data-v-c235ec72>Оплачено\nБарное пиво\n155\n₽\nОплачено\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nБарное пиво\n155\n₽\nОплачено\nБарное пиво\n155\n₽\nОплачено\nБарное пиво\n155\n₽\nОплачено\nпозиция 2\n245\n₽\nпозиция1\n192\n₽\nОплачено\nпозиция3\n300\n₽\nпозиция 2\n245\n₽\nОплачено\nпозиция1\n192\n₽\nОплачено\nпозиция3\n300\n₽</ul>"},{"name":"time","value":"30"}],"start":1671599736010,"stop":1671599736042}],"attachments":[],"parameters":[],"start":1671599735787,"stop":1671599736042}],"attachments":[],"parameters":[],"start":1671599735787,"stop":1671599736042},{"name":"Выбираем рандомное число блюд (1), проверяем сумму, проводим все проверки с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1000"}],"start":1671599736047,"stop":1671599737053},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"BaseSwitch\" data-v-b0e65b2c data-v-efb05494></div>"},{"name":"time","value":"5"}],"start":1671599737105,"stop":1671599737120},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"BaseSwitch\" data-v-b0e65b2c data-v-efb05494></div>"}],"start":1671599737160,"stop":1671599737229}],"attachments":[],"parameters":[],"start":1671599736047,"stop":1671599737229},{"name":"Выбираем определенное число блюд и считаем сумму выбранных рандомных позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем футер","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599737230,"stop":1671599737234},{"name":"Генерация рандомного значения от 1 до 4","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"start":1671599737263,"stop":1671599737263},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"orderItem__price\" data-v-b41d8f6a>245\n₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671599737340,"stop":1671599737359},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"orderItem__name\" data-v-b41d8f6a>позиция 2</div>"}],"start":1671599737430,"stop":1671599737489},{"name":"Принудительно раскрываем футер","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599737780,"stop":1671599737789}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"1"}],"start":1671599737229,"stop":1671599737789},{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"orderItem__price\" data-v-b41d8f6a>245\n₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671599737900,"stop":1671599737918},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>245 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599737991,"stop":1671599738008}],"attachments":[],"parameters":[],"start":1671599737789,"stop":1671599738010},{"name":"Проверка что чистая сумма позиций совпадает с общей суммой в 'Итого к оплате', все опции чаевых корректны с\\без СБ, СБ считается по формуле корректно","status":"passed","stage":"finished","steps":[{"name":"Проверяем что общая чистая сумма совпадает с 'Итого к оплате'","status":"passed","stage":"finished","steps":[{"name":"Проверяем что текущие чаевые в поле 'Чаевые' сходятся с чаевыми по центру. Отдаём чаевые","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>49 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599738094,"stop":1671599738108}],"attachments":[],"parameters":[],"start":1671599738010,"stop":1671599738108},{"name":"Забираем сумму сервисного сбора если он включен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599738110,"stop":1671599739120},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (6.13₽)</div>"},{"name":"regex","value":"[^\\d\\.\\-]+"}],"start":1671599739190,"stop":1671599739205},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.13"}],"start":1671599739205,"stop":1671599739205}],"attachments":[],"parameters":[],"start":1671599738110,"stop":1671599739205},{"name":"Считаем общую сумму за все блюда + чаевые + сбор","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"245.0"},{"name":"currentTips","value":"49.0"},{"name":"currentSC","value":"6.13"}],"start":1671599739205,"stop":1671599739206},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>300.13 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599739248,"stop":1671599739260},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"appFooter__priceShield undefined\" data-v-41e9baa8>300.13 ₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671599739308,"stop":1671599739321}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"245.0"}],"start":1671599738010,"stop":1671599739321},{"name":"Проверяем все варианты чаевых с общей суммой с сб","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"waiterTipsPercent\" data-v-00ae26c6 data-v-b7b59af2>0%</div>"}],"start":1671599739367,"stop":1671599739407},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599739460,"stop":1671599739479},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"waiterTipsPercent active\" data-v-00ae26c6 data-v-b7b59af2>0%</div>"},{"name":"regex","value":"\\D+"}],"start":1671599739508,"stop":1671599739510},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>248.68 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599739548,"stop":1671599739560},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"appFooter__priceShield undefined\" data-v-41e9baa8>248.68 ₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671599739598,"stop":1671599739609},{"name":"Забираем сумму сервисного сбора если он включен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599739609,"stop":1671599740622},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (3.68₽)</div>"},{"name":"regex","value":"[^\\d\\.\\-]+"}],"start":1671599740671,"stop":1671599740678},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"3.68"}],"start":1671599740678,"stop":1671599740678}],"attachments":[],"parameters":[],"start":1671599739609,"stop":1671599740678},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"waiterTipsPercent\" data-v-00ae26c6 data-v-b7b59af2>25%</div>"}],"start":1671599740721,"stop":1671599740761},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>61 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599740817,"stop":1671599740828},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"waiterTipsPercent active\" data-v-00ae26c6 data-v-b7b59af2>25%</div>"},{"name":"regex","value":"\\D+"}],"start":1671599740860,"stop":1671599740867},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>312.72 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599740900,"stop":1671599740920},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"appFooter__priceShield undefined\" data-v-41e9baa8>312.72 ₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671599740950,"stop":1671599740960},{"name":"Забираем сумму сервисного сбора если он включен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599740960,"stop":1671599741970},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (6.72₽)</div>"},{"name":"regex","value":"[^\\d\\.\\-]+"}],"start":1671599742010,"stop":1671599742027},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.72"}],"start":1671599742027,"stop":1671599742027}],"attachments":[],"parameters":[],"start":1671599740960,"stop":1671599742027}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"245.0"}],"start":1671599739322,"stop":1671599742027},{"name":"Проверяем все варианты чаевых с общей суммой без сб","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599742027,"stop":1671599743037},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (6.72₽)</div>"}],"start":1671599743080,"stop":1671599743128}],"attachments":[],"parameters":[],"start":1671599742027,"stop":1671599743128},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"waiterTipsPercent\" data-v-00ae26c6 data-v-b7b59af2>0%</div>"}],"start":1671599743161,"stop":1671599743193},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599743250,"stop":1671599743260},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"waiterTipsPercent active\" data-v-00ae26c6 data-v-b7b59af2>0%</div>"},{"name":"regex","value":"\\D+"}],"start":1671599743289,"stop":1671599743290},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>245 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599743323,"stop":1671599743339},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"appFooter__priceShield undefined\" data-v-41e9baa8>245 ₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671599743367,"stop":1671599743380}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"245.0"}],"start":1671599742027,"stop":1671599743380},{"name":"Проверяем что сбор формируется корректно по формуле со всеми чаевыми","status":"passed","stage":"finished","steps":[{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599743393,"stop":1671599744397},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (3.68₽)</div>"}],"start":1671599744423,"stop":1671599744466}],"attachments":[],"parameters":[],"start":1671599743380,"stop":1671599744466},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"waiterTipsPercent\" data-v-00ae26c6 data-v-b7b59af2>25%</div>"}],"start":1671599744495,"stop":1671599744525},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (6.72₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671599744579,"stop":1671599744592},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.72"}],"start":1671599744592,"stop":1671599744592},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"3.675"}],"start":1671599744593,"stop":1671599744593},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"3.0500000000000003"}],"start":1671599744593,"stop":1671599744593},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>312.72 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599744625,"stop":1671599744638},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"appFooter__priceShield undefined\" data-v-41e9baa8>312.72 ₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671599744666,"stop":1671599744677}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"245.0"}],"start":1671599743380,"stop":1671599744677}],"attachments":[],"parameters":[{"name":"cleanDishesSum","value":"245.0"}],"start":1671599738010,"stop":1671599744677}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1671599736047,"stop":1671599744677},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599744679,"stop":1671599745687},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButtonClose\" data-v-5074aea5 data-v-b7b59af2 type=\"button\"></button>"}],"start":1671599745723,"stop":1671599745777},{"name":"Генерация рандомного значения от 1 до 1","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"1"}],"start":1671599745787,"stop":1671599745787},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"waiterTipsPercent\" data-v-00ae26c6 data-v-b7b59af2>25%</div>"}],"start":1671599745828,"stop":1671599745873}],"attachments":[],"parameters":[],"start":1671599744679,"stop":1671599745897},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599745897,"stop":1671599745911}],"attachments":[],"parameters":[],"start":1671599744679,"stop":1671599745911},{"name":"Генерация рандомного значения от 100 до 1000","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"100"},{"name":"max","value":"1000"}],"start":1671599745911,"stop":1671599745911},{"name":"Ввод кастомных чаевых","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"75\" data-v-b7b59af2 placeholder=\"0\" type=\"text\"></input>"}],"start":1671599746001,"stop":1671599746048},{"name":"Ввод данных 402 с задержкой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"waiter__input\" data-mask=\"######\" data-mask-inited=\"true\" data-mask-raw-value=\"75\" data-v-b7b59af2 placeholder=\"0\" type=\"text\"></input>"},{"name":"text","value":"402"}],"start":1671599746113,"stop":1671599746367}],"attachments":[],"parameters":[{"name":"value","value":"402"}],"start":1671599745911,"stop":1671599746393},{"name":"Сохранение общей суммы в таппере для передачи в другой тест","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>670.77 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599746424,"stop":1671599746435}],"attachments":[],"parameters":[],"start":1671599746393,"stop":1671599746435},{"name":"Сохранения данных для проверки истории операции в админке","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора строку","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"header__item header__item--gray\" data-v-9d6e9462>Стол 3</div>"},{"name":"regex","value":"Стол "}],"start":1671599746477,"stop":1671599746491},{"name":"Преобразовываем\\вырезаем текст из селектора строку","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"orderTotal__row\" data-v-2862c362>Чаевые:\n402 ₽</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671599746561,"stop":1671599746575},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (23.77₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671599746616,"stop":1671599746629},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"23.77"}],"start":1671599746630,"stop":1671599746630},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>402 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599746663,"stop":1671599746670},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>670.77 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599746698,"stop":1671599746710}],"attachments":[],"parameters":[],"start":1671599746575,"stop":1671599746710},{"name":"Получить дату в формате dd.MM.yyyy","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"pattern","value":"dd.MM.yyyy"}],"start":1671599746710,"stop":1671599746710}],"attachments":[],"parameters":[],"start":1671599746435,"stop":1671599746710},{"name":"Сохранение всех сумм для проверки что транзакция создалась на b2p","status":"passed","stage":"finished","steps":[{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (23.77₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671599746757,"stop":1671599746773},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"23.77"}],"start":1671599746773,"stop":1671599746773},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>402 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599746810,"stop":1671599746830},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>670.77 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671599746860,"stop":1671599746877}],"attachments":[],"parameters":[],"start":1671599746710,"stop":1671599746877},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (23.77₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671599746949,"stop":1671599746964},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"23.77"}],"start":1671599746964,"stop":1671599746964}],"attachments":[],"parameters":[],"start":1671599746710,"stop":1671599746964},{"name":"Переход в эквайринг, ввод данных, оплата и возврат на стол таппер","status":"passed","stage":"finished","steps":[{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599746964,"stop":1671599747978},{"name":"Клик по кнопке оплаты","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599747978,"stop":1671599748987},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue undefined\" data-v-7131f0e2 data-v-c235ec72 type=\"button\">Оплатить</button>"}],"start":1671599749028,"stop":1671599749081}],"attachments":[],"parameters":[],"start":1671599747978,"stop":1671599749081},{"name":"Отображается лоадер на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599749081,"stop":1671599749102},{"name":"Проверка что мы находимся на странице эквайринга","status":"passed","stage":"finished","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"start":1671599749113,"stop":1671599751582}],"attachments":[],"parameters":[],"start":1671599749113,"stop":1671599751582},{"name":"Проверка попапа ВПН и что форма оплаты появилась","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n670.77\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"start":1671599751654,"stop":1671599751671},{"name":"Проверка попапа ВПН","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599751671,"stop":1671599751690}],"attachments":[],"parameters":[],"start":1671599751582,"stop":1671599751690}],"attachments":[],"parameters":[],"start":1671599746964,"stop":1671599751690},{"name":"Проверка общей суммы, способов оплаты, ввод данных","status":"passed","stage":"finished","steps":[{"name":"Проверка что сумма 'Итого к оплате' в таппере сходится с суммой в эквайринге","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"form__amount-value\" id=\"totalAmountValue\">670.77</div>"},{"name":"regex","value":"\\s"}],"start":1671599751735,"stop":1671599751749}],"attachments":[],"parameters":[{"name":"totalPayTapper","value":"670.77"}],"start":1671599751690,"stop":1671599751749},{"name":"Проверка что доступны 3 способа оплаты","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"payment-method__button payment-method__button--card button__active\" id=\"paymentTypeCard\" tabindex=\"0\" type=\"button\">Банковская карта</button>"}],"start":1671599751797,"stop":1671599751811},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"yandexpay payment-method__button payment-method__button--yandexpay white\"></div>"}],"start":1671599751859,"stop":1671599751873},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"payment-method__button payment-method__button--sbp\" id=\"sbpButton\" type=\"button\"></button>"}],"start":1671599751918,"stop":1671599751931}],"attachments":[],"parameters":[],"start":1671599751750,"stop":1671599751931},{"name":"Ввод номера карты","status":"passed","stage":"finished","steps":[{"name":"Ввод данных 4809388886227309 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"start":1671599751975,"stop":1671599752041}],"attachments":[],"parameters":[],"start":1671599751931,"stop":1671599752041},{"name":"Ввод даты истечения карты","status":"passed","stage":"finished","steps":[{"name":"Ввод данных 12 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"start":1671599752084,"stop":1671599752110},{"name":"Ввод данных 24 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"start":1671599752144,"stop":1671599752166}],"attachments":[],"parameters":[],"start":1671599752041,"stop":1671599752166},{"name":"Ввод CVV","status":"passed","stage":"finished","steps":[{"name":"Ввод данных 123 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"start":1671599752210,"stop":1671599752234}],"attachments":[],"parameters":[],"start":1671599752166,"stop":1671599752234},{"name":"Клик по кнопке отправить по email и ввод почты","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"checkbox__body\"></span>"}],"start":1671599752291,"stop":1671599752344},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"}],"start":1671599752397,"stop":1671599752412},{"name":"Ввод данных autotests@tapper.cloud без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"start":1671599752445,"stop":1671599752497}],"attachments":[],"parameters":[],"start":1671599752234,"stop":1671599752497}],"attachments":[],"parameters":[{"name":"totalPay","value":"670.77"}],"start":1671599751690,"stop":1671599752497},{"name":"Клик по кнопке оплатить","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"button\" id=\"submitButton\" tabindex=\"6\" type=\"submit\">Оплатить</button>"}],"start":1671599752566,"stop":1671599755891}],"attachments":[],"parameters":[],"start":1671599752516,"stop":1671599755891}],"attachments":[],"parameters":[{"name":"totalPay","value":"670.77"}],"start":1671599746964,"stop":1671599755891},{"name":"Проверка всего процесса оплаты, транзакции, ожидание пустого стола","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"Суммы в таппере не сходятся с транзакцией b2p ==> expected: <{order_amount=24500, fee=2377, tips=40200}> but was: <{order_amount=24499, fee=2377, tips=40200}>","trace":"org.opentest4j.AssertionFailedError: Суммы в таппере не сходятся с транзакцией b2p ==> expected: <{order_amount=24500, fee=2377, tips=40200}> but was: <{order_amount=24499, fee=2377, tips=40200}>\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1152)\r\n\tat tapper_table.nestedTestsManager.ReviewPageNestedTests.getTransactionAndMatchSums(ReviewPageNestedTests.java:83)\r\n\tat tapper_table.nestedTestsManager.NestedTests.checkPaymentAndB2pTransaction(NestedTests.java:46)\r\n\tat tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest.openAndCheck(_0_8_OperationsHistoryTest.java:85)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:194)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:295)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1016)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1665)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1598)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n"},"stage":"finished","steps":[{"name":"Проверка поочередных статусов оплаты c частичной оплатой","status":"passed","stage":"finished","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","status":"passed","stage":"finished","steps":[{"name":"Первичная заставка\\лого\\анимация при открытии страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599755892,"stop":1671599756645},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"paymentProcess\" data-v-555f3f2e data-v-c235ec72>Производится оплата\nПожалуйста, подождите..</div>"},{"name":"time","value":"10"}],"start":1671599756685,"stop":1671599756696},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<img alt=\"payment\" data-v-555f3f2e src=\"/_nuxt/img/payment_process_gif.329fa04.gif\"></img>"}],"start":1671599756737,"stop":1671599756751},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"paymentProcess__status\" data-v-555f3f2e>Производится оплата</div>"}],"start":1671599756793,"stop":1671599756806},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"paymentProcess__text\" data-v-555f3f2e>Пожалуйста, подождите..</div>"}],"start":1671599756854,"stop":1671599756869},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<img alt=\"payment\" class=\"fade-enter-active fade-enter-to\" data-v-555f3f2e src=\"/_nuxt/img/payment_process_yes.42562b4.png\"></img>"}],"start":1671599760169,"stop":1671599760181}],"attachments":[],"parameters":[],"start":1671599755892,"stop":1671599760181},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".mainPage .reviewModal\"}"},{"name":"time","value":"10"}],"start":1671599760191,"stop":1671599762788},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"reviewModal__stars-item\" data-v-3c0f22e4></li>"}],"start":1671599762817,"stop":1671599762830},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<textarea class=\"reviewModal__comments-textarea\" data-v-3c0f22e4 name=\"review\" placeholder=\"Расскажите подробнее...\" type=\"textarea\"></textarea>"}],"start":1671599762870,"stop":1671599762880},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue undefined\" data-v-3c0f22e4 data-v-7131f0e2 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"start":1671599762908,"stop":1671599762927}],"attachments":[],"parameters":[],"start":1671599760181,"stop":1671599762927},{"name":"Заголовок соответствует частичной оплате","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671599762927,"stop":1671599762974}],"attachments":[],"parameters":[],"start":1671599755892,"stop":1671599762974},{"name":"Получаем саму транзакцию б2п и сравниваем с суммами которые были при оплате","status":"failed","statusDetails":{"known":false,"muted":false,"flaky":false,"message":"Суммы в таппере не сходятся с транзакцией b2p ==> expected: <{order_amount=24500, fee=2377, tips=40200}> but was: <{order_amount=24499, fee=2377, tips=40200}>","trace":"org.opentest4j.AssertionFailedError: Суммы в таппере не сходятся с транзакцией b2p ==> expected: <{order_amount=24500, fee=2377, tips=40200}> but was: <{order_amount=24499, fee=2377, tips=40200}>\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n\tat org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n\tat org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1152)\r\n\tat tapper_table.nestedTestsManager.ReviewPageNestedTests.getTransactionAndMatchSums(ReviewPageNestedTests.java:83)\r\n\tat tapper_table.nestedTestsManager.NestedTests.checkPaymentAndB2pTransaction(NestedTests.java:46)\r\n\tat tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest.openAndCheck(_0_8_OperationsHistoryTest.java:85)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService.invokeAll(ForkJoinPoolHierarchicalTestExecutorService.java:129)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:194)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:295)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1016)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1665)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1598)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n"},"stage":"finished","steps":[{"name":"Получаем транзакцию по оплате в б2п","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"transaction_id","value":"22469"}],"start":1671599762975,"stop":1671599765658},{"name":"Забираем с транзакции только информацию об оплате","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"rs","value":"io.restassured.internal.RestAssuredResponseImpl@570f00d"}],"start":1671599765658,"stop":1671599765708}],"attachments":[],"parameters":[{"name":"trans_id","value":"22469"},{"name":"paymentData","value":"{order_amount=24499, fee=2377, tips=40200}"}],"start":1671599762975,"stop":1671599765710}],"attachments":[],"parameters":[{"name":"transactionId","value":"22469"},{"name":"paymentDataKeeper","value":"{order_amount=24499, fee=2377, tips=40200}"}],"start":1671599755891,"stop":1671599765710}],"attachments":[{"name":"Screenshot","source":"b59f7c68-86fe-472b-a003-2561a1d82f72-attachment.png","type":"image/png"}],"parameters":[],"start":1671599728258,"stop":1671599765891}