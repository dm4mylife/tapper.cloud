{"uuid":"afb309ec-5586-4fdc-b493-1297eb1a1755","historyId":"4fb870310b2ec7a19754164ba316c595","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest]/[method:clearDataAndChoseAgain()]","testCaseName":"1.7. Делаем полную оплату на столе","fullName":"tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest.clearDataAndChoseAgain","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest]/[method:clearDataAndChoseAgain()]"},{"name":"feature","value":"Полная оплата"},{"name":"story","value":"Комплекс оплат для проверки на странице истории операций в админке"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"12008@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._0_common._0_8_OperationsHistoryTest"},{"name":"testMethod","value":"clearDataAndChoseAgain"},{"name":"suite","value":"Частичная и полная оплата с кастомными чаевыми, обычные позиции"}],"links":[],"name":"1.7. Делаем полную оплату на столе","status":"passed","stage":"finished","description":"","steps":[{"name":"Очищаем локал и куки для разделения чека","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605737121,"stop":1671605737135},{"name":"Сохранение общей суммы в таппере для передачи в другой тест","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>1562.92 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671605738201,"stop":1671605738213}],"attachments":[],"parameters":[],"start":1671605737135,"stop":1671605738214},{"name":"Сохранения данных для проверки истории операции в админке","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора строку","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"header__item header__item--gray\" data-v-9d6e9462 displayed:false></div>"},{"name":"regex","value":"Стол "}],"start":1671605738256,"stop":1671605738267},{"name":"Преобразовываем\\вырезаем текст из селектора строку","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"orderTotal__row\" data-v-2862c362>Чаевые:\n140 ₽</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671605738329,"stop":1671605738342},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (27.92₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671605738396,"stop":1671605738410},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"27.92"}],"start":1671605738410,"stop":1671605738410},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>140 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671605738459,"stop":1671605738472},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>1562.92 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671605738499,"stop":1671605738503},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"1395.0"}],"start":1671605738503,"stop":1671605738503}],"attachments":[],"parameters":[],"start":1671605738342,"stop":1671605738503},{"name":"Получить дату в формате dd.MM.yyyy","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"pattern","value":"dd.MM.yyyy"}],"start":1671605738503,"stop":1671605738503}],"attachments":[],"parameters":[],"start":1671605738214,"stop":1671605738503},{"name":"Сохранение всех сумм для проверки что транзакция создалась на b2p","status":"passed","stage":"finished","steps":[{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (27.92₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671605738545,"stop":1671605738558},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"27.92"}],"start":1671605738558,"stop":1671605738558},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>140 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671605738592,"stop":1671605738603},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-2862c362>1562.92 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1671605738629,"stop":1671605738636},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"1395.0"}],"start":1671605738636,"stop":1671605738636}],"attachments":[],"parameters":[],"start":1671605738503,"stop":1671605738636},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-641bdbfc data-v-c235ec72>Я хочу взять на себя сервисный сбор Tapper (27.92₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1671605738737,"stop":1671605738750},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"27.92"}],"start":1671605738750,"stop":1671605738750}],"attachments":[],"parameters":[],"start":1671605738503,"stop":1671605738750},{"name":"Закрываем заказ полностью","status":"passed","stage":"finished","steps":[{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605738758,"stop":1671605739768},{"name":"Клик по кнопке оплаты","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605739768,"stop":1671605740775},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue undefined\" data-v-7131f0e2 data-v-c235ec72 type=\"button\">Оплатить</button>"}],"start":1671605740805,"stop":1671605740865}],"attachments":[],"parameters":[],"start":1671605739768,"stop":1671605740865},{"name":"Отображается лоадер на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605740865,"stop":1671605740879},{"name":"Проверка что мы находимся на странице эквайринга","status":"passed","stage":"finished","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"start":1671605740888,"stop":1671605743257}],"attachments":[],"parameters":[],"start":1671605740887,"stop":1671605743257},{"name":"Проверка попапа ВПН и что форма оплаты появилась","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Банковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n1 562.92\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"start":1671605743316,"stop":1671605743330},{"name":"Проверка попапа ВПН","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605743330,"stop":1671605743343}],"attachments":[],"parameters":[],"start":1671605743257,"stop":1671605743343}],"attachments":[],"parameters":[],"start":1671605738758,"stop":1671605743343},{"name":"Ввод данных и оплатить","status":"passed","stage":"finished","steps":[{"name":"Проверка что доступны 3 способа оплаты","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"payment-method__button payment-method__button--card button__active\" id=\"paymentTypeCard\" tabindex=\"0\" type=\"button\">Банковская карта</button>"}],"start":1671605743384,"stop":1671605743395},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"yandexpay payment-method__button payment-method__button--yandexpay white\"></div>"}],"start":1671605743443,"stop":1671605743455},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"payment-method__button payment-method__button--sbp\" id=\"sbpButton\" type=\"button\"></button>"}],"start":1671605743502,"stop":1671605743513}],"attachments":[],"parameters":[],"start":1671605743343,"stop":1671605743513},{"name":"Ввод номера карты","status":"passed","stage":"finished","steps":[{"name":"Ввод данных 4809388886227309 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input autocomplete=\"cc-number\" class=\"input__field input__field--pan\" id=\"pan\" maxlength=\"23\" name=\"pan\" placeholder=\"_\" tabindex=\"1\" type=\"tel\" value></input>"},{"name":"text","value":"4809388886227309"}],"start":1671605743551,"stop":1671605743610}],"attachments":[],"parameters":[],"start":1671605743513,"stop":1671605743610},{"name":"Ввод даты истечения карты","status":"passed","stage":"finished","steps":[{"name":"Ввод данных 12 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value></input>"},{"name":"text","value":"12"}],"start":1671605743651,"stop":1671605743674},{"name":"Ввод данных 24 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-exp\" class=\"input__field input__field--date\" clear-name=\"true\" id=\"cardDate\" maxlength=\"9\" name=\"date\" placeholder=\"_\" required tabindex=\"2\" type=\"tel\" value=\"12 / \"></input>"},{"name":"text","value":"24"}],"start":1671605743706,"stop":1671605743729}],"attachments":[],"parameters":[],"start":1671605743610,"stop":1671605743729},{"name":"Ввод CVV","status":"passed","stage":"finished","steps":[{"name":"Ввод данных 123 без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input aria-required=\"true\" autocomplete=\"cc-csc\" class=\"input__field input__field--cvv\" id=\"cvc\" maxlength=\"3\" name=\"cvc\" placeholder=\"_\" required tabindex=\"3\" type=\"tel\"></input>"},{"name":"text","value":"123"}],"start":1671605743768,"stop":1671605743792}],"attachments":[],"parameters":[],"start":1671605743729,"stop":1671605743792},{"name":"Клик по кнопке отправить по email и ввод почты","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"checkbox__body\"></span>"}],"start":1671605743833,"stop":1671605743884},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"}],"start":1671605743929,"stop":1671605743941},{"name":"Ввод данных autotests@tapper.cloud без задержки","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<input class=\"input__field input__field--email\" id=\"email\" inputmode=\"email\" name=\"email\" placeholder=\" \" required=\"required\" tabindex=\"4\" type=\"text\"></input>"},{"name":"text","value":"autotests@tapper.cloud"}],"start":1671605743968,"stop":1671605744020}],"attachments":[],"parameters":[],"start":1671605743792,"stop":1671605744020},{"name":"Клик по кнопке оплатить","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"button\" id=\"submitButton\" tabindex=\"6\" type=\"submit\">Оплатить</button>"}],"start":1671605744061,"stop":1671605746849}],"attachments":[],"parameters":[],"start":1671605744020,"stop":1671605746849}],"attachments":[],"parameters":[],"start":1671605743343,"stop":1671605746849},{"name":"Проверка поочередных статусов оплаты с полной оплатой","status":"passed","stage":"finished","steps":[{"name":"Форма статуса оплаты отображается. Проверки что нет ошибки, статус производится и успешно корректны","status":"passed","stage":"finished","steps":[{"name":"Первичная заставка\\лого\\анимация при открытии страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605746850,"stop":1671605747593},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"paymentProcess\" data-v-555f3f2e data-v-c235ec72>Производится оплата\nПожалуйста, подождите..</div>"},{"name":"time","value":"10"}],"start":1671605747636,"stop":1671605747648},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<img alt=\"payment\" data-v-555f3f2e src=\"/_nuxt/img/payment_process_gif.329fa04.gif\"></img>"}],"start":1671605747687,"stop":1671605747698},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"paymentProcess__status\" data-v-555f3f2e>Производится оплата</div>"}],"start":1671605747736,"stop":1671605747748},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"paymentProcess__text\" data-v-555f3f2e>Пожалуйста, подождите..</div>"}],"start":1671605747786,"stop":1671605747799},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<img alt=\"payment\" data-v-555f3f2e src=\"/_nuxt/img/payment_process_yes.42562b4.png\"></img>"}],"start":1671605751016,"stop":1671605751020}],"attachments":[],"parameters":[],"start":1671605746849,"stop":1671605751020},{"name":"Проверка заголовка статуса и что все элементы отзыва отображаются","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".mainPage .reviewModal\"}"},{"name":"time","value":"10"}],"start":1671605751020,"stop":1671605753542},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"reviewModal__stars-item\" data-v-3c0f22e4></li>"}],"start":1671605753570,"stop":1671605753585},{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<textarea class=\"reviewModal__comments-textarea\" data-v-3c0f22e4 name=\"review\" placeholder=\"Расскажите подробнее...\" type=\"textarea\"></textarea>"}],"start":1671605753617,"stop":1671605753634},{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue undefined\" data-v-3c0f22e4 data-v-7131f0e2 type=\"button\">Готово</button>"},{"name":"time","value":"10"}],"start":1671605753666,"stop":1671605753681}],"attachments":[],"parameters":[],"start":1671605751020,"stop":1671605753681},{"name":"Заголовок соответствует полной оплате","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605753681,"stop":1671605753733}],"attachments":[],"parameters":[],"start":1671605746849,"stop":1671605753733},{"name":"Клик в кнопку отправить отзыв и ожидание прелоадера","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем футер","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605753733,"stop":1671605753739},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605753739,"stop":1671605754752},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue undefined\" data-v-3c0f22e4 data-v-7131f0e2 type=\"button\">Готово</button>"}],"start":1671605754769,"stop":1671605754826},{"name":"Принудительно раскрываем футер","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1671605754826,"stop":1671605754830}],"attachments":[],"parameters":[],"start":1671605753733,"stop":1671605754830},{"name":"Проверки что стол освободился, статусы в заголовке корректные","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"orderEmpty__description\" data-v-67bca598>Скоро здесь появится ваш заказ</div>"}],"start":1671605754874,"stop":1671605754885},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"appFooter__priceShield undefined\" data-v-41e9baa8>0 ₽</div>"},{"name":"regex","value":"\\s₽"}],"start":1671605754933,"stop":1671605754949}],"attachments":[],"parameters":[],"start":1671605754830,"stop":1671605754949}],"attachments":[],"parameters":[],"start":1671605738750,"stop":1671605754949}],"attachments":[],"parameters":[],"start":1671605737097,"stop":1671605754949}