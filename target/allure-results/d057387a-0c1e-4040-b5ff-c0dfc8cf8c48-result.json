{"uuid":"d057387a-0c1e-4040-b5ff-c0dfc8cf8c48","historyId":"b262e6d106134748d20ab449e8a3affc","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_2_PartPayNoTipScTest]/[method:checkSumTipsSC()]","testCaseName":"3. Выбираем рандомно блюда, проверяем все суммы и условия, оплачиваем","fullName":"tapper.tests.e2e._2_2_PartPayNoTipScTest.checkSumTipsSC","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_2_PartPayNoTipScTest]/[method:checkSumTipsSC()]"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"feature","value":"keeper - частичная оплата - обычные позиции - без чая + сбор - карта - отзыв"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"15500@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e._2_2_PartPayNoTipScTest"},{"name":"testClass","value":"tapper.tests.e2e._2_2_PartPayNoTipScTest"},{"name":"testMethod","value":"checkSumTipsSC"},{"name":"suite","value":"keeper - частичная оплата - обычные позиции - без чая + сбор - карта - отзыв"}],"links":[],"name":"3. Выбираем рандомно блюда, проверяем все суммы и условия, оплачиваем","status":"passed","stage":"finished","description":"","steps":[{"name":"Выбираем рандомное число блюд (3), проверяем сумму, без чаевых, с сервисным сбором","status":"passed","stage":"finished","steps":[{"name":"Выбираем рандомное число блюд (3) и считаем их сумму","status":"passed","stage":"finished","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"start":1668668389565,"stop":1668668391569},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be([visible, 5 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391604,"stop":1668668391614}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"},{"name":"time","value":"5"}],"start":1668668391604,"stop":1668668391614},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391637,"stop":1668668391647},{"name":"$(\".divide__check span.slider\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391648,"stop":1668668391706}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"}],"start":1668668391637,"stop":1668668391706}],"attachments":[],"parameters":[],"start":1668668389565,"stop":1668668391706},{"name":"Считаем сумму выбранных рандомных позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391706,"stop":1668668391713},{"name":"Генерация рандомного значения от 1 до 22","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"22"}],"start":1668668391728,"stop":1668668391728},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[1]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391728,"stop":1668668391744},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][1]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391782,"stop":1668668391792}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668391782,"stop":1668668391792},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391792,"stop":1668668391812},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391844,"stop":1668668391849}],"attachments":[],"parameters":[],"start":1668668391844,"stop":1668668391851},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391851,"stop":1668668391890}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668668391844,"stop":1668668391890},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[1]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668391890,"stop":1668668392148},{"name":"Генерация рандомного значения от 1 до 22","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"22"}],"start":1668668392152,"stop":1668668392152},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[11]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392152,"stop":1668668392163},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][11]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392185,"stop":1668668392196}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668392185,"stop":1668668392196},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392196,"stop":1668668392211},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392240,"stop":1668668392245}],"attachments":[],"parameters":[],"start":1668668392240,"stop":1668668392249},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392249,"stop":1668668392286}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668668392240,"stop":1668668392286},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[11]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392286,"stop":1668668392543},{"name":"Генерация рандомного значения от 1 до 22","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"22"}],"start":1668668392548,"stop":1668668392548},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[4]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392548,"stop":1668668392559},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][4]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392583,"stop":1668668392593}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668392583,"stop":1668668392593},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][4]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392593,"stop":1668668392608},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][4]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][4]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392638,"stop":1668668392642}],"attachments":[],"parameters":[],"start":1668668392638,"stop":1668668392646},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][4]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392646,"stop":1668668392682}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668668392638,"stop":1668668392682},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[4]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392682,"stop":1668668392940},{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392940,"stop":1668668392945}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"3"}],"start":1668668391706,"stop":1668668392945}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"start":1668668389565,"stop":1668668392945},{"name":"Проверяем сумму выбранных позиций заказа без чаевых с СБ","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392953,"stop":1668668392964},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392964,"stop":1668668392975},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[1]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668392999,"stop":1668668393008}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668392999,"stop":1668668393008},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[1]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393008,"stop":1668668393017},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393017,"stop":1668668393028},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393028,"stop":1668668393038},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393039,"stop":1668668393050},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[4]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393076,"stop":1668668393085}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668393076,"stop":1668668393085},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[4]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393085,"stop":1668668393095},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393095,"stop":1668668393106},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393106,"stop":1668668393118},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393118,"stop":1668668393120},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393120,"stop":1668668393142},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[9]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393142,"stop":1668668393156},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[10]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393156,"stop":1668668393169},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[11]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393169,"stop":1668668393181},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[11]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393204,"stop":1668668393214}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668393204,"stop":1668668393214},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[11]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393214,"stop":1668668393223},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[12]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393223,"stop":1668668393235},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[13]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393235,"stop":1668668393247},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[14]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393247,"stop":1668668393257},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[15]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393258,"stop":1668668393269},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[16]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393269,"stop":1668668393281},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[17]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393281,"stop":1668668393292},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[18]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393292,"stop":1668668393303},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[19]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393303,"stop":1668668393316},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[20]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393316,"stop":1668668393328},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(22 elements)[21]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393328,"stop":1668668393339},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='check__tips-heading'][text()='Отмеченные позиции:']/following-sibling::span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393376,"stop":1668668393386}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>465 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668393376,"stop":1668668393386}],"attachments":[],"parameters":[],"start":1668668392945,"stop":1668668393386},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","status":"passed","stage":"finished","steps":[{"name":"Отключаем чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668393386,"stop":1668668394394},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668394394,"stop":1668668394401},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668394401,"stop":1668668394413},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668668394413,"stop":1668668394420}],"attachments":[],"parameters":[],"start":1668668393386,"stop":1668668394420},{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","status":"passed","stage":"finished","steps":[{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668394420,"stop":1668668394428},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668394428,"stop":1668668395440},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395476,"stop":1668668395487},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395487,"stop":1668668395522}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"start":1668668395476,"stop":1668668395522},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395522,"stop":1668668395537},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395537,"stop":1668668395541},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395541,"stop":1668668395548},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395548,"stop":1668668395551},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395551,"stop":1668668395558},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668395558,"stop":1668668396566},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668668396566,"stop":1668668396572}],"attachments":[],"parameters":[],"start":1668668395548,"stop":1668668396572},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"start":1668668396572,"stop":1668668396572},{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396572,"stop":1668668396577},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396577,"stop":1668668396592},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"start":1668668396592,"stop":1668668396592},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.97"}],"start":1668668396592,"stop":1668668396592},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396629,"stop":1668668396638}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668396629,"stop":1668668396638},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396678,"stop":1668668396689}],"attachments":[],"parameters":[{"name":"selector","value":"<span>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668396678,"stop":1668668396689},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"start":1668668396689,"stop":1668668396689}],"attachments":[],"parameters":[{"name":"totalSum","value":"465.0"}],"start":1668668395537,"stop":1668668396689},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396717,"stop":1668668396736}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668668396717,"stop":1668668396736},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396776,"stop":1668668396787}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668396776,"stop":1668668396787},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396787,"stop":1668668396797},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396821,"stop":1668668396832}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668396821,"stop":1668668396832},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396857,"stop":1668668396867}],"attachments":[],"parameters":[{"name":"selector","value":"<span>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668396857,"stop":1668668396867}],"attachments":[],"parameters":[{"name":"totalSum","value":"465.0"}],"start":1668668394420,"stop":1668668396867}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"465.0"}],"start":1668668393386,"stop":1668668396867},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") should be([visible, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396890,"stop":1668668396901}],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"time","value":"2"}],"start":1668668396890,"stop":1668668396901},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396926,"stop":1668668396936}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668668396926,"stop":1668668396936},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396971,"stop":1668668396983}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(6.975\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668668396971,"stop":1668668396983},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"start":1668668396983,"stop":1668668396983}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"465.0"}],"start":1668668396867,"stop":1668668396983},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","status":"passed","stage":"finished","steps":[{"name":"$(\".menu\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396983,"stop":1668668396994}],"attachments":[],"parameters":[],"start":1668668396983,"stop":1668668396994},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668396995,"stop":1668668397000},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397000,"stop":1668668397007}],"attachments":[],"parameters":[],"start":1668668396995,"stop":1668668397007},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397043,"stop":1668668397054},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397054,"stop":1668668397087}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668668397043,"stop":1668668397087},{"name":"Генерация рандомного значения от 1 до 3","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"3"}],"start":1668668397094,"stop":1668668397095},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][2]\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397157,"stop":1668668397168},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][2]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397168,"stop":1668668397209}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>25%</li>"}],"start":1668668397157,"stop":1668668397209},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][2]\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397209,"stop":1668668397225},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][2]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397225,"stop":1668668397238}],"attachments":[],"parameters":[],"start":1668668397007,"stop":1668668397238}],"attachments":[],"parameters":[],"start":1668668396994,"stop":1668668397238}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"465.0"}],"start":1668668393386,"stop":1668668397238}],"attachments":[],"parameters":[],"start":1668668392945,"stop":1668668397238},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397273,"stop":1668668397286},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668668397286,"stop":1668668397319}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668668397273,"stop":1668668397319}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"start":1668668389565,"stop":1668668397319}],"attachments":[],"parameters":[],"start":1668668389565,"stop":1668668397319}