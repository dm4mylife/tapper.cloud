{"uuid":"43fcb543-5b73-47de-a0b2-e91dfdb6638d","historyId":"1e7c6e275568127f5672df36c7cee59a","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull]/[method:chooseDishesAndCheckAfterDivided()]","testCaseName":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","fullName":"tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull.chooseDishesAndCheckAfterDivided","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull]/[method:chooseDishesAndCheckAfterDivided()]"},{"name":"feature","value":"keeper - частичная оплата когда разделили счёт - рандомные поз без скидки - чай+сбор - карта - отзыв"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"15008@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull"},{"name":"testClass","value":"tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull"},{"name":"testMethod","value":"chooseDishesAndCheckAfterDivided"},{"name":"suite","value":"keeper - частичная оплата когда разделили счёт - рандомные поз без скидки - чай+сбор - карта - отзыв"}],"links":[],"name":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","status":"passed","stage":"finished","description":"","steps":[{"name":"Выбираем рандомное число блюд (1), проверяем сумму, проводим все проверки с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Выбираем рандомное число блюд (1) и считаем их сумму","status":"passed","stage":"finished","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"start":1668759470706,"stop":1668759472718},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be([visible, 5 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472753,"stop":1668759472763}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"},{"name":"time","value":"5"}],"start":1668759472753,"stop":1668759472763},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472786,"stop":1668759472795},{"name":"$(\".divide__check span.slider\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472795,"stop":1668759472850}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"}],"start":1668759472786,"stop":1668759472850}],"attachments":[],"parameters":[],"start":1668759470706,"stop":1668759472850},{"name":"Считаем сумму выбранных рандомных позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472850,"stop":1668759472853},{"name":"Генерация рандомного значения от 1 до 11","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"11"}],"start":1668759472868,"stop":1668759472868},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[10]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472868,"stop":1668759472881},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][10]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472910,"stop":1668759472921}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759472910,"stop":1668759472921},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][10]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472921,"stop":1668759472940},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][10]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][10]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472968,"stop":1668759472972}],"attachments":[],"parameters":[],"start":1668759472968,"stop":1668759472974},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][10]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759472974,"stop":1668759473015}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668759472968,"stop":1668759473015},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[10]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473015,"stop":1668759473270},{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473271,"stop":1668759473273}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"1"}],"start":1668759472850,"stop":1668759473273}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668759470706,"stop":1668759473273},{"name":"Проверяем сумму выбранных позиций заказа с разделенными позициями с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473282,"stop":1668759473294},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473294,"stop":1668759473304},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473304,"stop":1668759473314},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473314,"stop":1668759473325},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473325,"stop":1668759473336},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473336,"stop":1668759473346},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473346,"stop":1668759473357},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473357,"stop":1668759473368},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473368,"stop":1668759473383},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[9]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473383,"stop":1668759473394},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[10]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473394,"stop":1668759473405},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[10]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473428,"stop":1668759473437}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759473428,"stop":1668759473437},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[10]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473437,"stop":1668759473445},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='check__tips-heading'][text()='Отмеченные позиции:']/following-sibling::span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473481,"stop":1668759473491}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759473481,"stop":1668759473491}],"attachments":[],"parameters":[],"start":1668759473273,"stop":1668759473491},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","status":"passed","stage":"finished","steps":[{"name":"Отключаем чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759473491,"stop":1668759474503},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759474503,"stop":1668759474509},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759474510,"stop":1668759474521},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759474522,"stop":1668759474529}],"attachments":[],"parameters":[],"start":1668759473491,"stop":1668759474529},{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","status":"passed","stage":"finished","steps":[{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759474529,"stop":1668759474536},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759474536,"stop":1668759475544},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475578,"stop":1668759475588},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475588,"stop":1668759475621}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"start":1668759475578,"stop":1668759475621},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 4 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475621,"stop":1668759475635},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475635,"stop":1668759475638},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475638,"stop":1668759475645},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475645,"stop":1668759475649},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475649,"stop":1668759475655},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759475655,"stop":1668759476658},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759476658,"stop":1668759476666}],"attachments":[],"parameters":[],"start":1668759475645,"stop":1668759476666},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668759476666,"stop":1668759476666},{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476666,"stop":1668759476673},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476673,"stop":1668759476685},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"start":1668759476685,"stop":1668759476685},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.32"}],"start":1668759476685,"stop":1668759476685},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476721,"stop":1668759476731}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759476721,"stop":1668759476731},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476764,"stop":1668759476772}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759476764,"stop":1668759476772},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668759476772,"stop":1668759476772}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759475635,"stop":1668759476772},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476795,"stop":1668759476804}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668759476795,"stop":1668759476804},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476837,"stop":1668759476847}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759476837,"stop":1668759476847},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476847,"stop":1668759476861},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476885,"stop":1668759476893}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759476885,"stop":1668759476893},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476916,"stop":1668759476924}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759476916,"stop":1668759476924}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759474529,"stop":1668759476924}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668759473491,"stop":1668759476924},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") should be([visible, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476947,"stop":1668759476957}],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"time","value":"2"}],"start":1668759476947,"stop":1668759476957},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476957,"stop":1668759476964},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759476996,"stop":1668759477005}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668759476996,"stop":1668759477005},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668759477005,"stop":1668759477005},{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477005,"stop":1668759477009},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check .check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477034,"stop":1668759477044}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759477034,"stop":1668759477044},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477067,"stop":1668759477076}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759477067,"stop":1668759477076}],"attachments":[],"parameters":[],"start":1668759476957,"stop":1668759477076}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"155.0"}],"start":1668759476925,"stop":1668759477076},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","status":"passed","stage":"finished","steps":[{"name":"$(\".menu\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477076,"stop":1668759477083}],"attachments":[],"parameters":[],"start":1668759477076,"stop":1668759477083},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477083,"stop":1668759477086},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477086,"stop":1668759477093}],"attachments":[],"parameters":[],"start":1668759477083,"stop":1668759477093},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477128,"stop":1668759477138},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477138,"stop":1668759477171}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668759477128,"stop":1668759477171}],"attachments":[],"parameters":[],"start":1668759477093,"stop":1668759477180}],"attachments":[],"parameters":[],"start":1668759477083,"stop":1668759477180}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668759473491,"stop":1668759477180},{"name":"Проверяем что все варианты чаевых корректны","status":"passed","stage":"finished","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477180,"stop":1668759477186},{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759477186,"stop":1668759478202},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759478202,"stop":1668759478206},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759478206,"stop":1668759478212},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759478212,"stop":1668759478218}],"attachments":[],"parameters":[],"start":1668759477186,"stop":1668759478218},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") should be([visible, 15 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759478244,"stop":1668759478253}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"time","value":"15"}],"start":1668759478244,"stop":1668759478253},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759478277,"stop":1668759478286}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668759478277,"stop":1668759478286},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759478309,"stop":1668759478320}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759478309,"stop":1668759478320}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"155.0"}],"start":1668759477180,"stop":1668759478321},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","status":"passed","stage":"finished","steps":[{"name":"Прощёлкиваем все чаевые и проверяем что суммы корректны и сходятся. Добавляем лог в аллюр","status":"passed","stage":"finished","steps":[{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759478321,"stop":1668759478323},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759478323,"stop":1668759479330},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759479337,"stop":1668759479341},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759479341,"stop":1668759479347},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759479347,"stop":1668759480365},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759480365,"stop":1668759480370}],"attachments":[],"parameters":[],"start":1668759479337,"stop":1668759480370},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480390,"stop":1668759480396},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480396,"stop":1668759480416}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"}],"start":1668759480390,"stop":1668759480416},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480416,"stop":1668759480422},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480445,"stop":1668759480454}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668759480445,"stop":1668759480454},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668759480454,"stop":1668759480454},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480473,"stop":1668759480478}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668759480473,"stop":1668759480478},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480500,"stop":1668759480509}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759480500,"stop":1668759480509},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480531,"stop":1668759480542}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759480531,"stop":1668759480542},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480542,"stop":1668759480551},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480573,"stop":1668759480583},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480583,"stop":1668759480607}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668759480573,"stop":1668759480607}],"attachments":[{"name":"Подсчёт сумм","source":"f266f44c-6a27-4ce3-aa8d-b022bb196ecc-attachment.txt","type":"text/plain"}],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759478321,"stop":1668759480607}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759478321,"stop":1668759480607}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668759477180,"stop":1668759480607}],"attachments":[],"parameters":[],"start":1668759473273,"stop":1668759480607},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480632,"stop":1668759480641},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480641,"stop":1668759480663}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668759480632,"stop":1668759480663}],"attachments":[],"parameters":[],"start":1668759480607,"stop":1668759480667}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668759470706,"stop":1668759480667},{"name":"Забираем коллекцию заблокированных позиций в заказе для следующего теста","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480671,"stop":1668759480677},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480677,"stop":1668759480683},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480683,"stop":1668759480689},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480689,"stop":1668759480696},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480696,"stop":1668759480702},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480702,"stop":1668759480709},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480709,"stop":1668759480715},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480715,"stop":1668759480721},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480721,"stop":1668759480727},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[9]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480727,"stop":1668759480734},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[10]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480734,"stop":1668759480740},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[10]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480741,"stop":1668759480749},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(11 elements)[10]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480776,"stop":1668759480786}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759480776,"stop":1668759480786}],"attachments":[],"parameters":[],"start":1668759480667,"stop":1668759480786},{"name":"Очищаем все данные, рефрешим, передаём список ранее выбранных блюд, проверяем что выбранные блюда в статусе ожидаются после разделения чека","status":"passed","stage":"finished","steps":[{"name":"Очищаем локал и куки для разделения чека","status":"passed","stage":"finished","steps":[{"name":"$(\"clearCookies\") ","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480786,"stop":1668759480791},{"name":"$(\"refresh\") ","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759480793,"stop":1668759480804}],"attachments":[],"parameters":[],"start":1668759480786,"stop":1668759480804},{"name":"Меню корректно отображается","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList ul.dishList__list\") should be([visible, 30 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759481174,"stop":1668759482057}],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".dishList ul.dishList__list\"}"},{"name":"time","value":"30"}],"start":1668759481174,"stop":1668759482057}],"attachments":[],"parameters":[],"start":1668759480804,"stop":1668759482057},{"name":"Проверяем что имя и сумма перечеркнуты у заблокированных блюд","status":"passed","stage":"finished","steps":[{"name":"$(\".vOrderHeader__separate\") should be([exist, visible])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759482057,"stop":1668759482084}],"attachments":[],"parameters":[],"start":1668759482057,"stop":1668759482088},{"name":"Проверяем что блюда, которые выбраны ранее, в статусе 'Ожидается'","status":"passed","stage":"finished","steps":[{"name":"$(\"[class='dishList__item disabled'][0]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759482098,"stop":1668759482121}],"attachments":[],"parameters":[{"name":"chosenDishes","value":"{0={Барное пиво=155.0}}"}],"start":1668759482088,"stop":1668759482121}],"attachments":[],"parameters":[{"name":"chosenDishes","value":"{0={Барное пиво=155.0}}"}],"start":1668759480786,"stop":1668759482121}],"attachments":[],"parameters":[],"start":1668759470706,"stop":1668759482122}