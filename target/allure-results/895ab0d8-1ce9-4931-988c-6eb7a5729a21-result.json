{"uuid":"895ab0d8-1ce9-4931-988c-6eb7a5729a21","historyId":"2a4b3d0ac0bc347035cbe8f95a05d703","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.e2e._1_1_FullPayTest]/[method:savePaymentDataForAcquiring()]","testCaseName":"4. Сохраняем данные по оплате для проверки их корректности на эквайринге, и транзакции б2п","fullName":"tapper.tests.e2e._1_1_FullPayTest.savePaymentDataForAcquiring","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e._1_1_FullPayTest]/[method:savePaymentDataForAcquiring()]"},{"name":"feature","value":"keeper - полная оплата по кнопке 'Оплатить' - обычные позиции - чай+сбор - карта - отзыв"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"20396@WIN-UJN5UBMF8DD.ForkJoinPool-2-worker-3(41)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e._1_1_FullPayTest"},{"name":"testClass","value":"tapper.tests.e2e._1_1_FullPayTest"},{"name":"testMethod","value":"savePaymentDataForAcquiring"},{"name":"suite","value":"keeper - полная оплата по кнопке 'Оплатить' - обычные позиции - чай+сбор - карта - отзыв"}],"links":[],"name":"4. Сохраняем данные по оплате для проверки их корректности на эквайринге, и транзакции б2п","status":"passed","stage":"finished","description":"","steps":[{"name":"Сохранение общей суммы в таппере для передачи в другой тест","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606673,"stop":1668589606685}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>3960.25 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589606673,"stop":1668589606685}],"attachments":[],"parameters":[],"start":1668589606644,"stop":1668589606685},{"name":"Сохранение всех сумм для проверки что транзакция создалась на b2p","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму не оплаченных позиций в заказе не разделяя","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[0]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606723,"stop":1668589606735}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589606723,"stop":1668589606735},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[0]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606735,"stop":1668589606747},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[1]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606777,"stop":1668589606788}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589606777,"stop":1668589606788},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[1]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606789,"stop":1668589606801},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[2]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606830,"stop":1668589606842}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589606830,"stop":1668589606842},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[2]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606842,"stop":1668589606854},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[3]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606885,"stop":1668589606897}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589606885,"stop":1668589606897},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[3]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606897,"stop":1668589606908},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[4]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606936,"stop":1668589606948}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589606936,"stop":1668589606948},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[4]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606948,"stop":1668589606957},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[5]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606985,"stop":1668589606996}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589606985,"stop":1668589606996},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[5]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589606996,"stop":1668589607007},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[6]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607036,"stop":1668589607049}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607036,"stop":1668589607049},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[6]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607049,"stop":1668589607061},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[7]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607091,"stop":1668589607102}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607091,"stop":1668589607102},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[7]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607102,"stop":1668589607115},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[8]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607142,"stop":1668589607153}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607142,"stop":1668589607153},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[8]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607154,"stop":1668589607164},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[9]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607192,"stop":1668589607204}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607192,"stop":1668589607204},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[9]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607205,"stop":1668589607216},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[10]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607244,"stop":1668589607256}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607244,"stop":1668589607256},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[10]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607256,"stop":1668589607268},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[11]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607300,"stop":1668589607313}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607300,"stop":1668589607313},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[11]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607313,"stop":1668589607326},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[12]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607358,"stop":1668589607372}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607358,"stop":1668589607372},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[12]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607372,"stop":1668589607385},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[13]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607416,"stop":1668589607429}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607416,"stop":1668589607429},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[13]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607429,"stop":1668589607442},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[14]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607474,"stop":1668589607489}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607474,"stop":1668589607489},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[14]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607489,"stop":1668589607502},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[15]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607547,"stop":1668589607560}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607547,"stop":1668589607560},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[15]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607560,"stop":1668589607572},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[16]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607602,"stop":1668589607619}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607602,"stop":1668589607619},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[16]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607619,"stop":1668589607633},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[17]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607672,"stop":1668589607687}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607672,"stop":1668589607687},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[17]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607687,"stop":1668589607701},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[18]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607733,"stop":1668589607746}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607733,"stop":1668589607746},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[18]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607746,"stop":1668589607759},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[19]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607791,"stop":1668589607806}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668589607791,"stop":1668589607806},{"name":"$(\".dishList [class=\"dishList__item\"].snapshot(20 elements)[19]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607806,"stop":1668589607819}],"attachments":[],"parameters":[],"start":1668589606685,"stop":1668589607819},{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607819,"stop":1668589607824},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607824,"stop":1668589607835},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607835,"stop":1668589607840},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589607878,"stop":1668589607892}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(85.25\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668589607878,"stop":1668589607892},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"85.25"}],"start":1668589607892,"stop":1668589607892}],"attachments":[],"parameters":[],"start":1668589606685,"stop":1668589607892},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","status":"passed","stage":"finished","steps":[{"name":"Клик по кнопке оплаты","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до видимого элемента (только JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"body"}],"start":1668589607893,"stop":1668589608410},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"button.payment-btn.main-btn\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589608448,"stop":1668589608459},{"name":"$(\"button.payment-btn.main-btn\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589608459,"stop":1668589608500}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"payment-btn main-btn\" type=\"submit\">Оплатить</button>"}],"start":1668589608448,"stop":1668589608500}],"attachments":[],"parameters":[],"start":1668589607893,"stop":1668589608500},{"name":"Отображается лоадер на странице","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (6сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".vLightPreloader\") should be([visible, 6 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589608547,"stop":1668589608560}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"vLightPreloader\"></div>"},{"name":"time","value":"6"}],"start":1668589608547,"stop":1668589608560},{"name":"$(\".vAuthentication.active\") should not be([exist, 5 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589608561,"stop":1668589608568}],"attachments":[],"parameters":[],"start":1668589608500,"stop":1668589608568},{"name":"Проверка попапа ВПН и что форма оплаты появилась","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\"div.container\") should be([visible, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589608576,"stop":1668589610531}],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\"div.container\"}"},{"name":"time","value":"10"}],"start":1668589608576,"stop":1668589610531},{"name":"Проверка попапа ВПН","status":"passed","stage":"finished","steps":[{"name":"$(\".pin\") should have([css value display=flex, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668589610531,"stop":1668589610543}],"attachments":[],"parameters":[],"start":1668589610531,"stop":1668589610543}],"attachments":[],"parameters":[],"start":1668589608568,"stop":1668589610543},{"name":"Проверка что мы находимся на странице эквайринга","status":"passed","stage":"finished","steps":[{"name":"Проверка что текст https://test.best2pay.net/ содержится в текущем URL","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"text","value":"https://test.best2pay.net/"}],"start":1668589610543,"stop":1668589610547}],"attachments":[],"parameters":[],"start":1668589610543,"stop":1668589610547}],"attachments":[],"parameters":[],"start":1668589607893,"stop":1668589610547}],"attachments":[],"parameters":[],"start":1668589606643,"stop":1668589610547}