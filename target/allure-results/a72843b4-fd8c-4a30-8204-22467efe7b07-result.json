{"uuid":"a72843b4-fd8c-4a30-8204-22467efe7b07","historyId":"f763c153634311224599468278d15dcd","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._3_tips._0_5_CheckDefaultTipsLogicBySumTest]/[method:setScAndCheckTipsWith3rdOption()]","testCaseName":"1.8. Проверяем 3 опцию чаевых","fullName":"tapper.tests.keeper_e2e._3_tips._0_5_CheckDefaultTipsLogicBySumTest.setScAndCheckTipsWith3rdOption","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._3_tips._0_5_CheckDefaultTipsLogicBySumTest]/[method:setScAndCheckTipsWith3rdOption()]"},{"name":"story","value":"Проверка логики установки дефолтных чаевых от суммы заказа, ввод кастомных чаевых, ошибки суммы"},{"name":"feature","value":"Чаевые"},{"name":"epic","value":"RKeeper"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"12432@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(18)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._3_tips._0_5_CheckDefaultTipsLogicBySumTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._3_tips._0_5_CheckDefaultTipsLogicBySumTest"},{"name":"testMethod","value":"setScAndCheckTipsWith3rdOption"},{"name":"suite","value":"tapper.tests.keeper_e2e._3_tips._0_5_CheckDefaultTipsLogicBySumTest"}],"links":[],"name":"1.8. Проверяем 3 опцию чаевых","status":"passed","stage":"finished","description":"","steps":[{"name":"Проверяем установку чаевых по умолчанию по сумме, формирование СБ от чаевых, и корректность суммы оплаты в таппере и б2п","status":"passed","stage":"finished","steps":[{"name":"Проверка что логика установленных чаевых по умолчанию от общей суммы корректна","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму не оплаченных позиций в заказе не разделяя","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1669983617101,"stop":1669983617110},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>70 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1669983617164,"stop":1669983617175},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>70 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1669983617230,"stop":1669983617240}],"attachments":[],"parameters":[],"start":1669983617048,"stop":1669983617258}],"attachments":[],"parameters":[],"start":1669983617048,"stop":1669983617567},{"name":"Считаем сумму не оплаченных позиций в заказе не разделяя","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1669983617604,"stop":1669983617613},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>70 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1669983617647,"stop":1669983617659},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-e5a69182>70 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1669983617693,"stop":1669983617704}],"attachments":[],"parameters":[],"start":1669983617567,"stop":1669983617713},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper (7.38\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1669983617763,"stop":1669983617773},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"7.38"}],"start":1669983617773,"stop":1669983617773},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"4.425"}],"start":1669983617773,"stop":1669983617773},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.95"}],"start":1669983617773,"stop":1669983617773},{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983617773,"stop":1669983618785},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1669983618803,"stop":1669983618811}],"attachments":[],"parameters":[],"start":1669983617773,"stop":1669983618811},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-c8fe04fa>354 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1669983618847,"stop":1669983618858},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983618858,"stop":1669983619862},{"name":"Клик по кнопке оплаты","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983619862,"stop":1669983620876},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"payment-btn main-btn\" type=\"submit\">Оплатить</button>"}],"start":1669983620912,"stop":1669983620959}],"attachments":[],"parameters":[],"start":1669983619862,"stop":1669983620959},{"name":"Отображается лоадер на странице","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (6сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"vLightPreloader\"></div>"},{"name":"time","value":"6"}],"start":1669983620998,"stop":1669983621010}],"attachments":[],"parameters":[],"start":1669983620959,"stop":1669983621010},{"name":"Проверка что мы находимся на странице эквайринга","status":"passed","stage":"finished","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"start":1669983621018,"stop":1669983622622}],"attachments":[],"parameters":[],"start":1669983621018,"stop":1669983622622},{"name":"Проверка попапа ВПН и что форма оплаты появилась","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"container\">Оплата заказа\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n354\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"start":1669983622687,"stop":1669983622700},{"name":"Проверка попапа ВПН","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983622700,"stop":1669983622712}],"attachments":[],"parameters":[],"start":1669983622622,"stop":1669983622712}],"attachments":[],"parameters":[],"start":1669983618858,"stop":1669983622712},{"name":"Забрать итоговую сумму для оплаты со страницы транзакции","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"form__amount-value\" id=\"totalAmountValue\">354</div>"},{"name":"regex","value":"\\s"}],"start":1669983622748,"stop":1669983622758}],"attachments":[],"parameters":[],"start":1669983622712,"stop":1669983622758},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983623055,"stop":1669983623065},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".check__totalPay-heading+span\"}"},{"name":"regex","value":"\\s₽"}],"start":1669983623076,"stop":1669983623728},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983623728,"stop":1669983624731},{"name":"Клик по кнопке оплаты","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983624731,"stop":1669983625740},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"payment-btn main-btn\" type=\"submit\">Оплатить</button>"}],"start":1669983625778,"stop":1669983625835}],"attachments":[],"parameters":[],"start":1669983624731,"stop":1669983625835},{"name":"Отображается лоадер на странице","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (6сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"vLightPreloader\"></div>"},{"name":"time","value":"6"}],"start":1669983625871,"stop":1669983625881}],"attachments":[],"parameters":[],"start":1669983625835,"stop":1669983625881},{"name":"Проверка что мы находимся на странице эквайринга","status":"passed","stage":"finished","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"start":1669983625889,"stop":1669983627247}],"attachments":[],"parameters":[],"start":1669983625889,"stop":1669983627247},{"name":"Проверка попапа ВПН и что форма оплаты появилась","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"container\">Оплата заказа\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n361.38\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"start":1669983627303,"stop":1669983627318},{"name":"Проверка попапа ВПН","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1669983627318,"stop":1669983627330}],"attachments":[],"parameters":[],"start":1669983627247,"stop":1669983627330}],"attachments":[],"parameters":[],"start":1669983623728,"stop":1669983627330},{"name":"Забрать итоговую сумму для оплаты со страницы транзакции","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"form__amount-value\" id=\"totalAmountValue\">361.38</div>"},{"name":"regex","value":"\\s"}],"start":1669983627367,"stop":1669983627376}],"attachments":[],"parameters":[],"start":1669983627330,"stop":1669983627376}],"attachments":[],"parameters":[{"name":"tapperTotalPay","value":"0.0"},{"name":"b2pTotalPay","value":"0.0"}],"start":1669983615967,"stop":1669983627681}],"attachments":[],"parameters":[],"start":1669983615967,"stop":1669983627681}