{"uuid":"474513f9-f513-4d8a-8992-6058e6d73539","historyId":"da77624635dd49f69d7925b698058045","testCaseId":"[engine:junit-platform-suite]/[suite:tapper.tests.ThirdThreadTestSuite]/[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest]/[method:checkSumTipsSC()]","testCaseName":"1.2. Проверка суммы, чаевых, сервисного сбора","fullName":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest.checkSumTipsSC","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-platform-suite]/[suite:tapper.tests.ThirdThreadTestSuite]/[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest]/[method:checkSumTipsSC()]"},{"name":"feature","value":"Добавление и удаление позиций из заказа"},{"name":"epic","value":"RKeeper"},{"name":"story","value":"Добавление и удаление позиции после в одном заказе"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"30588@WIN-UJN5UBMF8DD.main(1)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._4_addAndRemoveDishPositions._0_4_7_AddAndRemoveFullTest"},{"name":"testMethod","value":"checkSumTipsSC"},{"name":"suite","value":"Добавление и удаление позиции после в одном заказе"}],"links":[{"name":"https://tapper.staging.zedform.ru/","type":"custom"},{"name":"Tapper","type":"mylink"}],"name":"1.2. Проверка суммы, чаевых, сервисного сбора","status":"passed","stage":"finished","description":"Создаём заказ\nДобавляем одну позицию\nПробуем оплатить стол и должны получить ошибку\nПроделываем тоже самое с удалением","steps":[{"name":"Переход на страницу https://stage-ssr.zedform.ru/testrkeeper/1000045 и ждём принудительно пока не прогрузятся все скрипты\\элементы\\сокет","status":"passed","stage":"finished","steps":[{"name":"Открытие страницы https://stage-ssr.zedform.ru/testrkeeper/1000045","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://stage-ssr.zedform.ru/testrkeeper/1000045"}],"start":1674720472658,"stop":1674720475194},{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (1500 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"1500"}],"start":1674720475194,"stop":1674720476700}],"attachments":[],"parameters":[{"name":"url","value":"https://stage-ssr.zedform.ru/testrkeeper/1000045"}],"start":1674720472658,"stop":1674720476705},{"name":"Проверка что позиции в заказе на кассе и в таппере одинаковы","status":"passed","stage":"finished","steps":[{"name":"Заказ не пустой и блюда отображаются","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<ul class=\"orderList\" data-auto=\"menuDishesContainer\" data-v-58bf1e06 data-v-8abf0d62>позиция3\n300\n₽\nпозиция1\n192\n₽</ul>"},{"name":"time","value":"30"}],"start":1674720476752,"stop":1674720476765}],"attachments":[],"parameters":[],"start":1674720476705,"stop":1674720476765}],"attachments":[],"parameters":[],"start":1674720476705,"stop":1674720476770},{"name":"Считаем сумму не оплаченных,незаблокированных позиций в заказе","status":"passed","stage":"finished","steps":[],"attachments":[{"name":"Список не оплаченных и не заблокированных блюд","source":"578a99a3-c69d-4269-940d-5fa1eca0aeff-attachment.txt","type":"text/plain"}],"parameters":[],"start":1674720476770,"stop":1674720476873},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","status":"passed","stage":"finished","steps":[{"name":"Отключаем чаевые и выключаем сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Сброс чаевых","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720476874,"stop":1674720477892}],"attachments":[],"parameters":[],"start":1674720476874,"stop":1674720478090},{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720478090,"stop":1674720479095}],"attachments":[],"parameters":[],"start":1674720478090,"stop":1674720479165}],"attachments":[],"parameters":[],"start":1674720476874,"stop":1674720479165},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-3ffd64ca>492 ₽</span>"},{"name":"time","value":"2"}],"start":1674720479197,"stop":1674720479208}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"492.0"}],"start":1674720479165,"stop":1674720479222},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720479222,"stop":1674720479229},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720479229,"stop":1674720480237},{"name":"Генерация рандомного значения от 1 до 4","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"4"}],"start":1674720480291,"stop":1674720480291}],"attachments":[],"parameters":[],"start":1674720479229,"stop":1674720480375},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720480389,"stop":1674720481397}],"attachments":[],"parameters":[],"start":1674720480375,"stop":1674720481441}],"attachments":[],"parameters":[],"start":1674720479229,"stop":1674720481441}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"492.0"}],"start":1674720476874,"stop":1674720481441},{"name":"Проверяем что все варианты чаевых корректны","status":"passed","stage":"finished","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720481447,"stop":1674720482451}],"attachments":[],"parameters":[],"start":1674720481447,"stop":1674720482503},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"waiterTipsPercent active\" data-auto=\"activeTipsButton\" data-v-725a0fe0 data-v-fe68b668>15%</div>"},{"name":"time","value":"15"}],"start":1674720482532,"stop":1674720482543}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"492.0"}],"start":1674720481442,"stop":1674720482565},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","status":"passed","stage":"finished","steps":[{"name":"Прощёлкиваем все опции чаевых и проверяем что чаевые формируются корректно от общей суммы","status":"passed","stage":"finished","steps":[{"name":"Принудительно раскрываем футер","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720482565,"stop":1674720482568},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720482568,"stop":1674720483584},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720483605,"stop":1674720484619}],"attachments":[],"parameters":[],"start":1674720483592,"stop":1674720484657},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720484814,"stop":1674720484827},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720484979,"stop":1674720484993},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720485121,"stop":1674720485134},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720485274,"stop":1674720485287}],"attachments":[{"name":"Подсчёт сумм","source":"5d6df22b-339f-420f-8d4b-63ccd82ba169-attachment.txt","type":"text/plain"}],"parameters":[{"name":"totalSum","value":"492.0"}],"start":1674720482565,"stop":1674720485432}],"attachments":[],"parameters":[{"name":"totalSum","value":"492.0"}],"start":1674720482565,"stop":1674720485432}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"492.0"}],"start":1674720481442,"stop":1674720485432},{"name":"Выставляем чаевые на 0 и активируем СБ","status":"passed","stage":"finished","steps":[{"name":"Сброс чаевых","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1674720485432,"stop":1674720486448}],"attachments":[],"parameters":[],"start":1674720485432,"stop":1674720486584},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"totalSum","value":"492.0"}],"start":1674720486584,"stop":1674720486596}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"492.0"}],"start":1674720485432,"stop":1674720486596}],"attachments":[{"name":"browser dev tool logs","source":"8108eb5f-e48f-43aa-846e-b3eb3d23ae44-attachment"}],"parameters":[],"start":1674720472657,"stop":1674720486598}