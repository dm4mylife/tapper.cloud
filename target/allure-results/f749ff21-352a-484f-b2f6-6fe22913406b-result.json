{"uuid":"f749ff21-352a-484f-b2f6-6fe22913406b","historyId":"1e7c6e275568127f5672df36c7cee59a","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull]/[method:chooseDishesAndCheckAfterDivided()]","testCaseName":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","fullName":"tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull.chooseDishesAndCheckAfterDivided","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull]/[method:chooseDishesAndCheckAfterDivided()]"},{"name":"feature","value":"keeper - частичная оплата когда разделили счёт - рандомные поз без скидки - чай+сбор - карта - отзыв"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"19216@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull"},{"name":"testClass","value":"tapper.tests.e2e._2_7_DivideCheckWith4UsersPartPayAndFull"},{"name":"testMethod","value":"chooseDishesAndCheckAfterDivided"},{"name":"suite","value":"keeper - частичная оплата когда разделили счёт - рандомные поз без скидки - чай+сбор - карта - отзыв"}],"links":[],"name":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","status":"passed","stage":"finished","description":"","steps":[{"name":"Выбираем рандомное число блюд (1), проверяем сумму, проводим все проверки с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Выбираем рандомное число блюд (1) и считаем их сумму","status":"passed","stage":"finished","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"start":1668768035676,"stop":1668768037690},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be([visible, 5 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037724,"stop":1668768037734}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"},{"name":"time","value":"5"}],"start":1668768037724,"stop":1668768037734},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037757,"stop":1668768037766},{"name":"$(\".divide__check span.slider\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037766,"stop":1668768037818}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"}],"start":1668768037757,"stop":1668768037818}],"attachments":[],"parameters":[],"start":1668768035676,"stop":1668768037818},{"name":"Считаем сумму выбранных рандомных позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037818,"stop":1668768037821},{"name":"Генерация рандомного значения от 1 до 19","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"19"}],"start":1668768037834,"stop":1668768037834},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[15]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037834,"stop":1668768037851},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][15]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037882,"stop":1668768037893}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768037882,"stop":1668768037893},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][15]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037893,"stop":1668768037912},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][15]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][15]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037942,"stop":1668768037946}],"attachments":[],"parameters":[],"start":1668768037942,"stop":1668768037949},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][15]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037949,"stop":1668768037988}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668768037942,"stop":1668768037988},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[15]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768037988,"stop":1668768038248},{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038248,"stop":1668768038252}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"1"}],"start":1668768037818,"stop":1668768038252}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668768035676,"stop":1668768038252},{"name":"Проверяем сумму выбранных позиций заказа с разделенными позициями с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038259,"stop":1668768038274},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038274,"stop":1668768038285},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038285,"stop":1668768038295},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038295,"stop":1668768038306},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038306,"stop":1668768038317},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038317,"stop":1668768038329},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038329,"stop":1668768038341},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038341,"stop":1668768038352},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038352,"stop":1668768038362},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[9]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038362,"stop":1668768038373},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[10]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038373,"stop":1668768038384},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[11]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038384,"stop":1668768038395},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[12]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038395,"stop":1668768038406},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[13]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038406,"stop":1668768038417},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[14]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038417,"stop":1668768038428},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[15]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038428,"stop":1668768038441},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[15]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038466,"stop":1668768038478}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768038466,"stop":1668768038478},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[15]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038478,"stop":1668768038487},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[16]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038487,"stop":1668768038504},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[17]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038504,"stop":1668768038516},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[18]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038516,"stop":1668768038528},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='check__tips-heading'][text()='Отмеченные позиции:']/following-sibling::span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038566,"stop":1668768038577}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768038566,"stop":1668768038577}],"attachments":[],"parameters":[],"start":1668768038252,"stop":1668768038577},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","status":"passed","stage":"finished","steps":[{"name":"Отключаем чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768038577,"stop":1668768039592},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768039592,"stop":1668768039599},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768039599,"stop":1668768039611},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668768039611,"stop":1668768039619}],"attachments":[],"parameters":[],"start":1668768038577,"stop":1668768039619},{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","status":"passed","stage":"finished","steps":[{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768039619,"stop":1668768039626},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768039626,"stop":1668768040632},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040673,"stop":1668768040686},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040686,"stop":1668768040725}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"start":1668768040673,"stop":1668768040725},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 4 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040725,"stop":1668768040742},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040742,"stop":1668768040746},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040746,"stop":1668768040754},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040754,"stop":1668768040759},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040759,"stop":1668768040768},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768040768,"stop":1668768041774},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668768041774,"stop":1668768041780}],"attachments":[],"parameters":[],"start":1668768040754,"stop":1668768041780},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668768041781,"stop":1668768041781},{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041781,"stop":1668768041787},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041787,"stop":1668768041800},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"start":1668768041800,"stop":1668768041800},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.32"}],"start":1668768041800,"stop":1668768041800},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041835,"stop":1668768041844}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768041835,"stop":1668768041844},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041879,"stop":1668768041888}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768041879,"stop":1668768041888},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668768041888,"stop":1668768041888}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668768040742,"stop":1668768041888},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041910,"stop":1668768041919}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668768041910,"stop":1668768041919},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041953,"stop":1668768041963}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768041953,"stop":1668768041963},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041963,"stop":1668768041972},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768041997,"stop":1668768042006}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768041997,"stop":1668768042006},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042028,"stop":1668768042037}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768042028,"stop":1668768042037}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668768039619,"stop":1668768042037}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668768038577,"stop":1668768042037},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") should be([visible, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042059,"stop":1668768042069}],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"time","value":"2"}],"start":1668768042059,"stop":1668768042069},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042069,"stop":1668768042076},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042109,"stop":1668768042118}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668768042109,"stop":1668768042118},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668768042118,"stop":1668768042118},{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042118,"stop":1668768042121},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check .check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042146,"stop":1668768042156}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768042146,"stop":1668768042156},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042178,"stop":1668768042187}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768042178,"stop":1668768042187}],"attachments":[],"parameters":[],"start":1668768042069,"stop":1668768042187}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"155.0"}],"start":1668768042037,"stop":1668768042187},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","status":"passed","stage":"finished","steps":[{"name":"$(\".menu\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042187,"stop":1668768042193}],"attachments":[],"parameters":[],"start":1668768042187,"stop":1668768042193},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042193,"stop":1668768042197},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042197,"stop":1668768042203}],"attachments":[],"parameters":[],"start":1668768042193,"stop":1668768042203},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042236,"stop":1668768042246},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042246,"stop":1668768042277}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668768042236,"stop":1668768042277}],"attachments":[],"parameters":[],"start":1668768042203,"stop":1668768042284}],"attachments":[],"parameters":[],"start":1668768042193,"stop":1668768042284}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668768038577,"stop":1668768042284},{"name":"Проверяем что все варианты чаевых корректны","status":"passed","stage":"finished","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042284,"stop":1668768042290},{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768042290,"stop":1668768043303},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768043303,"stop":1668768043307},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768043307,"stop":1668768043313},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668768043314,"stop":1668768043319}],"attachments":[],"parameters":[],"start":1668768042290,"stop":1668768043319},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") should be([visible, 15 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768043345,"stop":1668768043355}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"time","value":"15"}],"start":1668768043345,"stop":1668768043355},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768043378,"stop":1668768043388}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668768043378,"stop":1668768043388},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768043410,"stop":1668768043419}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768043410,"stop":1668768043420}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"155.0"}],"start":1668768042284,"stop":1668768043420},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","status":"passed","stage":"finished","steps":[{"name":"Прощёлкиваем все чаевые и проверяем что суммы корректны и сходятся. Добавляем лог в аллюр","status":"passed","stage":"finished","steps":[{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768043420,"stop":1668768043423},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768043423,"stop":1668768044429},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768044437,"stop":1668768044440},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768044440,"stop":1668768044447},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768044447,"stop":1668768045460},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668768045460,"stop":1668768045466}],"attachments":[],"parameters":[],"start":1668768044437,"stop":1668768045466},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045486,"stop":1668768045493},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045493,"stop":1668768045512}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"}],"start":1668768045486,"stop":1668768045512},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045512,"stop":1668768045518},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045542,"stop":1668768045551}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668768045542,"stop":1668768045551},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668768045552,"stop":1668768045552},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045570,"stop":1668768045577}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668768045570,"stop":1668768045577},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045599,"stop":1668768045609}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768045599,"stop":1668768045609},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045631,"stop":1668768045640}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768045631,"stop":1668768045640},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045641,"stop":1668768045649},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045673,"stop":1668768045684},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045684,"stop":1668768045708}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668768045673,"stop":1668768045708}],"attachments":[{"name":"Подсчёт сумм","source":"c5adcd40-c77b-442f-a6f4-8e80d3cec364-attachment.txt","type":"text/plain"}],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668768043420,"stop":1668768045709}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668768043420,"stop":1668768045709}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668768042284,"stop":1668768045709}],"attachments":[],"parameters":[],"start":1668768038252,"stop":1668768045709},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045734,"stop":1668768045749},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045749,"stop":1668768045774}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668768045734,"stop":1668768045774}],"attachments":[],"parameters":[],"start":1668768045709,"stop":1668768045778}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668768035676,"stop":1668768045778},{"name":"Забираем коллекцию заблокированных позиций в заказе для следующего теста","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045791,"stop":1668768045800},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045801,"stop":1668768045808},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045808,"stop":1668768045816},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045816,"stop":1668768045824},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045824,"stop":1668768045832},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045832,"stop":1668768045838},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045838,"stop":1668768045846},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045846,"stop":1668768045853},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045853,"stop":1668768045861},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[9]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045861,"stop":1668768045868},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[10]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045868,"stop":1668768045875},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[11]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045875,"stop":1668768045882},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[12]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045882,"stop":1668768045889},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[13]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045889,"stop":1668768045897},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[14]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045897,"stop":1668768045904},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[15]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045905,"stop":1668768045912},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[15]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045912,"stop":1668768045921},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[15]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045945,"stop":1668768045954}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668768045945,"stop":1668768045954},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[16]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045954,"stop":1668768045961},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[17]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045961,"stop":1668768045967},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(19 elements)[18]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045967,"stop":1668768045974}],"attachments":[],"parameters":[],"start":1668768045778,"stop":1668768045974},{"name":"Очищаем все данные, рефрешим, передаём список ранее выбранных блюд, проверяем что выбранные блюда в статусе ожидаются после разделения чека","status":"passed","stage":"finished","steps":[{"name":"Очищаем локал и куки для разделения чека","status":"passed","stage":"finished","steps":[{"name":"$(\"clearCookies\") ","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045974,"stop":1668768045979},{"name":"$(\"refresh\") ","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768045981,"stop":1668768045992}],"attachments":[],"parameters":[],"start":1668768045974,"stop":1668768045992},{"name":"Меню корректно отображается","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (30сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList ul.dishList__list\") should be([visible, 30 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768046395,"stop":1668768047269}],"attachments":[],"parameters":[{"name":"element","value":"NoSuchElementException: no such element: Unable to locate element: {\"method\":\"css selector\",\"selector\":\".dishList ul.dishList__list\"}"},{"name":"time","value":"30"}],"start":1668768046395,"stop":1668768047269}],"attachments":[],"parameters":[],"start":1668768045992,"stop":1668768047269},{"name":"Проверяем что имя и сумма перечеркнуты у заблокированных блюд","status":"passed","stage":"finished","steps":[{"name":"$(\".vOrderHeader__separate\") should be([exist, visible])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768047270,"stop":1668768047293}],"attachments":[],"parameters":[],"start":1668768047269,"stop":1668768047297},{"name":"Проверяем что блюда, которые выбраны ранее, в статусе 'Ожидается'","status":"passed","stage":"finished","steps":[{"name":"$(\"[class='dishList__item disabled'][0]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668768047307,"stop":1668768047330}],"attachments":[],"parameters":[{"name":"chosenDishes","value":"{0={Барное пиво=155.0}}"}],"start":1668768047297,"stop":1668768047330}],"attachments":[],"parameters":[{"name":"chosenDishes","value":"{0={Барное пиво=155.0}}"}],"start":1668768045974,"stop":1668768047330}],"attachments":[],"parameters":[],"start":1668768035675,"stop":1668768047330}