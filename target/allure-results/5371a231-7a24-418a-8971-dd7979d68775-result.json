{"uuid":"5371a231-7a24-418a-8971-dd7979d68775","historyId":"8aab0a7cf4b5e069ce6ddc35d4d63fc","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_6_DivideCheckAndPartPayTest]/[method:chooseDishesForPay()]","testCaseName":"4. Выбираем рандомно оставшиеся блюда для оплаты, проверяем все суммы, в том числе ожидаемых","fullName":"tapper.tests.e2e._2_6_DivideCheckAndPartPayTest.chooseDishesForPay","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_6_DivideCheckAndPartPayTest]/[method:chooseDishesForPay()]"},{"name":"feature","value":"keeper - частичная оплата когда разделили счёт - рандомные поз без скидки - чай+сбор - карта - отзыв"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"15008@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e._2_6_DivideCheckAndPartPayTest"},{"name":"testClass","value":"tapper.tests.e2e._2_6_DivideCheckAndPartPayTest"},{"name":"testMethod","value":"chooseDishesForPay"},{"name":"suite","value":"keeper - частичная оплата когда разделили счёт - рандомные поз без скидки - чай+сбор - карта - отзыв"}],"links":[],"name":"4. Выбираем рандомно оставшиеся блюда для оплаты, проверяем все суммы, в том числе ожидаемых","status":"passed","stage":"finished","description":"","steps":[{"name":"Выбираем рандомное число блюд (1), проверяем сумму, проводим все проверки с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Выбираем рандомное число блюд (1) и считаем их сумму","status":"passed","stage":"finished","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"start":1668759415180,"stop":1668759417189},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be([visible, 5 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417220,"stop":1668759417230}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"},{"name":"time","value":"5"}],"start":1668759417220,"stop":1668759417230},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417254,"stop":1668759417263},{"name":"$(\".divide__check span.slider\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417263,"stop":1668759417308}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"}],"start":1668759417254,"stop":1668759417308}],"attachments":[],"parameters":[],"start":1668759415180,"stop":1668759417308},{"name":"Считаем сумму выбранных рандомных позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417308,"stop":1668759417310},{"name":"Генерация рандомного значения от 1 до 9","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"9"}],"start":1668759417318,"stop":1668759417318},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[5]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417318,"stop":1668759417329},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][5]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417365,"stop":1668759417376}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759417365,"stop":1668759417376},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][5]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417376,"stop":1668759417391},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][5]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][5]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417422,"stop":1668759417427}],"attachments":[],"parameters":[],"start":1668759417421,"stop":1668759417429},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][5]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417429,"stop":1668759417467}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668759417421,"stop":1668759417467},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[5]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417467,"stop":1668759417720},{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417720,"stop":1668759417722}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"1"}],"start":1668759417308,"stop":1668759417722}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668759415180,"stop":1668759417722},{"name":"Проверяем сумму выбранных позиций заказа с разделенными позициями с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417727,"stop":1668759417739},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417739,"stop":1668759417752},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417752,"stop":1668759417764},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417764,"stop":1668759417776},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417776,"stop":1668759417787},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417787,"stop":1668759417804},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[5]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417832,"stop":1668759417843}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759417832,"stop":1668759417843},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[5]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417843,"stop":1668759417860},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417860,"stop":1668759417872},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417872,"stop":1668759417884},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(9 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417884,"stop":1668759417895},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='check__tips-heading'][text()='Отмеченные позиции:']/following-sibling::span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417930,"stop":1668759417942}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759417930,"stop":1668759417942}],"attachments":[],"parameters":[],"start":1668759417722,"stop":1668759417942},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","status":"passed","stage":"finished","steps":[{"name":"Отключаем чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759417942,"stop":1668759418945},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759418945,"stop":1668759418949},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759418949,"stop":1668759418957},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759418957,"stop":1668759418964}],"attachments":[],"parameters":[],"start":1668759417942,"stop":1668759418964},{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","status":"passed","stage":"finished","steps":[{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759418964,"stop":1668759418968},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759418968,"stop":1668759419975},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420009,"stop":1668759420020},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420020,"stop":1668759420056}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"start":1668759420009,"stop":1668759420056},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 4 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420056,"stop":1668759420067},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420067,"stop":1668759420071},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420071,"stop":1668759420079},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420079,"stop":1668759420082},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420082,"stop":1668759420089},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759420089,"stop":1668759421098},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759421098,"stop":1668759421104}],"attachments":[],"parameters":[],"start":1668759420079,"stop":1668759421104},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668759421104,"stop":1668759421104},{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421104,"stop":1668759421108},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421108,"stop":1668759421119},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"start":1668759421119,"stop":1668759421119},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.32"}],"start":1668759421119,"stop":1668759421120},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421152,"stop":1668759421161}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759421152,"stop":1668759421161},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421193,"stop":1668759421202}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759421193,"stop":1668759421202},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668759421202,"stop":1668759421202}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759420067,"stop":1668759421202},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421225,"stop":1668759421234}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668759421225,"stop":1668759421234},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421267,"stop":1668759421277}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759421267,"stop":1668759421277},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421277,"stop":1668759421286},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421309,"stop":1668759421318}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759421309,"stop":1668759421318},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421341,"stop":1668759421350}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759421341,"stop":1668759421350}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759418964,"stop":1668759421350}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668759417942,"stop":1668759421350},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") should be([visible, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421373,"stop":1668759421383}],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"time","value":"2"}],"start":1668759421373,"stop":1668759421383},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421383,"stop":1668759421389},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421424,"stop":1668759421434}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668759421424,"stop":1668759421434},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668759421434,"stop":1668759421434},{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421434,"stop":1668759421437},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check .check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421462,"stop":1668759421472}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759421462,"stop":1668759421472},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421495,"stop":1668759421505}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759421495,"stop":1668759421505}],"attachments":[],"parameters":[],"start":1668759421383,"stop":1668759421505}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"155.0"}],"start":1668759421350,"stop":1668759421505},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","status":"passed","stage":"finished","steps":[{"name":"$(\".menu\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421505,"stop":1668759421509}],"attachments":[],"parameters":[],"start":1668759421505,"stop":1668759421509},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421509,"stop":1668759421513},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421513,"stop":1668759421519}],"attachments":[],"parameters":[],"start":1668759421509,"stop":1668759421519},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421552,"stop":1668759421562},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421562,"stop":1668759421594}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668759421552,"stop":1668759421594}],"attachments":[],"parameters":[],"start":1668759421519,"stop":1668759421598}],"attachments":[],"parameters":[],"start":1668759421509,"stop":1668759421598}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668759417942,"stop":1668759421598},{"name":"Проверяем что все варианты чаевых корректны","status":"passed","stage":"finished","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421598,"stop":1668759421602},{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759421602,"stop":1668759422610},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759422610,"stop":1668759422614},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759422614,"stop":1668759422620},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759422620,"stop":1668759422627}],"attachments":[],"parameters":[],"start":1668759421602,"stop":1668759422627},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") should be([visible, 15 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759422649,"stop":1668759422660}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"time","value":"15"}],"start":1668759422649,"stop":1668759422660},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759422683,"stop":1668759422693}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668759422683,"stop":1668759422693},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759422716,"stop":1668759422725}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759422716,"stop":1668759422725}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"155.0"}],"start":1668759421598,"stop":1668759422725},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","status":"passed","stage":"finished","steps":[{"name":"Прощёлкиваем все чаевые и проверяем что суммы корректны и сходятся. Добавляем лог в аллюр","status":"passed","stage":"finished","steps":[{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759422725,"stop":1668759422727},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759422727,"stop":1668759423731},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759423735,"stop":1668759423739},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759423739,"stop":1668759423745},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759423745,"stop":1668759424762},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668759424762,"stop":1668759424767}],"attachments":[],"parameters":[],"start":1668759423735,"stop":1668759424767},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424787,"stop":1668759424794},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424794,"stop":1668759424814}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"}],"start":1668759424787,"stop":1668759424814},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424814,"stop":1668759424821},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424848,"stop":1668759424859}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668759424848,"stop":1668759424859},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668759424859,"stop":1668759424859},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424881,"stop":1668759424890}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668759424881,"stop":1668759424890},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424918,"stop":1668759424929}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759424918,"stop":1668759424929},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424954,"stop":1668759424964}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759424954,"stop":1668759424964},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424964,"stop":1668759424974},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759424998,"stop":1668759425012},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759425012,"stop":1668759425038}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668759424998,"stop":1668759425038}],"attachments":[{"name":"Подсчёт сумм","source":"340420b3-206d-4408-9cec-5ec6d19297bb-attachment.txt","type":"text/plain"}],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759422725,"stop":1668759425039}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668759422725,"stop":1668759425039}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668759421598,"stop":1668759425039}],"attachments":[],"parameters":[],"start":1668759417722,"stop":1668759425039},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759425065,"stop":1668759425076},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759425076,"stop":1668759425102}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668759425065,"stop":1668759425102}],"attachments":[],"parameters":[],"start":1668759425039,"stop":1668759425107}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668759415180,"stop":1668759425107},{"name":"Проверка что сумма 'Другой пользователь' совпадает с суммой оплаченных позиций","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='check__tips-heading'][text()='Другой пользователь:']/following-sibling::span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759425146,"stop":1668759425157}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>- 155 ₽</span>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668759425146,"stop":1668759425157},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__list']//*[contains(@class,'disabled') or contains(@class,'paid')].snapshot(1 elements)[0]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668759425202,"stop":1668759425213}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668759425202,"stop":1668759425213}],"attachments":[],"parameters":[],"start":1668759425107,"stop":1668759425213}],"attachments":[],"parameters":[],"start":1668759415180,"stop":1668759425214}