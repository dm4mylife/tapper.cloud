{"uuid":"fd0ff4d5-cf2d-43be-bb4b-a98f3f378a3d","historyId":"9852f4cbd25fe0614275f45fd4e1a814","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_3_PartPayNoTipNoScTest]/[method:checkSumTipsSC()]","testCaseName":"3. Выбираем рандомно блюда, проверяем все суммы и условия, оплачиваем","fullName":"tapper.tests.e2e._2_3_PartPayNoTipNoScTest.checkSumTipsSC","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e._2_3_PartPayNoTipNoScTest]/[method:checkSumTipsSC()]"},{"name":"feature","value":"keeper - частичная оплата - обычные позиции - без чая и без сбора - карта - отзыв"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"19216@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e._2_3_PartPayNoTipNoScTest"},{"name":"testClass","value":"tapper.tests.e2e._2_3_PartPayNoTipNoScTest"},{"name":"testMethod","value":"checkSumTipsSC"},{"name":"suite","value":"keeper - частичная оплата - обычные позиции - без чая и бес сбора - карта - отзыв"}],"links":[],"name":"3. Выбираем рандомно блюда, проверяем все суммы и условия, оплачиваем","status":"passed","stage":"finished","description":"","steps":[{"name":"Выбираем рандомное число блюд (3), проверяем сумму, без чаевых, без сервисного сбора","status":"passed","stage":"finished","steps":[{"name":"Выбираем рандомное число блюд (3) и считаем их сумму","status":"passed","stage":"finished","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"start":1668767777731,"stop":1668767779740},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be([visible, 5 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767779774,"stop":1668767779784}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"},{"name":"time","value":"5"}],"start":1668767779774,"stop":1668767779784},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767779808,"stop":1668767779821},{"name":"$(\".divide__check span.slider\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767779821,"stop":1668767779879}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"}],"start":1668767779808,"stop":1668767779879}],"attachments":[],"parameters":[],"start":1668767777731,"stop":1668767779879},{"name":"Считаем сумму выбранных рандомных позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767779879,"stop":1668767779882},{"name":"Генерация рандомного значения от 1 до 16","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"16"}],"start":1668767779896,"stop":1668767779896},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[1]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767779896,"stop":1668767779913},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][1]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767779942,"stop":1668767779952}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767779942,"stop":1668767779952},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767779952,"stop":1668767779974},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780004,"stop":1668767780007}],"attachments":[],"parameters":[],"start":1668767780004,"stop":1668767780011},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][1]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780011,"stop":1668767780049}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668767780003,"stop":1668767780049},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[1]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780049,"stop":1668767780312},{"name":"Генерация рандомного значения от 1 до 16","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"16"}],"start":1668767780317,"stop":1668767780317},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[11]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780317,"stop":1668767780327},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][11]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780352,"stop":1668767780361}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767780352,"stop":1668767780361},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780362,"stop":1668767780377},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780408,"stop":1668767780413}],"attachments":[],"parameters":[],"start":1668767780408,"stop":1668767780416},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][11]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780416,"stop":1668767780455}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668767780408,"stop":1668767780455},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[11]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780455,"stop":1668767780715},{"name":"Генерация рандомного значения от 1 до 16","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"16"}],"start":1668767780719,"stop":1668767780720},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[13]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780720,"stop":1668767780730},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][13]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780756,"stop":1668767780766}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767780756,"stop":1668767780766},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][13]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780766,"stop":1668767780780},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][13]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][13]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780808,"stop":1668767780813}],"attachments":[],"parameters":[],"start":1668767780808,"stop":1668767780816},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][13]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780816,"stop":1668767780855}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668767780808,"stop":1668767780855},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[13]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767780856,"stop":1668767781111},{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781111,"stop":1668767781115}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"3"}],"start":1668767779879,"stop":1668767781115}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"start":1668767777731,"stop":1668767781115},{"name":"Проверяем сумму выбранных позиций заказа без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781122,"stop":1668767781134},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781134,"stop":1668767781144},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[1]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781169,"stop":1668767781178}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767781168,"stop":1668767781178},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[1]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781178,"stop":1668767781187},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781187,"stop":1668767781197},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781197,"stop":1668767781208},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781208,"stop":1668767781219},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781219,"stop":1668767781230},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781230,"stop":1668767781243},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781243,"stop":1668767781254},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781254,"stop":1668767781265},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[9]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781265,"stop":1668767781287},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[10]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781287,"stop":1668767781300},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[11]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781300,"stop":1668767781312},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[11]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781339,"stop":1668767781348}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767781339,"stop":1668767781348},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[11]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781348,"stop":1668767781357},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[12]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781358,"stop":1668767781371},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[13]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781371,"stop":1668767781383},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[13]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781411,"stop":1668767781421}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767781411,"stop":1668767781421},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[13]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781421,"stop":1668767781431},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[14]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781432,"stop":1668767781443},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(16 elements)[15]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781444,"stop":1668767781456},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='check__tips-heading'][text()='Отмеченные позиции:']/following-sibling::span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781492,"stop":1668767781503}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>465 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767781492,"stop":1668767781503}],"attachments":[],"parameters":[],"start":1668767781115,"stop":1668767781503},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","status":"passed","stage":"finished","steps":[{"name":"Отключаем чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767781503,"stop":1668767782513},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767782513,"stop":1668767782520},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767782520,"stop":1668767782534},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668767782534,"stop":1668767782541}],"attachments":[],"parameters":[],"start":1668767781503,"stop":1668767782541},{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","status":"passed","stage":"finished","steps":[{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767782541,"stop":1668767782548},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767782548,"stop":1668767783563},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783600,"stop":1668767783611},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783611,"stop":1668767783646}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"start":1668767783600,"stop":1668767783646},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 4 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783646,"stop":1668767783660},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783660,"stop":1668767783664},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783664,"stop":1668767783671},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783672,"stop":1668767783677},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783677,"stop":1668767783684},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767783684,"stop":1668767784691},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668767784691,"stop":1668767784697}],"attachments":[],"parameters":[],"start":1668767783672,"stop":1668767784697},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"start":1668767784697,"stop":1668767784698},{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784698,"stop":1668767784704},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784704,"stop":1668767784717},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"start":1668767784717,"stop":1668767784717},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.97"}],"start":1668767784717,"stop":1668767784717},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784754,"stop":1668767784763}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767784754,"stop":1668767784763},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784799,"stop":1668767784808}],"attachments":[],"parameters":[{"name":"selector","value":"<span>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767784799,"stop":1668767784808},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"start":1668767784808,"stop":1668767784808}],"attachments":[],"parameters":[{"name":"totalSum","value":"465.0"}],"start":1668767783660,"stop":1668767784808},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784831,"stop":1668767784841}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668767784831,"stop":1668767784841},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784876,"stop":1668767784886}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767784876,"stop":1668767784886},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784886,"stop":1668767784897},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784923,"stop":1668767784933}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767784923,"stop":1668767784933},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784957,"stop":1668767784968}],"attachments":[],"parameters":[{"name":"selector","value":"<span>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767784957,"stop":1668767784968}],"attachments":[],"parameters":[{"name":"totalSum","value":"465.0"}],"start":1668767782541,"stop":1668767784968}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"465.0"}],"start":1668767781503,"stop":1668767784968},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") should be([visible, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767784992,"stop":1668767785002}],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"time","value":"2"}],"start":1668767784992,"stop":1668767785002},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785002,"stop":1668767785008},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785043,"stop":1668767785053}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(6.975\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668767785043,"stop":1668767785053},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"start":1668767785053,"stop":1668767785053},{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785053,"stop":1668767785056},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check .check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785083,"stop":1668767785094}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767785083,"stop":1668767785094},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785120,"stop":1668767785129}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767785120,"stop":1668767785129}],"attachments":[],"parameters":[],"start":1668767785002,"stop":1668767785129}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"465.0"}],"start":1668767784968,"stop":1668767785129},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","status":"passed","stage":"finished","steps":[{"name":"$(\".menu\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785129,"stop":1668767785135}],"attachments":[],"parameters":[],"start":1668767785129,"stop":1668767785135},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785135,"stop":1668767785138},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785138,"stop":1668767785145}],"attachments":[],"parameters":[],"start":1668767785135,"stop":1668767785145},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785180,"stop":1668767785190},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785190,"stop":1668767785223}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668767785180,"stop":1668767785223},{"name":"Генерация рандомного значения от 1 до 3","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"3"}],"start":1668767785235,"stop":1668767785235},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][0]\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785271,"stop":1668767785281},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][0]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785281,"stop":1668767785315}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>15%</li>"}],"start":1668767785271,"stop":1668767785315},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][0]\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785315,"stop":1668767785327},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled') and not(text()=' 0% ')][0]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785327,"stop":1668767785336}],"attachments":[],"parameters":[],"start":1668767785145,"stop":1668767785336}],"attachments":[],"parameters":[],"start":1668767785135,"stop":1668767785336}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"465.0"}],"start":1668767781503,"stop":1668767785336},{"name":"Выставляем чаевые на 0 и деактивируем СБ","status":"passed","stage":"finished","steps":[{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","status":"passed","stage":"finished","steps":[{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785337,"stop":1668767785340},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767785340,"stop":1668767786349},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786373,"stop":1668767786382},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786382,"stop":1668767786411}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"start":1668767786372,"stop":1668767786411},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 4 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786411,"stop":1668767786427},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786428,"stop":1668767786432},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786432,"stop":1668767786439},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"6.975"}],"start":1668767786439,"stop":1668767786439}],"attachments":[],"parameters":[{"name":"totalSum","value":"465.0"}],"start":1668767786427,"stop":1668767786439},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786465,"stop":1668767786474}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668767786465,"stop":1668767786474},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786499,"stop":1668767786509}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767786498,"stop":1668767786509},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786509,"stop":1668767786518},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786542,"stop":1668767786551}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767786542,"stop":1668767786551},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786573,"stop":1668767786582}],"attachments":[],"parameters":[{"name":"selector","value":"<span>471.97 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668767786573,"stop":1668767786582}],"attachments":[],"parameters":[{"name":"totalSum","value":"465.0"}],"start":1668767785337,"stop":1668767786582},{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767786582,"stop":1668767787598},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767787598,"stop":1668767787602},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668767787602,"stop":1668767787608},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668767787608,"stop":1668767787614}],"attachments":[],"parameters":[],"start":1668767786582,"stop":1668767787614}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"465.0"}],"start":1668767785337,"stop":1668767787614}],"attachments":[],"parameters":[],"start":1668767781115,"stop":1668767787614}],"attachments":[],"parameters":[{"name":"amountDishes","value":"3"}],"start":1668767777731,"stop":1668767787614}],"attachments":[],"parameters":[],"start":1668767777731,"stop":1668767787615}