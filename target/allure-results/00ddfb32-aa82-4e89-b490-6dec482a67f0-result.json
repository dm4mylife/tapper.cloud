{"uuid":"00ddfb32-aa82-4e89-b490-6dec482a67f0","historyId":"1ab47fe641429ff28d079ecc7f219b04","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.e2e._1_2_DivideAndPayTillEndTest]/[method:chooseDishesAndCheckAfterDivided()]","testCaseName":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","fullName":"tapper.tests.e2e._1_2_DivideAndPayTillEndTest.chooseDishesAndCheckAfterDivided","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.e2e._1_2_DivideAndPayTillEndTest]/[method:chooseDishesAndCheckAfterDivided()]"},{"name":"epic","value":"E2E - тесты (полные)"},{"name":"feature","value":"keeper - оплата, разделяя счёт по позиции до самого конца - рандомные поз без скидки - чай+сбор - карта"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"8496@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(17)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.e2e._1_2_DivideAndPayTillEndTest"},{"name":"testClass","value":"tapper.tests.e2e._1_2_DivideAndPayTillEndTest"},{"name":"testMethod","value":"chooseDishesAndCheckAfterDivided"},{"name":"suite","value":"keeper - оплата, разделяя счёт по позиции до самого конца - рандомные поз без скидки - чай+сбор - карта"}],"links":[],"name":"3. Выбираем рандомно блюда, проверяем все суммы и условия, проверяем что после шаринга выбранные позиции в ожидаются","status":"passed","stage":"finished","description":"","steps":[{"name":"Выбираем рандомное число блюд (1), проверяем сумму, проводим все проверки с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Выбираем рандомное число блюд (1) и считаем их сумму","status":"passed","stage":"finished","steps":[{"name":"Переключаем на разделение счёта, ждём что все статусы прогружены у позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительное ожидание из-за долгой загрузки страницы,элементов,скриптов (2000 мс)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"ms","value":"2000"}],"start":1668754206077,"stop":1668754208080},{"name":"Элемент присутствует на странице в ходе длительной загрузки (5сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be([visible, 5 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208124,"stop":1668754208137}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"},{"name":"time","value":"5"}],"start":1668754208124,"stop":1668754208137},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".divide__check span.slider\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208170,"stop":1668754208183},{"name":"$(\".divide__check span.slider\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208183,"stop":1668754208242}],"attachments":[],"parameters":[{"name":"element","value":"<span class=\"slider\" data-v-75978ed6></span>"}],"start":1668754208170,"stop":1668754208242}],"attachments":[],"parameters":[],"start":1668754206077,"stop":1668754208242},{"name":"Считаем сумму выбранных рандомных позиций","status":"passed","stage":"finished","steps":[{"name":"Принудительно прячем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208242,"stop":1668754208246},{"name":"Генерация рандомного значения от 1 до 10","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"min","value":"1"},{"name":"max","value":"10"}],"start":1668754208262,"stop":1668754208262},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[7]\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208263,"stop":1668754208280},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='sum'][7]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208321,"stop":1668754208336}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754208320,"stop":1668754208336},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][7]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208336,"stop":1668754208358},{"name":"Скрол до элемента и клик по нему","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][7]\") scroll into view(false)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][7]\") get wrapped element()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208397,"stop":1668754208402}],"attachments":[],"parameters":[],"start":1668754208396,"stop":1668754208405},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//*[@class='dish__checkbox-content'][7]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208405,"stop":1668754208447}],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"dish__checkbox-content\" data-v-4926b37a>Барное пиво</div>"}],"start":1668754208396,"stop":1668754208447},{"name":"$(\"By.xpath: //*[@class='dishList__item active'][not(@class='paid') and not(@class='disabled')]//input[7]\") should be([checked, 10 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208447,"stop":1668754208715},{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208716,"stop":1668754208722}],"attachments":[],"parameters":[{"name":"neededDishesAmount","value":"1"}],"start":1668754208242,"stop":1668754208722}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668754206077,"stop":1668754208722},{"name":"Проверяем сумму выбранных позиций заказа с разделенными позициями с чаевыми и СБ","status":"passed","stage":"finished","steps":[{"name":"Считаем сумму всех выбранных позиций в заказе при разделении","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[0]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208731,"stop":1668754208745},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[1]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208745,"stop":1668754208759},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[2]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208759,"stop":1668754208771},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[3]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208772,"stop":1668754208784},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[4]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208784,"stop":1668754208797},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[5]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208797,"stop":1668754208810},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[6]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208810,"stop":1668754208823},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[7]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208824,"stop":1668754208837},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[7]/.sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208866,"stop":1668754208878}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"sum\" data-v-4926b37a>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754208866,"stop":1668754208878},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[7]/.dish__checkbox-text\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208879,"stop":1668754208890},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[8]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208893,"stop":1668754208907},{"name":"$(\".dishList__list li [class='dishList__item active'].snapshot(10 elements)[9]/input+span\") get css value(background-image)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208907,"stop":1668754208920},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='check__tips-heading'][text()='Отмеченные позиции:']/following-sibling::span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208971,"stop":1668754208986}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754208971,"stop":1668754208987}],"attachments":[],"parameters":[],"start":1668754208722,"stop":1668754208988},{"name":"Проверяем сумму за сами блюда с 'Итого к оплате' и счётчиком в иконке кошелька без СБ и чаевых","status":"passed","stage":"finished","steps":[{"name":"Отключаем чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754208989,"stop":1668754209998},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754209999,"stop":1668754210007},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754210007,"stop":1668754210025},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668754210025,"stop":1668754210037}],"attachments":[],"parameters":[],"start":1668754208989,"stop":1668754210037},{"name":"Выставляем чаевые на 0, проверяем что чаевые не участвуют в общей сумме и СБ","status":"passed","stage":"finished","steps":[{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754210038,"stop":1668754210040},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754210040,"stop":1668754211065},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211106,"stop":1668754211119},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211119,"stop":1668754211155}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item\" data-v-9d9e02de>0%</li>"}],"start":1668754211106,"stop":1668754211155},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211156,"stop":1668754211172},{"name":"Проверка логики суммы сервисного сбора с общей суммой и чаевыми","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211172,"stop":1668754211177},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211177,"stop":1668754211187},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211187,"stop":1668754211191},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211192,"stop":1668754211200},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754211200,"stop":1668754212205},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668754212205,"stop":1668754212212}],"attachments":[],"parameters":[],"start":1668754211187,"stop":1668754212212},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668754212213,"stop":1668754212214},{"name":"$(\".tips\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212214,"stop":1668754212222},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212222,"stop":1668754212236},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"0.0"}],"start":1668754212236,"stop":1668754212236},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.32"}],"start":1668754212236,"stop":1668754212236},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212279,"stop":1668754212291}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754212279,"stop":1668754212291},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212334,"stop":1668754212345}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754212333,"stop":1668754212345},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.3249999999999997"}],"start":1668754212345,"stop":1668754212345}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668754211172,"stop":1668754212345},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][text()=' 0% ']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212376,"stop":1668754212389}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668754212376,"stop":1668754212389},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212430,"stop":1668754212442}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754212430,"stop":1668754212442},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212442,"stop":1668754212453},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212481,"stop":1668754212493}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754212481,"stop":1668754212493},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".priceCard>span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212523,"stop":1668754212534}],"attachments":[],"parameters":[{"name":"selector","value":"<span>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754212523,"stop":1668754212534}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668754210038,"stop":1668754212534}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668754208988,"stop":1668754212534},{"name":"Проверяем что сумма всех блюд совпадает с итоговой без чаевых и СБ","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (2сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") should be([visible, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212562,"stop":1668754212574}],"attachments":[],"parameters":[{"name":"element","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"time","value":"2"}],"start":1668754212562,"stop":1668754212574},{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212574,"stop":1668754212582},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212621,"stop":1668754212632}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668754212621,"stop":1668754212633},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668754212633,"stop":1668754212633},{"name":"$(\".custom-input input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212633,"stop":1668754212638},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check .check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212670,"stop":1668754212684}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754212670,"stop":1668754212684},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212718,"stop":1668754212731}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754212718,"stop":1668754212731}],"attachments":[],"parameters":[],"start":1668754212574,"stop":1668754212732}],"attachments":[],"parameters":[{"name":"totalSumByDishesInOrder","value":"155.0"}],"start":1668754212534,"stop":1668754212732},{"name":"Проверяем что сумма 'Итого к оплате' совпадает с суммой счетчика в иконке кошелька","status":"passed","stage":"finished","steps":[{"name":"$(\".menu\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212733,"stop":1668754212741}],"attachments":[],"parameters":[],"start":1668754212732,"stop":1668754212741},{"name":"Включаем рандомные чаевые и сервисный сбор","status":"passed","stage":"finished","steps":[{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212741,"stop":1668754212746},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212746,"stop":1668754212755}],"attachments":[],"parameters":[],"start":1668754212741,"stop":1668754212755},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212798,"stop":1668754212811},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212811,"stop":1668754212852}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668754212798,"stop":1668754212852}],"attachments":[],"parameters":[],"start":1668754212755,"stop":1668754212860}],"attachments":[],"parameters":[],"start":1668754212741,"stop":1668754212860}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668754208988,"stop":1668754212860},{"name":"Проверяем что все варианты чаевых корректны","status":"passed","stage":"finished","steps":[{"name":"Проверяем что процент установленных по умолчанию чаевых рассчитывается корректно с СБ и без","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum input\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212860,"stop":1668754212869},{"name":"Деактивируем СБ если активен","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754212869,"stop":1668754213883},{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754213883,"stop":1668754213888},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754213888,"stop":1668754213895},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668754213896,"stop":1668754213903}],"attachments":[],"parameters":[],"start":1668754212869,"stop":1668754213903},{"name":"Элемент присутствует на странице в ходе длительной загрузки (15сек.)","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") should be([visible, 15 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754213944,"stop":1668754213957}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"time","value":"15"}],"start":1668754213944,"stop":1668754213957},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[@class='tips__list-item active']\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754214002,"stop":1668754214017}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668754214002,"stop":1668754214018},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754214056,"stop":1668754214070}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>155 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754214055,"stop":1668754214070}],"attachments":[],"parameters":[{"name":"totalSumWithoutTips","value":"155.0"}],"start":1668754212860,"stop":1668754214071},{"name":"Проверяем что разные проценты чаевых рассчитываются корректно во всех полях и в суммах вместе с СБ не разделяя счёт","status":"passed","stage":"finished","steps":[{"name":"Прощёлкиваем все чаевые и проверяем что суммы корректны и сходятся. Добавляем лог в аллюр","status":"passed","stage":"finished","steps":[{"name":"Принудительно раскрываем таббар","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754214072,"stop":1668754214075},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754214075,"stop":1668754215083},{"name":"Активируем СБ если не активен","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") exists()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754215091,"stop":1668754215096},{"name":"$(\".payment__conditions:first-of-type input\") is selected()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754215096,"stop":1668754215106},{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754215106,"stop":1668754216113},{"name":"Кнопка видна и клик по ней (JS)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":".payment__conditions:first-of-type"}],"start":1668754216113,"stop":1668754216120}],"attachments":[],"parameters":[],"start":1668754215091,"stop":1668754216120},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216146,"stop":1668754216154},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216154,"stop":1668754216176}],"attachments":[],"parameters":[{"name":"element","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"}],"start":1668754216146,"stop":1668754216176},{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") should have([match attribute class~/tips__list-item active/, 2 s.])","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216176,"stop":1668754216184},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".payment__conditions:first-of-type\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216217,"stop":1668754216230}],"attachments":[],"parameters":[{"name":"selector","value":"<label class=\"payment__conditions\">Я хочу взять на себя сервисный сбор Tapper(2.325\n₽\n)</label>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1668754216217,"stop":1668754216231},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"2.325"}],"start":1668754216231,"stop":1668754216231},{"name":"Преобразовываем\\вырезаем текст из селектора в число","status":"passed","stage":"finished","steps":[{"name":"$(\"By.xpath: //*[contains(@class,'tips__list-item')][not(@class='tips__list-item disabled')].snapshot(1 elements)[0]\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216258,"stop":1668754216266}],"attachments":[],"parameters":[{"name":"selector","value":"<li class=\"tips__list-item active\" data-v-9d9e02de>0%</li>"},{"name":"regex","value":"\\D+"}],"start":1668754216258,"stop":1668754216266},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__totalPay-heading+span\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216310,"stop":1668754216326}],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-03687ea8>157.33 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754216310,"stop":1668754216326},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[{"name":"$(\".check__tips .check__tips-sum\") get text()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216358,"stop":1668754216370}],"attachments":[],"parameters":[{"name":"selector","value":"<span class=\"check__tips-sum\" data-v-03687ea8>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1668754216358,"stop":1668754216370},{"name":"$(\".custom-input input\") get value()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216370,"stop":1668754216381},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216412,"stop":1668754216425},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216425,"stop":1668754216455}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668754216412,"stop":1668754216455}],"attachments":[{"name":"Подсчёт сумм","source":"3084d87d-bb17-4a8d-8ceb-4ebba922ff39-attachment.txt","type":"text/plain"}],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668754214072,"stop":1668754216457}],"attachments":[],"parameters":[{"name":"totalSum","value":"155.0"}],"start":1668754214071,"stop":1668754216457}],"attachments":[],"parameters":[{"name":"cleanTotalSum","value":"155.0"}],"start":1668754212860,"stop":1668754216457}],"attachments":[],"parameters":[],"start":1668754208722,"stop":1668754216457},{"name":"Устанавливаем рандомные чаевые","status":"passed","stage":"finished","steps":[{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[{"name":"$(\".tips__sum-btn[type='reset']\") should be(visible)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216497,"stop":1668754216512},{"name":"$(\".tips__sum-btn[type='reset']\") click()","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1668754216512,"stop":1668754216544}],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"tips__sum-btn\" data-v-9d9e02de type=\"reset\"></button>"}],"start":1668754216497,"stop":1668754216544}],"attachments":[],"parameters":[],"start":1668754216457,"stop":1668754216550}],"attachments":[],"parameters":[{"name":"amountDishes","value":"1"}],"start":1668754206077,"stop":1668754216550}],"attachments":[],"parameters":[],"start":1668754206076,"stop":1668754216551}