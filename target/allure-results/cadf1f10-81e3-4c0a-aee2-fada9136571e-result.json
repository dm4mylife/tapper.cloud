{"uuid":"cadf1f10-81e3-4c0a-aee2-fada9136571e","historyId":"80b8ac9bcad4a815e8564fc929eaa9e3","testCaseId":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._7_modificator._7_0_PaidFullPayTest]/[method:savePaymentDataForAcquiring()]","testCaseName":"4. Сохраняем данные по оплате для проверки их корректности на эквайринге, и транзакции б2п","fullName":"tapper.tests.keeper_e2e._7_modificator._7_0_PaidFullPayTest.savePaymentDataForAcquiring","labels":[{"name":"junit.platform.uniqueid","value":"[engine:junit-jupiter]/[class:tapper.tests.keeper_e2e._7_modificator._7_0_PaidFullPayTest]/[method:savePaymentDataForAcquiring()]"},{"name":"story","value":"Платные модификаторы - полная оплата"},{"name":"epic","value":"RKeeper"},{"name":"feature","value":"Модификаторы"},{"name":"host","value":"WIN-UJN5UBMF8DD"},{"name":"thread","value":"9972@WIN-UJN5UBMF8DD.ForkJoinPool-1-worker-3(18)"},{"name":"framework","value":"junit-platform"},{"name":"language","value":"java"},{"name":"package","value":"tapper.tests.keeper_e2e._7_modificator._7_0_PaidFullPayTest"},{"name":"testClass","value":"tapper.tests.keeper_e2e._7_modificator._7_0_PaidFullPayTest"},{"name":"testMethod","value":"savePaymentDataForAcquiring"},{"name":"suite","value":"tapper.tests.keeper_e2e._7_modificator._7_0_PaidFullPayTest"}],"links":[],"name":"4. Сохраняем данные по оплате для проверки их корректности на эквайринге, и транзакции б2п","status":"passed","stage":"finished","description":"","steps":[{"name":"Сохранение общей суммы в таппере для передачи в другой тест","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-5143af85>913.5 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1672323581049,"stop":1672323581060}],"attachments":[],"parameters":[],"start":1672323581021,"stop":1672323581060},{"name":"Сохранение всех сумм для проверки что транзакция создалась на b2p","status":"passed","stage":"finished","steps":[{"name":"Сбрасываем чаевые и СБ чтобы получить чистую сумму за позиции","status":"passed","stage":"finished","steps":[{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-1369a455 data-v-641bdbfc>Я хочу взять на себя сервисный сбор Tapper (13.50₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1672323581096,"stop":1672323581109},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"13.5"}],"start":1672323581109,"stop":1672323581109},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-5143af85>0 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1672323581144,"stop":1672323581155},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<span data-v-5143af85>913.5 ₽</span>"},{"name":"regex","value":"\\s₽"}],"start":1672323581181,"stop":1672323581192},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"900.0"}],"start":1672323581192,"stop":1672323581192}],"attachments":[],"parameters":[],"start":1672323581060,"stop":1672323581192},{"name":"Преобразовываем\\вырезаем текст из селектора в дабл","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"selector","value":"<div class=\"serviceFee\" data-v-1369a455 data-v-641bdbfc>Я хочу взять на себя сервисный сбор Tapper (13.50₽)</div>"},{"name":"regex","value":"[^\\d\\.]+"}],"start":1672323581278,"stop":1672323581289},{"name":"Обрезаем у дабла всё до двух чисел после запятой","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"doubleNumber","value":"13.5"}],"start":1672323581289,"stop":1672323581289}],"attachments":[],"parameters":[],"start":1672323581060,"stop":1672323581289},{"name":"Клик в оплату, появление лоадера и проверка что мы на эквайринге","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1672323581289,"stop":1672323582294},{"name":"Клик по кнопке оплаты","status":"passed","stage":"finished","steps":[{"name":"Плавный скрол до самого низа страницы","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1672323582294,"stop":1672323583309},{"name":"Кнопка видна и клик по ней","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<button class=\"baseButton baseButton--blue undefined\" data-auto=\"paymentButton\" data-v-1369a455 data-v-7131f0e2 type=\"button\">Оплатить</button>"}],"start":1672323583346,"stop":1672323583390}],"attachments":[],"parameters":[],"start":1672323582294,"stop":1672323583390},{"name":"Отображается лоадер на странице","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1672323583390,"stop":1672323583404},{"name":"Проверка что мы находимся на странице эквайринга","status":"passed","stage":"finished","steps":[{"name":"Проверка что текст {text} содержится в текущем URL","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"url","value":"https://test.best2pay.net/"}],"start":1672323583412,"stop":1672323587358}],"attachments":[],"parameters":[],"start":1672323583412,"stop":1672323587358},{"name":"Проверка попапа ВПН и что форма оплаты появилась","status":"passed","stage":"finished","steps":[{"name":"Элемент присутствует на странице в ходе длительной загрузки (10сек.)","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[{"name":"element","value":"<div class=\"form__body form__body--payment\" data-resizetarget=\"body\">Выберите способ оплаты\nБанковская карта\nНомер карты\nСрок действия\nCVV\nОтправить чек\nСумма к оплате\n913.5\nОплатить\nНажимая на кнопку «Оплатить», вы соглашаетесь с условиями оферты</div>"},{"name":"time","value":"10"}],"start":1672323587424,"stop":1672323587438},{"name":"Проверка попапа ВПН","status":"passed","stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1672323587438,"stop":1672323587453}],"attachments":[],"parameters":[],"start":1672323587358,"stop":1672323587453}],"attachments":[],"parameters":[],"start":1672323581289,"stop":1672323587453}],"attachments":[],"parameters":[],"start":1672323581021,"stop":1672323587454}